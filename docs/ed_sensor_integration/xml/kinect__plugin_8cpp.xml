<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="kinect__plugin_8cpp" kind="file" language="C++">
    <compoundname>kinect_plugin.cpp</compoundname>
    <includes refid="kinect__plugin_8h" local="yes">kinect_plugin.h</includes>
    <includes local="no">rgbd/image.h</includes>
    <includes local="no">ros/node_handle.h</includes>
    <includes local="no">ed/entity.h</includes>
    <includes local="no">ed/error_context.h</includes>
    <includes local="no">ed/update_request.h</includes>
    <includes local="no">ed/uuid.h</includes>
    <includes local="no">ed/world_model.h</includes>
    <includes local="no">tue/config/reader.h</includes>
    <includes local="no">rgbd/view.h</includes>
    <includes refid="association_8h" local="yes">ed/kinect/association.h</includes>
    <includes local="no">rgbd/serialization.h</includes>
    <includes local="no">tue/serialization/conversions.h</includes>
    <includes local="no">ed/io/json_writer.h</includes>
    <includes local="no">ed/serialization/serialization.h</includes>
    <includes local="no">geolib/ros/msg_conversions.h</includes>
    <includes refid="ray__tracer_8h" local="yes">ray_tracer.h</includes>
    <incdepgraph>
      <node id="7">
        <label>exception</label>
        <link refid="cpp/header/exception" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="39">
        <label>ed/serialization/serialization.h</label>
        <link refid="serialization_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="15">
        <label>ed/kinect/segmenter.h</label>
        <link refid="segmenter_8h"/>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>ed/kinect/entity_update.h</label>
        <link refid="kinect_2entity__update_8h"/>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>ros/publisher.h</label>
      </node>
      <node id="12">
        <label>vector</label>
        <link refid="cpp/header/vector" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="1">
        <label>kinect_plugin.cpp</label>
        <link refid="kinect__plugin_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>opencv2/core/core.hpp</label>
      </node>
      <node id="33">
        <label>tue/config/reader.h</label>
        <link refid="reader_8h.html" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags"/>
      </node>
      <node id="22">
        <label>ed_sensor_integration_msgs/GetImage.h</label>
      </node>
      <node id="2">
        <label>kinect_plugin.h</label>
        <link refid="kinect__plugin_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>image_geometry/pinhole_camera_model.h</label>
      </node>
      <node id="9">
        <label>rgbd/types.h</label>
        <link refid="types_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="20">
        <label>rgbd/image_buffer/image_buffer.h</label>
        <link refid="image__buffer_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags"/>
      </node>
      <node id="27">
        <label>rgbd/image.h</label>
        <link refid="image_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="8">
        <label>geolib/datatypes.h</label>
        <link refid="datatypes_8h.html" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags"/>
      </node>
      <node id="35">
        <label>ed/kinect/association.h</label>
        <link refid="association_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>rgbd/serialization.h</label>
        <link refid="serialization_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="26">
        <label>visualization_msgs/Marker.h</label>
      </node>
      <node id="14">
        <label>map</label>
        <link refid="cpp/header/map" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="21">
        <label>ros/service_server.h</label>
      </node>
      <node id="17">
        <label>ed/uuid.h</label>
        <link refid="uuid_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="5">
        <label>ed/kinect/updater.h</label>
        <link refid="kinect_2updater_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="34">
        <label>rgbd/view.h</label>
        <link refid="view_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="41">
        <label>ray_tracer.h</label>
        <link refid="ray__tracer_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>ed_sensor_integration_msgs/RayTrace.h</label>
      </node>
      <node id="18">
        <label>ed/convex_hull.h</label>
        <link refid="convex__hull_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="4">
        <label>ed/types.h</label>
        <link refid="types_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="30">
        <label>ed/error_context.h</label>
        <link refid="error__context_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="40">
        <label>geolib/ros/msg_conversions.h</label>
        <link refid="msg__conversions_8h.html" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags"/>
      </node>
      <node id="29">
        <label>ed/entity.h</label>
        <link refid="entity_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="38">
        <label>ed/io/json_writer.h</label>
        <link refid="json__writer_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="13">
        <label>ed/models/model_loader.h</label>
        <link refid="model__loader_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="42">
        <label>set</label>
        <link refid="cpp/header/set" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="23">
        <label>ed_sensor_integration_msgs/Update.h</label>
      </node>
      <node id="28">
        <label>ros/node_handle.h</label>
      </node>
      <node id="6">
        <label>ed/kinect/fitter.h</label>
        <link refid="fitter_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>ed/plugin.h</label>
        <link refid="plugin_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="31">
        <label>ed/update_request.h</label>
        <link refid="update__request_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="32">
        <label>ed/world_model.h</label>
        <link refid="world__model_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="37">
        <label>tue/serialization/conversions.h</label>
        <link refid="conversions_8h.html" external="/home/docker/ros/noetic/system/build/docs/tue_serialization/tags"/>
      </node>
      <node id="11">
        <label>beam_model.h</label>
        <link refid="beam__model_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="kinect__plugin_8h" kindref="compound">kinect_plugin.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="image_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd/image.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;ros/node_handle.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="entity_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/entity.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="error__context_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/error_context.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="update__request_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/update_request.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="uuid_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/uuid.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="world__model_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/world_model.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="reader_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue/config/reader.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="view_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd/view.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="association_8h" kindref="compound">ed/kinect/association.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//<sp/>GetImage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="serialization_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd/serialization.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="conversions_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/tue_serialization/tags">tue/serialization/conversions.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="json__writer_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/io/json_writer.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="serialization_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/serialization/serialization.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="msg__conversions_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geolib/ros/msg_conversions.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="comment">//#include<sp/>&lt;opencv2/highgui/highgui.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ray__tracer_8h" kindref="compound">ray_tracer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="classKinectPlugin_1a9a190618ca7487efbdf0ee6bcc1964a0" refkind="member"><highlight class="normal"><ref refid="classKinectPlugin_1a9a190618ca7487efbdf0ee6bcc1964a0" kindref="member">KinectPlugin::KinectPlugin</ref>()</highlight></codeline>
<codeline lineno="34"><highlight class="normal">{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;constructor&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="36"><highlight class="normal">}</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="classKinectPlugin_1abb2308736e2b8c0fba01e44d0d020ee4" refkind="member"><highlight class="normal"><ref refid="classKinectPlugin_1abb2308736e2b8c0fba01e44d0d020ee4" kindref="member">KinectPlugin::~KinectPlugin</ref>()</highlight></codeline>
<codeline lineno="41"><highlight class="normal">{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;destructor&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="43"><highlight class="normal">}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47" refid="classKinectPlugin_1a239f7b2ff70cb57b4c24140fb1e62c86" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classed_1_1Plugin_1ab8c8222e24b842e7c07530954b2c111c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">KinectPlugin::initialize</ref>(<ref refid="structed_1_1InitData" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::InitData</ref>&amp;<sp/>init)</highlight></codeline>
<codeline lineno="48"><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;initialize&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtue_1_1config_1_1ReaderWriter" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::Configuration</ref>&amp;<sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref><sp/>=<sp/>init.<ref refid="structed_1_1InitData_1a77615f186e631bc73885a798d1574004" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">config</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>topic;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;topic&quot;</highlight><highlight class="normal">,<sp/>topic))</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_INFO_STREAM(</highlight><highlight class="stringliteral">&quot;[ED<sp/>KINECT<sp/>PLUGIN]<sp/>Initializing<sp/>kinect<sp/>client<sp/>with<sp/>topic<sp/>&apos;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>topic<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;&apos;.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a5f26a5317082393a57d8525304441ea8" kindref="member">image_buffer_</ref>.<ref refid="classrgbd_1_1ImageBuffer_1a44a69eea8b9b7fcc2bba5d9681457958" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags">initialize</ref>(topic,<sp/></highlight><highlight class="stringliteral">&quot;map&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Services</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::NodeHandle<sp/>nh(</highlight><highlight class="stringliteral">&quot;~&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>nh.setCallbackQueue(&amp;<ref refid="classKinectPlugin_1a77308a6eb6db9f05df8e67fc0aaa4f43" kindref="member">cb_queue_</ref>);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1af8612b3ca581e4d71e8fa05ce8b1ae10" kindref="member">srv_get_image_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;kinect/get_image&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classKinectPlugin_1aba2dd34399ca9f8be8639f445077e97b" kindref="member">KinectPlugin::srvGetImage</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1ab898fe1dc911aaba1bb26293ac63f7ba" kindref="member">srv_update_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;kinect/update&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classKinectPlugin_1af29f9551b898b0cee9831438580f6093" kindref="member">KinectPlugin::srvUpdate</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a0765346d6c2050593c4e2636806f312f" kindref="member">srv_ray_trace_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;ray_trace&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classKinectPlugin_1aec10465e01d1f29f54b78dea4277a7c1" kindref="member">KinectPlugin::srvRayTrace</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a48212f1a7f2d3dd3628110635e355648" kindref="member">ray_trace_visualization_publisher_</ref><sp/>=<sp/>nh.advertise&lt;visualization_msgs::Marker&gt;(</highlight><highlight class="stringliteral">&quot;ray_trace_visualization&quot;</highlight><highlight class="normal">,<sp/>10);</highlight></codeline>
<codeline lineno="70"><highlight class="normal">}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="classKinectPlugin_1a85b923ffd56717f16c26b5a17b51f453" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classKinectPlugin_1a85b923ffd56717f16c26b5a17b51f453" kindref="member">KinectPlugin::process</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structed_1_1PluginInput" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::PluginInput</ref>&amp;<sp/>data,<sp/><ref refid="classed_1_1UpdateRequest" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::UpdateRequest</ref>&amp;<sp/>req)</highlight></codeline>
<codeline lineno="75"><highlight class="normal">{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;process&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fetch<sp/>kinect<sp/>image<sp/>and<sp/>pose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>last_image_.reset();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>if<sp/>(!image_buffer_.nextImage(&quot;map&quot;,<sp/>last_image_,<sp/>last_sensor_pose_))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>ROS<sp/>callback<sp/>queue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a029b35c5ac13e01f6e9dc8e0d8b82f51" kindref="member">world_</ref><sp/>=<sp/>&amp;data.world;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1aa7930034af1b96a12fab92b60090c808" kindref="member">update_req_</ref><sp/>=<sp/>&amp;<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a77308a6eb6db9f05df8e67fc0aaa4f43" kindref="member">cb_queue_</ref>.callAvailable();</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>cv::imshow(&quot;kinect&quot;,<sp/>last_image_-&gt;getRGBImage());</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>cv::waitKey(3);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal">}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="classKinectPlugin_1aba2dd34399ca9f8be8639f445077e97b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classKinectPlugin_1aba2dd34399ca9f8be8639f445077e97b" kindref="member">KinectPlugin::srvGetImage</ref>(ed_sensor_integration_msgs::GetImage::Request&amp;<sp/>req,<sp/>ed_sensor_integration_msgs::GetImage::Response&amp;<sp/>res)</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;srvGetImage&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>new<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/memory/shared_ptr" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">rgbd::ImageConstPtr</ref><sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>sensor_pose;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classKinectPlugin_1a5f26a5317082393a57d8525304441ea8" kindref="member">image_buffer_</ref>.<ref refid="classrgbd_1_1ImageBuffer_1af3858657267ea27205538d9773fb3452" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags">waitForRecentImage</ref>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/>2.0))</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>get<sp/>image&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Serialize<sp/>RGBD<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/basic_stringstream" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::stringstream</ref><sp/>stream;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtue_1_1serialization_1_1OutputArchive" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/tue_serialization/tags">tue::serialization::OutputArchive</ref><sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref>(stream);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacergbd_1a6ca677f400260dbf2e14ceb33aa32b67" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd::serialize</ref>(*<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref>,<sp/><ref refid="namespacergbd_1ad7baf6301bf2af159dbf2e15d800ae10a314b0c4fe8c34805b980577d0b097f39" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd::RGB_STORAGE_JPG</ref>,<sp/><ref refid="namespacergbd_1a1aa4c6e03c75007b29c04307d4ddb89ba492e18cd63683d4cca2f5402e54bc0f2" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd::DEPTH_STORAGE_PNG</ref>);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacetue_1_1serialization_1abbeb8836554539127489a2066e9dfdc4" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_serialization/tags">tue::serialization::convert</ref>(stream,<sp/>res.rgbd_data);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>meta<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/basic_stringstream" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::stringstream</ref><sp/>meta_data;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1io_1_1JSONWriter" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::io::JSONWriter</ref><sp/>w(meta_data);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>sensor<sp/>pose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>w.<ref refid="classed_1_1io_1_1JSONWriter_1a5d33867bd014d1cf638103a707eeb6af" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">writeGroup</ref>(</highlight><highlight class="stringliteral">&quot;sensor_pose&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceed_1a997deb8d1c86ddee6846024b453f79b7" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::serialize</ref>(sensor_pose,<sp/>w);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>w.<ref refid="classed_1_1io_1_1JSONWriter_1a0886183312e6fc5bfd482a3e246f142d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">endGroup</ref>();</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>rgbd<sp/>filename</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>w.<ref refid="classed_1_1io_1_1JSONWriter_1a153656641260e133078b042a8f3b329b" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">writeValue</ref>(</highlight><highlight class="stringliteral">&quot;rgbd_filename&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.filename<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.rgbd&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>timestamp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>w.<ref refid="classed_1_1io_1_1JSONWriter_1a5d33867bd014d1cf638103a707eeb6af" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">writeGroup</ref>(</highlight><highlight class="stringliteral">&quot;timestamp&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceed_1a631c7dd3d53f4ac823db54fb3576bb21" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::serializeTimestamp</ref>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>-&gt;getTimestamp(),<sp/>w);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>w.<ref refid="classed_1_1io_1_1JSONWriter_1a0886183312e6fc5bfd482a3e246f142d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">endGroup</ref>();</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>w.<ref refid="classed_1_1io_1_1JSONWriter_1ac6212d83ce240a7d21b19e7c6e619dce" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">finish</ref>();</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>res.json_meta_data<sp/>=<sp/>meta_data.<ref refid="cpp/io/basic_stringstream/str" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">str</ref>();</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>ROS_INFO_STREAM(</highlight><highlight class="stringliteral">&quot;[ED<sp/>KINECT]<sp/>Requested<sp/>image.<sp/>Image<sp/>size:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>res.rgbd_data.size()</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>bytes.<sp/>Meta-data<sp/>size:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>res.json_meta_data.size()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>bytes.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154" refid="classKinectPlugin_1af29f9551b898b0cee9831438580f6093" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classKinectPlugin_1af29f9551b898b0cee9831438580f6093" kindref="member">KinectPlugin::srvUpdate</ref>(ed_sensor_integration_msgs::Update::Request&amp;<sp/>req,<sp/>ed_sensor_integration_msgs::Update::Response&amp;<sp/>res)</highlight></codeline>
<codeline lineno="155"><highlight class="normal">{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;srvUpdate&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>new<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/memory/shared_ptr" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">rgbd::ImageConstPtr</ref><sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>sensor_pose;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classKinectPlugin_1a5f26a5317082393a57d8525304441ea8" kindref="member">image_buffer_</ref>.<ref refid="classrgbd_1_1ImageBuffer_1af3858657267ea27205538d9773fb3452" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags">waitForRecentImage</ref>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/>2.0))</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>get<sp/>image&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Perform<sp/>update</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structUpdateRequest" kindref="compound">UpdateRequest</ref><sp/>kinect_update_req;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>kinect_update_req.<ref refid="structUpdateRequest_1a04b48d95fa06e4edcbec749f1c082797" kindref="member">area_description</ref><sp/>=<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.area_description;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>kinect_update_req.<ref refid="structUpdateRequest_1a3883797cd04fd1482c02db51ebaf8076" kindref="member">background_padding</ref><sp/>=<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.background_padding;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>kinect_update_req.<ref refid="structUpdateRequest_1a5f0bfb5d8a0cda6f759f3c472e8b4734" kindref="member">fit_supporting_entity</ref><sp/>=<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.fit_supporting_entity;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>expect<sp/>the<sp/>orientation<sp/>of<sp/>the<sp/>supporting<sp/>entity<sp/>to<sp/>be<sp/>approximately<sp/>correct.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Therefore,<sp/>only<sp/>allow<sp/>rotation<sp/>updates<sp/>up<sp/>to<sp/>45<sp/>degrees<sp/>(both<sp/>clock-wise<sp/>and<sp/>anti-clock-wise)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>kinect_update_req.<ref refid="structUpdateRequest_1af015a83d1896cc032ad79be438c769ee" kindref="member">max_yaw_change</ref><sp/>=<sp/>0.25<sp/>*<sp/>M_PI;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structUpdateResult" kindref="compound">UpdateResult</ref><sp/>kinect_update_res(*<ref refid="classKinectPlugin_1aa7930034af1b96a12fab92b60090c808" kindref="member">update_req_</ref>);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classKinectPlugin_1ac6e0588ab3284a2af7900a1cc2b5ef57" kindref="member">updater_</ref>.<ref refid="classUpdater_1ad741d593c5dfb80122a4436fb50c80e4" kindref="member">update</ref>(*<ref refid="classKinectPlugin_1a029b35c5ac13e01f6e9dc8e0d8b82f51" kindref="member">world_</ref>,<sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/>kinect_update_req,<sp/>kinect_update_res))</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/>kinect_update_res.<ref refid="structUpdateResult_1a8a63d9ff043dd8247d820a9b79fefcfa" kindref="member">error</ref>.<ref refid="cpp/io/basic_stringstream/str" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">str</ref>();</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>result</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>kinect_update_res.<ref refid="structUpdateResult_1aa47dd7b5f61aaece18f5050da21960c9" kindref="member">entity_updates</ref>.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();<sp/>++i)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structEntityUpdate" kindref="compound">EntityUpdate</ref>&amp;<sp/>e_update<sp/>=<sp/>kinect_update_res.<ref refid="structUpdateResult_1aa47dd7b5f61aaece18f5050da21960c9" kindref="member">entity_updates</ref>[i];</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(e_update.<ref refid="structEntityUpdate_1acd28e950078ea4ee2c9a2668d5a1f4a6" kindref="member">is_new</ref>)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.new_ids.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(e_update.<ref refid="structEntityUpdate_1af4ffaaf21b21819dcc757fae1ffd15fd" kindref="member">id</ref>.<ref refid="classed_1_1UUID_1ab81f37e9a0e85c64ecc2f229afec4147" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">str</ref>());</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.updated_ids.push_back(e_update.<ref refid="structEntityUpdate_1af4ffaaf21b21819dcc757fae1ffd15fd" kindref="member">id</ref>.<ref refid="classed_1_1UUID_1ab81f37e9a0e85c64ecc2f229afec4147" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">str</ref>());</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Lock<sp/>it,<sp/>such<sp/>that<sp/>is<sp/>won&apos;t<sp/>be<sp/>cleared<sp/>by<sp/>the<sp/>clearer<sp/>plugin</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1aa7930034af1b96a12fab92b60090c808" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1a215bd27584687848f27660b8b44dfef0" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setFlag</ref>(e_update.<ref refid="structEntityUpdate_1af4ffaaf21b21819dcc757fae1ffd15fd" kindref="member">id</ref>,<sp/></highlight><highlight class="stringliteral">&quot;locked&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>kinect_update_res.<ref refid="structUpdateResult_1af873c5424dd609ad2c3d0031865f71c4" kindref="member">removed_entity_ids</ref>.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();<sp/>++i)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.deleted_ids.push_back(kinect_update_res.<ref refid="structUpdateResult_1af873c5424dd609ad2c3d0031865f71c4" kindref="member">removed_entity_ids</ref>[i].str());</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="207"><highlight class="normal">}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211" refid="classKinectPlugin_1aec10465e01d1f29f54b78dea4277a7c1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classKinectPlugin_1aec10465e01d1f29f54b78dea4277a7c1" kindref="member">KinectPlugin::srvRayTrace</ref>(ed_sensor_integration_msgs::RayTrace::Request&amp;<sp/>req,<sp/>ed_sensor_integration_msgs::RayTrace::Response&amp;<sp/>res)</highlight></codeline>
<codeline lineno="212"><highlight class="normal">{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1ErrorContext" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::ErrorContext</ref><sp/>errc(</highlight><highlight class="stringliteral">&quot;RGBDPlugin&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;srvRayTrace&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.raytrace_pose.header.frame_id<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;/map&quot;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.raytrace_pose.header.frame_id<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;map&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_ERROR(</highlight><highlight class="stringliteral">&quot;KinectPlugin::srvRayTrace<sp/>only<sp/>works<sp/>with<sp/>poses<sp/>expressed<sp/>in<sp/>map<sp/>frame&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>ray_trace_pose;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacegeo_1a91908a364354e736f2701a214ec9ded6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::convert</ref>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.raytrace_pose.pose,<sp/>ray_trace_pose);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structed__ray__tracer_1_1RayTraceResult" kindref="compound">ed_ray_tracer::RayTraceResult</ref><sp/>ray_trace_result<sp/>=<sp/><ref refid="namespaceed__ray__tracer_1a74603dd472a3824cf2a88739840eb6e3" kindref="member">ed_ray_tracer::ray_trace</ref>(*<ref refid="classKinectPlugin_1a029b35c5ac13e01f6e9dc8e0d8b82f51" kindref="member">world_</ref>,<sp/>ray_trace_pose);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ray_trace_result.<ref refid="structed__ray__tracer_1_1RayTraceResult_1a7c009f54c664942c0c30c42cbeac017f" kindref="member">success_</ref>)</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_ERROR(</highlight><highlight class="stringliteral">&quot;ed_ray_tracer::RayTrace<sp/>failed!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>res.entity_id<sp/>=<sp/>ray_trace_result.<ref refid="structed__ray__tracer_1_1RayTraceResult_1a96a0f76bf9922e80047737bae174e69d" kindref="member">entity_id_</ref>;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacegeo_1a91908a364354e736f2701a214ec9ded6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::convert</ref>(ray_trace_result.<ref refid="structed__ray__tracer_1_1RayTraceResult_1abc01f8f7e73ae1884b0d4c29bb121743" kindref="member">intersection_point_</ref>,<sp/>res.intersection_point.point);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>res.intersection_point.header.stamp<sp/>=<sp/>ros::Time::now();</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>res.intersection_point.header.frame_id<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;map&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>visualization_msgs::Marker<sp/>marker_msg;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.header.frame_id<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;map&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.header.stamp<sp/>=<sp/>ros::Time::now();</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.action<sp/>=<sp/>visualization_msgs::Marker::ADD;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.color.a<sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.lifetime<sp/>=<sp/>ros::Duration(10.0);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.scale.x<sp/>=<sp/>0.05;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iter<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(++iter<sp/>%<sp/>2<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>marker_msg.color.b<sp/>=<sp/>marker_msg.color.r<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>marker_msg.color.b<sp/>=<sp/>marker_msg.color.g<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.type<sp/>=<sp/>visualization_msgs::Marker::LINE_STRIP;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.points.push_back(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.raytrace_pose.pose.position);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.points.push_back(res.intersection_point.point);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a48212f1a7f2d3dd3628110635e355648" kindref="member">ray_trace_visualization_publisher_</ref>.publish(marker_msg);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.color.a<sp/>=<sp/>marker_msg.color.r<sp/>=<sp/>marker_msg.color.g<sp/>=<sp/>marker_msg.color.b<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.scale.x<sp/>=<sp/>0.02;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>marker_msg.id<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1a48212f1a7f2d3dd3628110635e355648" kindref="member">ray_trace_visualization_publisher_</ref>.publish(marker_msg);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<ref refid="classed_1_1WorldModel_1aad8c91c0fcd14f129d26384cf0e0c919" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::WorldModel::const_iterator</ref><sp/>it<sp/>=<sp/><ref refid="classKinectPlugin_1a029b35c5ac13e01f6e9dc8e0d8b82f51" kindref="member">world_</ref>-&gt;<ref refid="classed_1_1WorldModel_1a45e713418836a435e87a9bf581ff3652" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">begin</ref>();<sp/>it<sp/>!=<sp/><ref refid="classKinectPlugin_1a029b35c5ac13e01f6e9dc8e0d8b82f51" kindref="member">world_</ref>-&gt;<ref refid="classed_1_1WorldModel_1aceb56d45eb166688119adc58b1756b6c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">end</ref>();<sp/>++it)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespaceed_1ac65887f1813a584fb493e0a93b80d277" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::EntityConstPtr</ref>&amp;<sp/>e<sp/>=<sp/>*it;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(e-&gt;hasFlag(</highlight><highlight class="stringliteral">&quot;highlighted&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1aa7930034af1b96a12fab92b60090c808" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1a83a109d4c93ca648d91d2f0d74af96d3" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">removeFlag</ref>(e-&gt;id(),<sp/></highlight><highlight class="stringliteral">&quot;highlighted&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceed_1ac65887f1813a584fb493e0a93b80d277" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::EntityConstPtr</ref><sp/>highlighted_e<sp/>=<sp/><ref refid="classKinectPlugin_1a029b35c5ac13e01f6e9dc8e0d8b82f51" kindref="member">world_</ref>-&gt;<ref refid="classed_1_1WorldModel_1a0cfaa16b705c5dff76ce0de3f1caa274" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">getEntity</ref>(res.entity_id);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(highlighted_e)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_INFO(</highlight><highlight class="stringliteral">&quot;Hit<sp/>on<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>res.entity_id.c_str());</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKinectPlugin_1aa7930034af1b96a12fab92b60090c808" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1a215bd27584687848f27660b8b44dfef0" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setFlag</ref>(res.entity_id,<sp/></highlight><highlight class="stringliteral">&quot;highlighted&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_INFO(</highlight><highlight class="stringliteral">&quot;Setting<sp/>%s<sp/>to<sp/>highlighted&quot;</highlight><highlight class="normal">,<sp/>res.entity_id.c_str());</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="282"><highlight class="normal">}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><ref refid="plugin_8h_1a9cb7a92c38d28d6074b1b1904d38d545" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ED_REGISTER_PLUGIN</ref>(<ref refid="classKinectPlugin" kindref="compound">KinectPlugin</ref>)</highlight></codeline>
    </programlisting>
    <location file="src/kinect/kinect_plugin.cpp"/>
  </compounddef>
</doxygen>
