<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="plugin_8cpp" kind="file" language="C++">
    <compoundname>plugin.cpp</compoundname>
    <includes refid="plugin_8h" local="yes">plugin.h</includes>
    <includes local="no">rgbd/image.h</includes>
    <includes local="no">rgbd/view.h</includes>
    <includes local="no">geolib/ros/tf_conversions.h</includes>
    <includes local="no">ed/update_request.h</includes>
    <includes local="no">ed/entity.h</includes>
    <includes local="no">ed/measurement.h</includes>
    <includes local="no">ed/world_model.h</includes>
    <includes local="no">opencv2/highgui/highgui.hpp</includes>
    <includes refid="timer_8h" local="yes">timer.h</includes>
    <incdepgraph>
      <node id="11">
        <label>rgbd_msgs/GetRGBD.h</label>
      </node>
      <node id="8">
        <label>ed_robocup_msgs/FitEntityInImage.h</label>
      </node>
      <node id="10">
        <label>std_srvs/Empty.h</label>
      </node>
      <node id="7">
        <label>tf/transform_listener.h</label>
      </node>
      <node id="15">
        <label>ros/publisher.h</label>
      </node>
      <node id="22">
        <label>visualizer.h</label>
        <link refid="visualizer_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>plugin.cpp</label>
        <link refid="plugin_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="32">
        <label>timer.h</label>
        <link refid="timer_8h"/>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
      </node>
      <node id="17">
        <label>opencv2/core/core.hpp</label>
      </node>
      <node id="34">
        <label>iostream</label>
        <link refid="cpp/header/iostream" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="21">
        <label>rgbd/types.h</label>
        <link refid="types_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="6">
        <label>rgbd/image_buffer/image_buffer.h</label>
        <link refid="image__buffer_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags"/>
      </node>
      <node id="12">
        <label>map_filter.h</label>
        <link refid="map__filter_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>rgbd/image.h</label>
        <link refid="image_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="13">
        <label>geolib/datatypes.h</label>
        <link refid="datatypes_8h.html" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags"/>
      </node>
      <node id="29">
        <label>ed/measurement.h</label>
        <link refid="measurement_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="9">
        <label>ed_robocup_msgs/GetModelImages.h</label>
      </node>
      <node id="16">
        <label>ros/callback_queue.h</label>
      </node>
      <node id="5">
        <label>ed/kinect/fitter.h</label>
        <link refid="fitter_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags"/>
      </node>
      <node id="25">
        <label>rgbd/view.h</label>
        <link refid="view_8h.html" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags"/>
      </node>
      <node id="20">
        <label>navigator.h</label>
        <link refid="navigator_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>opencv2/highgui/highgui.hpp</label>
      </node>
      <node id="2">
        <label>plugin.h</label>
        <link refid="plugin_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>ed/types.h</label>
        <link refid="types_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="33">
        <label>sys/time.h</label>
      </node>
      <node id="14">
        <label>ros/subscriber.h</label>
      </node>
      <node id="35">
        <label>string</label>
        <link refid="cpp/header/string" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="28">
        <label>ed/entity.h</label>
        <link refid="entity_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="18">
        <label>nav_msgs/OccupancyGrid.h</label>
      </node>
      <node id="19">
        <label>ed/models/model_loader.h</label>
        <link refid="model__loader_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="23">
        <label>set</label>
        <link refid="cpp/header/set" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="26">
        <label>geolib/ros/tf_conversions.h</label>
        <link refid="tf__conversions_8h.html" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags"/>
      </node>
      <node id="3">
        <label>ed/plugin.h</label>
        <link refid="plugin_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="27">
        <label>ed/update_request.h</label>
        <link refid="update__request_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
      <node id="30">
        <label>ed/world_model.h</label>
        <link refid="world__model_8h.html" external="/home/docker/ros/noetic/system/build/docs/ed/tags"/>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="plugin_8cpp_1a57f52232493ede653086a19c1c87e82d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void decomposePose</definition>
        <argsstring>(const geo::Pose3D &amp;pose, geo::Pose3D &amp;pose_xya, geo::Pose3D &amp;pose_zrp)</argsstring>
        <name>decomposePose</name>
        <param>
          <type>const <ref refid="namespacegeo_1a6c851aec5e98801c86d46d508de5c05d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref> &amp;</type>
          <declname>pose</declname>
        </param>
        <param>
          <type><ref refid="namespacegeo_1a6c851aec5e98801c86d46d508de5c05d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref> &amp;</type>
          <declname>pose_xya</declname>
        </param>
        <param>
          <type><ref refid="namespacegeo_1a6c851aec5e98801c86d46d508de5c05d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref> &amp;</type>
          <declname>pose_zrp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/plugin.cpp" line="21" column="6" bodyfile="src/plugin.cpp" bodystart="21" bodyend="33"/>
      </memberdef>
      <memberdef kind="function" id="plugin_8cpp_1a7406890f348ad959c4fe6a29829a1d12" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ImageToMsg</definition>
        <argsstring>(const cv::Mat &amp;image, const std::string &amp;encoding, ed_robocup_msgs::NamedImage &amp;msg)</argsstring>
        <name>ImageToMsg</name>
        <param>
          <type>const cv::Mat &amp;</type>
          <declname>image</declname>
        </param>
        <param>
          <type>const <ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref> &amp;</type>
          <declname>encoding</declname>
        </param>
        <param>
          <type>ed_robocup_msgs::NamedImage &amp;</type>
          <declname>msg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/plugin.cpp" line="37" column="6" bodyfile="src/plugin.cpp" bodystart="37" bodyend="85"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="plugin_8h" kindref="compound">plugin.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="image_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd/image.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="view_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd/view.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="tf__conversions_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geolib/ros/tf_conversions.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="update__request_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/update_request.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="entity_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/entity.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="measurement_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/measurement.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="world__model_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/world_model.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="entity_8h.html" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed/entity.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;opencv2/highgui/highgui.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="timer_8h" kindref="compound">timer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Decomposes<sp/>&apos;pose&apos;<sp/>into<sp/>a<sp/>(X,<sp/>Y,<sp/>YAW)<sp/>and<sp/>(Z,<sp/>ROLL,<sp/>PITCH)<sp/>component</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="plugin_8cpp_1a57f52232493ede653086a19c1c87e82d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="plugin_8cpp_1a57f52232493ede653086a19c1c87e82d" kindref="member">decomposePose</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref>&amp;<sp/>pose,<sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref>&amp;<sp/>pose_xya,<sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref>&amp;<sp/>pose_zrp)</highlight></codeline>
<codeline lineno="22"><highlight class="normal">{</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>tf::Matrix3x3<sp/>m;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacegeo_1a91908a364354e736f2701a214ec9ded6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::convert</ref>(pose.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>,<sp/>m);</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>roll,<sp/>pitch,<sp/>yaw;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>m.getRPY(roll,<sp/>pitch,<sp/>yaw);</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>pose_xya.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>.<ref refid="classgeo_1_1Mat3T_1a325ba18e35a373d5a245ae964ac6f248" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">setRPY</ref>(0,<sp/>0,<sp/>yaw);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>pose_xya.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref><sp/>=<sp/><ref refid="namespacegeo_1a7cee017284c7b2011db63a83abfac2c5" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Vec3</ref>(pose.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec3T_1a22f80f7d89383e029e8fc1a89152f3c5" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">x</ref>,<sp/>pose.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec3T_1a7ba629c68c0f8ca2cbaf1b7175c02c12" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">y</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>pose_zrp<sp/>=<sp/>pose_xya.<ref refid="classgeo_1_1Transform3T_1a4daef91f27c4a336e18c388638e27fa9" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">inverse</ref>()<sp/>*<sp/>pose;</highlight></codeline>
<codeline lineno="33"><highlight class="normal">}</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="plugin_8cpp_1a7406890f348ad959c4fe6a29829a1d12" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="plugin_8cpp_1a7406890f348ad959c4fe6a29829a1d12" kindref="member">ImageToMsg</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>cv::Mat&amp;<sp/>image,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref>&amp;<sp/>encoding,<sp/>ed_robocup_msgs::NamedImage&amp;<sp/>msg)</highlight></codeline>
<codeline lineno="38"><highlight class="normal">{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>msg.encoding<sp/>=<sp/>encoding;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>cv::Mat<sp/><ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>.channels()<sp/>==<sp/>1)</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>depth<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref><sp/>=<sp/>cv::Mat(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>.rows,<sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>.cols,<sp/>CV_8UC3,<sp/>cv::Scalar(0,<sp/>0,<sp/>0));</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>static_cast&lt;uint&gt;(<ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref>.rows)<sp/>*<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal">uint</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref>.cols);<sp/>++i)</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref>.at&lt;cv::Vec3b&gt;(i)<sp/>=<sp/>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>.at&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;(i)<sp/>/<sp/>10)<sp/>*<sp/>cv::Vec3b(255,<sp/>255,<sp/>255);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref><sp/>=<sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(encoding<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;jpg&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>OpenCV<sp/>compression<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;int&gt;</ref><sp/>rgb_params;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rgb_params.<ref refid="cpp/container/vector/resize" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">resize</ref>(3,<sp/>0);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rgb_params[0]<sp/>=<sp/>cv::IMWRITE_JPEG_QUALITY;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rgb_params[1]<sp/>=<sp/>50;<sp/></highlight><highlight class="comment">//<sp/>default<sp/>is<sp/>95</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compress<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!cv::imencode(</highlight><highlight class="stringliteral">&quot;.jpg&quot;</highlight><highlight class="normal">,<sp/><ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref>,<sp/>msg.data,<sp/>rgb_params))</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_ERROR(</highlight><highlight class="stringliteral">&quot;[ROBOCUP]<sp/>RGB<sp/>image<sp/>compression<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(encoding<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;png&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;int&gt;</ref><sp/>params;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>params.<ref refid="cpp/container/vector/resize" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">resize</ref>(3,<sp/>0);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>params[0]<sp/>=<sp/>cv::IMWRITE_PNG_COMPRESSION;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>params[1]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!cv::imencode(</highlight><highlight class="stringliteral">&quot;.png&quot;</highlight><highlight class="normal">,<sp/><ref refid="record__to__video_8cpp_1a666c70a25e5ec1223dee12c73c1ea2cc" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgb_image</ref>,<sp/>msg.data,<sp/>params))<sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_ERROR(</highlight><highlight class="stringliteral">&quot;[ROBOCUP]<sp/>PNG<sp/>image<sp/>compression<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="85"><highlight class="normal">}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89" refid="classRobocupPlugin_1a4cf3f212bd5e3daba415fe536c733181" refkind="member"><highlight class="normal"><ref refid="classRobocupPlugin_1a4cf3f212bd5e3daba415fe536c733181" kindref="member">RobocupPlugin::RobocupPlugin</ref>()</highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal">}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="classRobocupPlugin_1ad85f04a83d42b5ebea77ff8fc2fe64b8" refkind="member"><highlight class="normal"><ref refid="classRobocupPlugin_1ad85f04a83d42b5ebea77ff8fc2fe64b8" kindref="member">RobocupPlugin::~RobocupPlugin</ref>()</highlight></codeline>
<codeline lineno="96"><highlight class="normal">{</highlight></codeline>
<codeline lineno="97"><highlight class="normal">}</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="classRobocupPlugin_1ac024b87f78a7cdfbf02405d6d264fb7c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classed_1_1Plugin_1ab8c8222e24b842e7c07530954b2c111c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">RobocupPlugin::initialize</ref>(<ref refid="structed_1_1InitData" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::InitData</ref>&amp;<sp/>init)</highlight></codeline>
<codeline lineno="102"><highlight class="normal">{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classtue_1_1config_1_1ReaderWriter" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::Configuration</ref>&amp;<sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref><sp/>=<sp/>init.<ref refid="structed_1_1InitData_1a77615f186e631bc73885a798d1574004" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">config</ref>;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>RGBD<sp/>client</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>rgbd_topic;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;rgbd_topic&quot;</highlight><highlight class="normal">,<sp/>rgbd_topic))</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1ac9cc925b72ef52df6f24fde307f478c2" kindref="member">image_buffer_</ref>.<ref refid="classrgbd_1_1ImageBuffer_1a44a69eea8b9b7fcc2bba5d9681457958" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags">initialize</ref>(rgbd_topic,<sp/></highlight><highlight class="stringliteral">&quot;map&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>map_topic_in,<sp/>map_topic_out;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;map_topic_in&quot;</highlight><highlight class="normal">,<sp/>map_topic_in))</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;map_topic_out&quot;</highlight><highlight class="normal">,<sp/>map_topic_out);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aac6076f75f2528dd2d8dc78e40da229a" kindref="member">map_filter_</ref>.<ref refid="classMapFilter_1af34115b1b649c90c0e432f291a343e74" kindref="member">initialize</ref>(map_topic_in,<sp/>map_topic_out);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;wall_height&quot;</highlight><highlight class="normal">,<sp/><ref refid="classRobocupPlugin_1ae5fa92a25f8656ed530fe0a135b0df29" kindref="member">wall_height_</ref>,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>))</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1ae5fa92a25f8656ed530fe0a135b0df29" kindref="member">wall_height_</ref><sp/>=<sp/>0.8;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Load<sp/>models<sp/>(used<sp/>for<sp/>fitting)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1af21633ab455f52a8417c5bdd0ea094de" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">readArray</ref>(</highlight><highlight class="stringliteral">&quot;models&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6ca09128485ccf14090c1111f2dd30a4" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">nextArrayItem</ref>())</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>id,<sp/>type;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)<sp/>||<sp/>!<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">,<sp/>type))</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classed_1_1WorldModel_1_1EntityIterator" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::WorldModel</ref><sp/>world_model;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Load<sp/>model<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classed_1_1UpdateRequest" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::UpdateRequest</ref><sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/basic_stringstream" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::stringstream</ref><sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">error</ref>;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classRobocupPlugin_1a69c4cf322bb2cbaf46455db684cca6b1" kindref="member">model_loader_</ref>.<ref refid="classed_1_1models_1_1ModelLoader_1a95a72bf34f14c947066c42fdd0ab29b6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">create</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/>type,<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>,<sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">error</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::log::error</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;While<sp/>loading<sp/>model<sp/>&apos;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>type<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;&apos;:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">error</ref>.str()<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>world_model.<ref refid="classed_1_1WorldModel_1a7c6662b9c0c5f4e4a3d295624a6d7614" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">update</ref>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceed_1ac65887f1813a584fb493e0a93b80d277" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::EntityConstPtr</ref><sp/>entity<sp/>=<sp/>world_model.<ref refid="classed_1_1WorldModel_1a0cfaa16b705c5dff76ce0de3f1caa274" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">getEntity</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!entity)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::log::error</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;While<sp/>loading<sp/>model<sp/>&apos;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>type<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;&apos;:<sp/>could<sp/>not<sp/>load<sp/>model<sp/>(this<sp/>should<sp/>never<sp/>happen)&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!entity-&gt;visual())</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::log::error</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;While<sp/>loading<sp/>model<sp/>&apos;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>type<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;&apos;:<sp/>model<sp/>does<sp/>not<sp/>have<sp/>a<sp/>visual&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cv::Mat<sp/>model_image;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>image_path;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;image&quot;</highlight><highlight class="normal">,<sp/>image_path,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>))</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model_image<sp/>=<sp/>cv::imread(image_path);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!model_image.data)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::log::error</ref>()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>load<sp/>model<sp/>image:<sp/>&apos;&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>image_path<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;&apos;.&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!model_image.data)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model_image<sp/>=<sp/>cv::Mat(200,<sp/>200,<sp/>CV_8UC3,<sp/>cv::Scalar(0,<sp/>0,<sp/>0));</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structEntityModel" kindref="compound">EntityModel</ref>&amp;<sp/>model<sp/>=<sp/><ref refid="classRobocupPlugin_1a864eec91e931a9997661e38fd516d6b6" kindref="member">models_</ref>[id];</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.<ref refid="structEntityModel_1a6035370a831c47a44d29a6f2e2246714" kindref="member">entity_prototype</ref><sp/>=<sp/>entity;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.<ref refid="structEntityModel_1a6f5d20effd82d2ce14e3d088d786c4b0" kindref="member">model_image</ref><sp/>=<sp/>model_image;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.<ref refid="structEntityModel_1ab8afcd2e7e04913e7341e43673233de6" kindref="member">type</ref><sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.<ref refid="structEntityModel_1abb5901bdf172fc89c38d4862fb14b6be" kindref="member">id</ref><sp/>=<sp/>id;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1ab7a8b0ac92e5aed322c4386dd0ec562e" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">endArray</ref>();</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a7b09888628b82e018b644c7885949742" kindref="member">last_wall_creation_</ref><sp/>=<sp/>ros::Time(0);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>services</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::NodeHandle<sp/>nh_global;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::NodeHandle<sp/>nh(</highlight><highlight class="stringliteral">&quot;~&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>nh.setCallbackQueue(&amp;<ref refid="classRobocupPlugin_1acf3f5980d1f4ce161f9708f8e8d839e4" kindref="member">cb_queue_</ref>);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>nav_goal_topic;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>head_goal_topic;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;nav_goal_topic&quot;</highlight><highlight class="normal">,<sp/>nav_goal_topic)<sp/>&amp;&amp;<sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;head_goal_topic&quot;</highlight><highlight class="normal">,<sp/>head_goal_topic))</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa9036953dbfa76123f4545716bf9b0ba" kindref="member">navigator_</ref>.<ref refid="classNavigator_1af4aadf1434d76e620a1b3e788064e8af" kindref="member">initialize</ref>(nh_global,<sp/>nav_goal_topic,<sp/>head_goal_topic);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;map_filter_padding&quot;</highlight><highlight class="normal">,<sp/><ref refid="classRobocupPlugin_1ae178fd89c9b176436b0c4e3fb978e000" kindref="member">map_filter_padding_</ref>,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>))</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1ae178fd89c9b176436b0c4e3fb978e000" kindref="member">map_filter_padding_</ref><sp/>=<sp/>0.3;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a052fe61615e51405ebac9602404ef7b4" kindref="member">srv_fit_entity_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;fit_entity_in_image&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classRobocupPlugin_1a2e3efab066af540f7bbee9499cd85152" kindref="member">RobocupPlugin::srvFitEntityInImage</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a6124c9b2128c131db158af37cab5f426" kindref="member">srv_get_model_images_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;get_model_images&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classRobocupPlugin_1a3e9cd0e700353b6cc15093abacd1a40f" kindref="member">RobocupPlugin::srvGetModelImages</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1ad81bb061e8714cc372325fb11164d7e0" kindref="member">srv_create_walls_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;create_walls&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classRobocupPlugin_1a542faf9c25d3d12036ce958445c13fc3" kindref="member">RobocupPlugin::srvCreateWalls</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1af7e79d8ab67d2b40b37dbfbe635589d9" kindref="member">srv_get_image_</ref><sp/>=<sp/>nh.advertiseService(</highlight><highlight class="stringliteral">&quot;get_image&quot;</highlight><highlight class="normal">,<sp/>&amp;<ref refid="classRobocupPlugin_1a4e2da77e245a1512051bac901aa4075f" kindref="member">RobocupPlugin::srvGetImage</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="202"><highlight class="normal">}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206" refid="classRobocupPlugin_1af38df4c481acbd4bc433cab06009b659" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classRobocupPlugin_1af38df4c481acbd4bc433cab06009b659" kindref="member">RobocupPlugin::process</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structed_1_1PluginInput" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::PluginInput</ref>&amp;<sp/>data,<sp/><ref refid="classed_1_1UpdateRequest" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::UpdateRequest</ref>&amp;<sp/>req)</highlight></codeline>
<codeline lineno="207"><highlight class="normal">{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a5a3b0923794cab47af1a3e73f6a72d97" kindref="member">world_</ref><sp/>=<sp/>&amp;data.world;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref><sp/>=<sp/>&amp;<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>ROS<sp/>callback<sp/>queue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1acf3f5980d1f4ce161f9708f8e8d839e4" kindref="member">cb_queue_</ref>.callAvailable();</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Map<sp/>filter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aac6076f75f2528dd2d8dc78e40da229a" kindref="member">map_filter_</ref>.<ref refid="classMapFilter_1a9bc40bafa7ed7124c4718e2dd60774bd" kindref="member">update</ref>();</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>if<sp/>(ros::Time::now()<sp/>-<sp/>last_wall_creation_<sp/>&gt;<sp/>ros::Duration(3))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geo::ShapeConstPtr<sp/>shape<sp/>=<sp/>map_filter_.createWallShape(wall_height_);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(shape)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ed::UUID<sp/>id<sp/>=<sp/>&quot;walls&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_request_-&gt;setShape(id,<sp/>shape);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_request_-&gt;setPose(id,<sp/>geo::Pose3D::identity());</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_wall_creation_<sp/>=<sp/>ros::Time::now();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239" refid="classRobocupPlugin_1a2e3efab066af540f7bbee9499cd85152" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classRobocupPlugin_1a2e3efab066af540f7bbee9499cd85152" kindref="member">RobocupPlugin::srvFitEntityInImage</ref>(ed_robocup_msgs::FitEntityInImage::Request&amp;<sp/>req,<sp/>ed_robocup_msgs::FitEntityInImage::Response&amp;<sp/>res)</highlight></codeline>
<codeline lineno="240"><highlight class="normal">{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>for<sp/>undo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.undo_latest_fit)</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classRobocupPlugin_1a6618a64a6513659033f47a2c4a7a1b33" kindref="member">fitted_ids_</ref>.<ref refid="cpp/container/vector/empty" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">empty</ref>())</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Nothing<sp/>to<sp/>undo&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classed_1_1UUID" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::UUID</ref><sp/>entity_id<sp/>=<sp/><ref refid="classRobocupPlugin_1a6618a64a6513659033f47a2c4a7a1b33" kindref="member">fitted_ids_</ref>.<ref refid="cpp/container/vector/back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">back</ref>();</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1ab05e193cf13efa2fa2b200de876584af" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">removeEntity</ref>(entity_id);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a6618a64a6513659033f47a2c4a7a1b33" kindref="member">fitted_ids_</ref>.<ref refid="cpp/container/vector/pop_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">pop_back</ref>();</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>ROS_INFO(</highlight><highlight class="stringliteral">&quot;[ED]<sp/>RobocupPlugin:<sp/>FitEntityInImage<sp/>requested&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Capture<sp/>camera<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/memory/shared_ptr" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">rgbd::ImageConstPtr</ref><sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>sensor_pose;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classRobocupPlugin_1ac9cc925b72ef52df6f24fde307f478c2" kindref="member">image_buffer_</ref>.<ref refid="classrgbd_1_1ImageBuffer_1af3858657267ea27205538d9773fb3452" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags">waitForRecentImage</ref>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/>1.0))</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>capture<sp/>image&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Determine<sp/>click<sp/>location</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x<sp/>=<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.px<sp/>*<sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>-&gt;getDepthImage().cols;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>y<sp/>=<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.py<sp/>*<sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>-&gt;getDepthImage().rows;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.entity_type<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;NAVIGATE&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Navigate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa9036953dbfa76123f4545716bf9b0ba" kindref="member">navigator_</ref>.<ref refid="classNavigator_1ae3cd455c07fde3b32a333e1e740be406" kindref="member">moveHead</ref>(*<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/>*<ref refid="classRobocupPlugin_1a5a3b0923794cab47af1a3e73f6a72d97" kindref="member">world_</ref>,<sp/>x,<sp/>y);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>model<sp/>exists</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/map" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::map&lt;std::string, EntityModel&gt;::const_iterator</ref><sp/>it_model<sp/>=<sp/><ref refid="classRobocupPlugin_1a864eec91e931a9997661e38fd516d6b6" kindref="member">models_</ref>.<ref refid="cpp/container/map/find" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">find</ref>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.entity_type);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it_model<sp/>==<sp/><ref refid="classRobocupPlugin_1a864eec91e931a9997661e38fd516d6b6" kindref="member">models_</ref>.<ref refid="cpp/container/map/end" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">end</ref>())</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Unknown<sp/>entity_type:<sp/>&apos;&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.entity_type<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;&apos;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structEntityModel" kindref="compound">EntityModel</ref>&amp;<sp/>model<sp/>=<sp/>it_model-&gt;second;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1UUID" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::UUID</ref><sp/>entity_id<sp/>=<sp/>model.<ref refid="structEntityModel_1abb5901bdf172fc89c38d4862fb14b6be" kindref="member">id</ref>;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>object<sp/>(but<sp/>with<sp/>incorrect<sp/>location)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/basic_stringstream" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::stringstream</ref><sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">error</ref>;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classRobocupPlugin_1a69c4cf322bb2cbaf46455db684cca6b1" kindref="member">model_loader_</ref>.<ref refid="classed_1_1models_1_1ModelLoader_1a95a72bf34f14c947066c42fdd0ab29b6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">create</ref>(entity_id,<sp/>model.<ref refid="structEntityModel_1ab8afcd2e7e04913e7341e43673233de6" kindref="member">type</ref>,<sp/>*<ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>,<sp/><ref refid="namespaceed_1_1log_1a353764ec7901c2cc8c024e8a6ebfca97" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">error</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>spawn<sp/>entity&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>location<sp/>based<sp/>on<sp/>initial<sp/>click</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classrgbd_1_1View" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">rgbd::View</ref><sp/>view(*<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>-&gt;getDepthImage().cols);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Decompose<sp/>the<sp/>sensor_pose<sp/>into<sp/>(x,<sp/>y,<sp/>yaw)<sp/>and<sp/>(z,<sp/>roll,<sp/>pitch)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>sensor_pose_xya,<sp/>sensor_pose_zrp;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="plugin_8cpp_1a57f52232493ede653086a19c1c87e82d" kindref="member">decomposePose</ref>(sensor_pose,<sp/>sensor_pose_xya,<sp/>sensor_pose_zrp);</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Estimate<sp/>based<sp/>on<sp/>the<sp/>pixel<sp/>of<sp/>the<sp/>entity<sp/>annotation<sp/>where<sp/>it<sp/>is<sp/>w.r.t.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>sensor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>pose_SENSOR_XYA;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>pose_SENSOR_XYA.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref><sp/>=<sp/><ref refid="namespacegeo_1a7cee017284c7b2011db63a83abfac2c5" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Vec3</ref>(view.<ref refid="classrgbd_1_1View_1ac15dca571165532d79193775d4a17db6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd/tags">getRasterizer</ref>().<ref refid="classgeo_1_1DepthCamera_1acbaade810232e7b9fecb48ccbde48e01" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">project2Dto3DX</ref>(x),<sp/>1,<sp/>0);</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>pose_SENSOR_XYA.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>.<ref refid="classgeo_1_1Mat3T_1a325ba18e35a373d5a245ae964ac6f248" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">setRPY</ref>(0,<sp/>0,<sp/>-0.5<sp/>*<sp/>M_PI);<sp/></highlight><highlight class="comment">//<sp/>This<sp/>assumes<sp/>estimated<sp/>entity<sp/>position<sp/>is<sp/>with<sp/>its<sp/>x-axis<sp/>towards<sp/>camera</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>the<sp/>entity<sp/>pose<sp/>in<sp/>map<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>pose_MAP<sp/>=<sp/>sensor_pose_xya<sp/>*<sp/>pose_SENSOR_XYA;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>pose_MAP.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec3T_1a3a763ba05e94643299935eb686d1674e" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">z</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1ae4421e2c1b3ac1074bb8d067655030e6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setPose</ref>(entity_id,<sp/>pose_MAP);</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classed_1_1WorldModel_1_1EntityIterator" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::WorldModel</ref><sp/>world_model_tmp<sp/>=<sp/>*<ref refid="classRobocupPlugin_1a5a3b0923794cab47af1a3e73f6a72d97" kindref="member">world_</ref>;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>world_model_tmp.<ref refid="classed_1_1WorldModel_1a7c6662b9c0c5f4e4a3d295624a6d7614" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">update</ref>(*<ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Update<sp/>the<sp/>entity<sp/>pose<sp/>using<sp/>fitting</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classRobocupPlugin_1a11bc456a65c0fad383fcb70f139a3667" kindref="member">fitter_</ref>.<ref refid="classFitter_1ae8768e4805b73d86dcc476dec4504d01" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">isConfigured</ref>())</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a11bc456a65c0fad383fcb70f139a3667" kindref="member">fitter_</ref>.<ref refid="classFitter_1ad82d546290a8d0fa8ba2091a7139325e" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">configureBeamModel</ref>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>-&gt;getCameraModel());</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFitterData" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">FitterData</ref><sp/>fitter_data;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a11bc456a65c0fad383fcb70f139a3667" kindref="member">fitter_</ref>.<ref refid="classFitter_1a8dd85e00f88582fbb5fea699840b88a3" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">processSensorData</ref>(*<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/>fitter_data);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>fitted_pose;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classRobocupPlugin_1a11bc456a65c0fad383fcb70f139a3667" kindref="member">fitter_</ref>.<ref refid="classFitter_1a3cbcf2ef11c711eb5bc3cb01e00f9d9b" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">estimateEntityPose</ref>(fitter_data,<sp/>world_model_tmp,<sp/>entity_id,<sp/>pose_MAP,<sp/>fitted_pose,<sp/>0.5<sp/>*<sp/>M_PI))</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.error_msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>fit<sp/>entity&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1ae4421e2c1b3ac1074bb8d067655030e6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setPose</ref>(entity_id,<sp/>fitted_pose);</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classed_1_1WorldModel_1_1EntityIterator" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::WorldModel</ref><sp/>wm<sp/>=<sp/>*<ref refid="classRobocupPlugin_1a5a3b0923794cab47af1a3e73f6a72d97" kindref="member">world_</ref>;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wm.<ref refid="classed_1_1WorldModel_1a7c6662b9c0c5f4e4a3d295624a6d7614" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">update</ref>(*<ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceed_1ac65887f1813a584fb493e0a93b80d277" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::EntityConstPtr</ref><sp/>e<sp/>=<sp/>wm.<ref refid="classed_1_1WorldModel_1a0cfaa16b705c5dff76ce0de3f1caa274" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">getEntity</ref>(entity_id);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structEntityRepresentation2D" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">EntityRepresentation2D</ref><sp/>repr2d<sp/>=<sp/><ref refid="classRobocupPlugin_1a11bc456a65c0fad383fcb70f139a3667" kindref="member">fitter_</ref>.<ref refid="classFitter_1a5e9587019b45ed8caaf1a308fe7dee3d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">GetOrCreateEntity2D</ref>(e);</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!repr2d.<ref refid="structEntityRepresentation2D_1a1068b89025d0cb5c99691d779dedceec" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">shape_2d</ref>.<ref refid="cpp/container/vector/empty" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">empty</ref>())</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Transform2</ref><sp/>pose_2d;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pose_2d.<ref refid="classgeo_1_1Transform2T_1aed7a26b999f43c9186efe8991823bf13" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref><sp/>=<sp/><ref refid="namespacegeo_1a721c6e5b9502c5b4337a1c0b61668362" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Vec2</ref>(fitted_pose.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec3T_1a22f80f7d89383e029e8fc1a89152f3c5" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">x</ref>,<sp/>fitted_pose.<ref refid="classgeo_1_1Transform3T_1acbf09e22e135e0a54c5f275d263d383c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec3T_1a7ba629c68c0f8ca2cbaf1b7175c02c12" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">y</ref>);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pose_2d.<ref refid="classgeo_1_1Transform2T_1ace6ce78db401a84c1dfbe0ec83f4dee5" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref><sp/>=<sp/><ref refid="namespacegeo_1a082816d46a9c0c508267801071fbd884" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Mat2</ref>(fitted_pose.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>.<ref refid="classgeo_1_1Mat3T_1a73e5375b72e1a403e9efca2d523e8d87" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">xx</ref>,<sp/>fitted_pose.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>.<ref refid="classgeo_1_1Mat3T_1a85a6367bd4824f08b32bb47fdd5e1191" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">xy</ref>,</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fitted_pose.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>.<ref refid="classgeo_1_1Mat3T_1a4bf45f0aac622d58e11acbbcb97060e7" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">yx</ref>,<sp/>fitted_pose.<ref refid="classgeo_1_1Transform3T_1ae4c3d14cc73485f238264bd4520a2821" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">R</ref>.<ref refid="classgeo_1_1Mat3T_1ac0f75c2fec26d1b29aa0dd0dccc1cdba" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">yy</ref>);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aac6076f75f2528dd2d8dc78e40da229a" kindref="member">map_filter_</ref>.<ref refid="classMapFilter_1a7cafc37c017d090e9fad712149aaa843" kindref="member">setEntityPose</ref>(pose_2d,<sp/>repr2d.<ref refid="structEntityRepresentation2D_1a1068b89025d0cb5c99691d779dedceec" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed_sensor_integration/tags">shape_2d</ref>,<sp/><ref refid="classRobocupPlugin_1ae178fd89c9b176436b0c4e3fb978e000" kindref="member">map_filter_padding_</ref>);</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1a6618a64a6513659033f47a2c4a7a1b33" kindref="member">fitted_ids_</ref>.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(entity_id);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="372"><highlight class="normal">}</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376" refid="classRobocupPlugin_1a3e9cd0e700353b6cc15093abacd1a40f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classRobocupPlugin_1a3e9cd0e700353b6cc15093abacd1a40f" kindref="member">RobocupPlugin::srvGetModelImages</ref>(ed_robocup_msgs::GetModelImages::Request&amp;<sp/></highlight><highlight class="comment">/*req*/</highlight><highlight class="normal">,<sp/>ed_robocup_msgs::GetModelImages::Response&amp;<sp/>res)</highlight></codeline>
<codeline lineno="377"><highlight class="normal">{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>ROS_INFO(</highlight><highlight class="stringliteral">&quot;[ED]<sp/>RobocupPlugin:<sp/>GetModelImages<sp/>requested&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/>res.models.resize(<ref refid="classRobocupPlugin_1a864eec91e931a9997661e38fd516d6b6" kindref="member">models_</ref>.<ref refid="cpp/container/map/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>());</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<ref refid="cpp/container/map" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::map&lt;std::string, EntityModel&gt;::const_iterator</ref><sp/>it<sp/>=<sp/><ref refid="classRobocupPlugin_1a864eec91e931a9997661e38fd516d6b6" kindref="member">models_</ref>.<ref refid="cpp/container/map/begin" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">begin</ref>();<sp/>it<sp/>!=<sp/><ref refid="classRobocupPlugin_1a864eec91e931a9997661e38fd516d6b6" kindref="member">models_</ref>.<ref refid="cpp/container/map/end" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">end</ref>();<sp/>++it)</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structEntityModel" kindref="compound">EntityModel</ref>&amp;<sp/>model<sp/>=<sp/>it-&gt;second;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ed_robocup_msgs::NamedImage&amp;<sp/>model_msg<sp/>=<sp/>res.models[i];</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model_msg.name<sp/>=<sp/>it-&gt;first;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="plugin_8cpp_1a7406890f348ad959c4fe6a29829a1d12" kindref="member">ImageToMsg</ref>(model.<ref refid="structEntityModel_1a6f5d20effd82d2ce14e3d088d786c4b0" kindref="member">model_image</ref>,<sp/></highlight><highlight class="stringliteral">&quot;jpg&quot;</highlight><highlight class="normal">,<sp/>model_msg);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++i;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="396"><highlight class="normal">}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400" refid="classRobocupPlugin_1a542faf9c25d3d12036ce958445c13fc3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classRobocupPlugin_1a542faf9c25d3d12036ce958445c13fc3" kindref="member">RobocupPlugin::srvCreateWalls</ref>(std_srvs::Empty::Request&amp;<sp/></highlight><highlight class="comment">/*req*/</highlight><highlight class="normal">,<sp/>std_srvs::Empty::Response&amp;<sp/></highlight><highlight class="comment">/*res*/</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="401"><highlight class="normal">{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>ROS_INFO(</highlight><highlight class="stringliteral">&quot;[ED]<sp/>RobocupPlugin:<sp/>CreateWalls<sp/>requested&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/memory/shared_ptr" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">geo::ShapeConstPtr</ref><sp/>shape<sp/>=<sp/><ref refid="classRobocupPlugin_1aac6076f75f2528dd2d8dc78e40da229a" kindref="member">map_filter_</ref>.<ref refid="classMapFilter_1a59e15625a6f85a4b7ecbca72d27e2390" kindref="member">createWallShape</ref>(<ref refid="classRobocupPlugin_1ae5fa92a25f8656ed530fe0a135b0df29" kindref="member">wall_height_</ref>);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(shape)</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classed_1_1UUID" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ed::UUID</ref><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;walls&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1a626a602959d707ca4e25f721bb01966c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setVisual</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/>shape);</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1aabfdc6c663abb2c6d7967ce8682e46f9" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setCollision</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/>shape);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classRobocupPlugin_1aa916028e24a36ddbc178f790699825ee" kindref="member">update_req_</ref>-&gt;<ref refid="classed_1_1UpdateRequest_1ae4421e2c1b3ac1074bb8d067655030e6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">setPose</ref>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/><ref refid="classgeo_1_1Transform3T_1a0b569228b1e6eb2889d646158e7e11d1" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D::identity</ref>());</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="416"><highlight class="normal">}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight></codeline>
<codeline lineno="420" refid="classRobocupPlugin_1a4e2da77e245a1512051bac901aa4075f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classRobocupPlugin_1a4e2da77e245a1512051bac901aa4075f" kindref="member">RobocupPlugin::srvGetImage</ref>(rgbd_msgs::GetRGBD::Request&amp;<sp/>req,<sp/>rgbd_msgs::GetRGBD::Response&amp;<sp/>res)</highlight></codeline>
<codeline lineno="421"><highlight class="normal">{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classTimer" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">Timer</ref><sp/>timer;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>for<sp/>valid<sp/>input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.compression<sp/>!=<sp/>rgbd_msgs::GetRGBD::Request::JPEG<sp/>&amp;&amp;<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.compression<sp/>!=<sp/>rgbd_msgs::GetRGBD::Request::PNG)</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_ERROR(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>compression,<sp/>only<sp/>JPEG<sp/>and<sp/>PNG<sp/>are<sp/>supported<sp/>(see<sp/>ENUM<sp/>in<sp/>srv<sp/>definition)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Grab<sp/>camera<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/memory/shared_ptr" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">rgbd::ImageConstPtr</ref><sp/><ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform3T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Pose3D</ref><sp/>sensor_pose;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classRobocupPlugin_1ac9cc925b72ef52df6f24fde307f478c2" kindref="member">image_buffer_</ref>.<ref refid="classrgbd_1_1ImageBuffer_1a3dcce8079cd2748e448e6c91a3df4c7e" kindref="member" external="/home/docker/ros/noetic/system/build/docs/rgbd_image_buffer/tags">nextImage</ref>(<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose))</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_DEBUG(</highlight><highlight class="stringliteral">&quot;Could<sp/>not<sp/>capture<sp/>image&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Draw<sp/>image<sp/>on<sp/>top</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>cv::Mat<sp/>canvas<sp/>=<sp/><ref refid="classRobocupPlugin_1a6140cdb94f4d75905d336153fb7b7fd0" kindref="member">visualizer_</ref>.<ref refid="classVisualizer_1acf7409fc27b9fa4489ddc4c9bcfd5492" kindref="member">drawWorldModelOverlay</ref>(*<ref refid="classRobocupPlugin_1a5a3b0923794cab47af1a3e73f6a72d97" kindref="member">world_</ref>,<sp/>*<ref refid="view__model_8cpp_1aca3006a770e0e39a4c80202325df25ed" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">image</ref>,<sp/>sensor_pose,<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.width);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compress<sp/>image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compress<sp/>images</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>compression_str<sp/>=<sp/><ref refid="namespacereset_1ad13c6ac93e71952bf2f3b8c9aefcaf5d" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">req</ref>.compression<sp/>==<sp/>rgbd_msgs::GetRGBD::Request::JPEG<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;.jpeg&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;.png&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cv::imencode(compression_str,<sp/>canvas,<sp/>res.rgb_data))</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ROS_INFO_STREAM(&quot;[ED]<sp/>RobocupPlugin:<sp/>srvGetImage<sp/>took<sp/>&quot;<sp/>&lt;&lt;<sp/>timer.getElapsedTimeInMilliSec()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/>&quot;<sp/>ms,<sp/>sending<sp/>&quot;<sp/>&lt;&lt;<sp/>res.rgb_data.size()<sp/>&lt;&lt;<sp/>&quot;<sp/>byte&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>ROS_ERROR_STREAM(</highlight><highlight class="stringliteral">&quot;cv::imencode<sp/>with<sp/>compression_str<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>compression_str<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>failed!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="467"><highlight class="normal">}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><ref refid="plugin_8h_1a9cb7a92c38d28d6074b1b1904d38d545" kindref="member" external="/home/docker/ros/noetic/system/build/docs/ed/tags">ED_REGISTER_PLUGIN</ref>(<ref refid="classRobocupPlugin" kindref="compound">RobocupPlugin</ref>)</highlight></codeline>
    </programlisting>
    <location file="src/plugin.cpp"/>
  </compounddef>
</doxygen>
