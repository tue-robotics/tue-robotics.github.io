<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="grammar_8py" kind="file" language="Python">
    <compoundname>grammar.py</compoundname>
    <innernamespace refid="namespacegrammar">grammar</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacegrammar" refkind="compound"><highlight class="comment">#!<sp/>/usr/bin/env<sp/>python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Make<sp/>python<sp/>2/3<sp/>compatible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(absolute_import,<sp/>division,</highlight></codeline>
<codeline lineno="5"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print_function,<sp/>unicode_literals)</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>builtins<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacespeech__recognition_1_1kaldi__grammar" kindref="compound">speech_recognition.kaldi_grammar</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Grammar</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__main__&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>subprocess</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="16" refid="namespacegrammar_1ad09af9679412877e6ef9b2296304d850" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grammar_file<sp/>=<sp/>sys.argv[1]</highlight></codeline>
<codeline lineno="17" refid="namespacegrammar_1a3326262c5615dabd655d2a2d3df96e85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>sys.argv[2]</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grammar_file<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;current_grammar.fcfg&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;T&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="namespacegrammar_1a5ac5b31a4dde5117d5c7b7fed7fd59b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dummy_model_path<sp/>=<sp/>os.path.dirname(os.path.realpath(__file__))</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="namespacegrammar_1aab9524f5c0e2f7615765bc29002c5a4b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>k<sp/>=<sp/><ref refid="classspeech__recognition_1_1kaldi__grammar_1_1Grammar" kindref="compound">Grammar</ref>(dummy_model_path,<sp/>grammar_file,<sp/>target)</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>k.print_graphviz()</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="namespacegrammar_1a4894419822da7e1627576ca87c8bd970" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>subprocess_exit_status<sp/>=<sp/>subprocess.call([</highlight><highlight class="stringliteral">&quot;mkdynamicgrammar.bash&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k.model_path,<sp/>k.model_path_tmp])</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>subprocess_exit_status<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>Exception(</highlight><highlight class="stringliteral">&quot;Subprocess<sp/>error&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="namespacegrammar_1aeed2eeb8a1f11dfadee9f1319c6af3de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>test_sentence_1<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;bring<sp/>me<sp/>the<sp/>coke&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34" refid="namespacegrammar_1a2eb875ddb2cc47e7033b82d0a896b64b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>test_sentence_2<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;bring<sp/>the<sp/>coke<sp/>to<sp/>the<sp/>kitchen&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="namespacegrammar_1a7018aac3c709d736d6d4928421565216" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>s1<sp/>=<sp/>k.parse(test_sentence_1)</highlight></codeline>
<codeline lineno="37" refid="namespacegrammar_1a2254677fae7522589375a9c088417382" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>s2<sp/>=<sp/>k.parse(test_sentence_2)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;Parser<sp/>output<sp/>for<sp/>&apos;{}&apos;:<sp/>&quot;</highlight><highlight class="normal">.format(test_sentence_1),<sp/>s1)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;Parser<sp/>output<sp/>for<sp/>&apos;{}&apos;:<sp/>&quot;</highlight><highlight class="normal">.format(test_sentence_2),<sp/>s2)</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="tests/cfg/grammar.py"/>
  </compounddef>
</doxygen>
