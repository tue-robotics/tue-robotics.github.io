<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="solvertest_8cpp" kind="file" language="C++">
    <compoundname>solvertest.cpp</compoundname>
    <includes refid="solvertest_8hpp" local="yes">solvertest.hpp</includes>
    <includes refid="frames__io_8hpp" local="no">frames_io.hpp</includes>
    <includes refid="framevel__io_8hpp" local="no">framevel_io.hpp</includes>
    <includes refid="kinfam__io_8hpp" local="no">kinfam_io.hpp</includes>
    <includes local="no">random</includes>
    <includes local="no">time.h</includes>
    <includes refid="utility_8h" local="no">utilities/utility.h</includes>
    <incdepgraph>
      <node id="19">
        <label>exception</label>
        <link refid="cpp/header/exception" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="55">
        <label>chainidsolver_recursive_newton_euler.hpp</label>
        <link refid="chainidsolver__recursive__newton__euler_8hpp"/>
        <childnode refid="52" relation="include">
        </childnode>
      </node>
      <node id="27">
        <label>framevel.inl</label>
        <link refid="framevel_8inl"/>
      </node>
      <node id="26">
        <label>utilities/traits.h</label>
        <link refid="traits_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>functional</label>
        <link refid="cpp/header/functional" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="58">
        <label>chainfdsolver_recursive_newton_euler.hpp</label>
        <link refid="chainfdsolver__recursive__newton__euler_8hpp"/>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>frameacc.inl</label>
        <link refid="frameacc_8inl"/>
      </node>
      <node id="62">
        <label>algorithm</label>
        <link refid="cpp/header/algorithm" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="12">
        <label>utilities/hash_combine.h</label>
        <link refid="hash__combine_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="25">
        <label>assert.h</label>
      </node>
      <node id="51">
        <label>chainhdsolver_vereshchagin.hpp</label>
        <link refid="chainhdsolver__vereshchagin_8hpp"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
      </node>
      <node id="52">
        <label>chainidsolver.hpp</label>
        <link refid="chainidsolver_8hpp"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>vector</label>
        <link refid="cpp/header/vector" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="17">
        <label>joint.hpp</label>
        <link refid="joint_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>solvertest.hpp</label>
        <link refid="solvertest_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
      </node>
      <node id="35">
        <label>jntarrayvel.hpp</label>
        <link refid="jntarrayvel_8hpp"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>cstdlib</label>
        <link refid="cpp/header/cstdlib" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="76">
        <label>random</label>
        <link refid="cpp/header/random" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="15">
        <label>rigidbodyinertia.hpp</label>
        <link refid="rigidbodyinertia_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="65">
        <label>frames_io.hpp</label>
        <link refid="frames__io_8hpp"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
      </node>
      <node id="34">
        <label>Eigen/Core</label>
      </node>
      <node id="63">
        <label>iostream</label>
        <link refid="cpp/header/iostream" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="70">
        <label>utilities/rall1d_io.h</label>
        <link refid="rall1d__io_8h"/>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>utilities/svd_eigen_HH.hpp</label>
        <link refid="svd__eigen__HH_8hpp"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
      </node>
      <node id="69">
        <label>framevel_io.hpp</label>
        <link refid="framevel__io_8hpp"/>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
      </node>
      <node id="46">
        <label>chainiksolverpos_nr.hpp</label>
        <link refid="chainiksolverpos__nr_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="68">
        <label>fstream</label>
        <link refid="cpp/header/fstream" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="64">
        <label>utilities/ldl_solver_eigen.hpp</label>
        <link refid="ldl__solver__eigen_8hpp"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="21">
        <label>chainfksolverpos_recursive.hpp</label>
        <link refid="chainfksolverpos__recursive_8hpp"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="38">
        <label>chainfksolvervel_recursive.hpp</label>
        <link refid="chainfksolvervel__recursive_8hpp"/>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>frames.hpp</label>
        <link refid="frames_8hpp"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="33">
        <label>jacobian.hpp</label>
        <link refid="jacobian_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="44">
        <label>chainiksolvervel_pinv_nso.hpp</label>
        <link refid="chainiksolvervel__pinv__nso_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="43">
        <label>chainiksolvervel_pinv_givens.hpp</label>
        <link refid="chainiksolvervel__pinv__givens_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="72">
        <label>kinfam_io.hpp</label>
        <link refid="kinfam__io_8hpp"/>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>chainiksolverpos_lma.hpp</label>
        <link refid="chainiksolverpos__lma_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
      </node>
      <node id="54">
        <label>Eigen/StdVector</label>
      </node>
      <node id="75">
        <label>map</label>
        <link refid="cpp/header/map" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="48">
        <label>Eigen/Dense</label>
      </node>
      <node id="66">
        <label>utilities/utility_io.h</label>
        <link refid="utility__io_8h"/>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>cassert</label>
        <link refid="cpp/header/cassert" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="8">
        <label>utilities/utility.h</label>
        <link refid="utility_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>iomanip</label>
        <link refid="cpp/header/iomanip" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="14">
        <label>frames.inl</label>
        <link refid="frames_8inl"/>
      </node>
      <node id="29">
        <label>utilities/rall2d.h</label>
        <link refid="rall2d_8h"/>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="73">
        <label>tree.hpp</label>
        <link refid="tree_8hpp"/>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>chainexternalwrenchestimator.hpp</label>
        <link refid="chainexternalwrenchestimator_8hpp"/>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
      </node>
      <node id="77">
        <label>time.h</label>
      </node>
      <node id="5">
        <label>segment.hpp</label>
        <link refid="segment_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>math.h</label>
      </node>
      <node id="23">
        <label>framevel.hpp</label>
        <link refid="framevel_8hpp"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="32">
        <label>jntarray.hpp</label>
        <link refid="jntarray_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>jntarrayacc.hpp</label>
        <link refid="jntarrayacc_8hpp"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
      </node>
      <node id="59">
        <label>chainfdsolver.hpp</label>
        <link refid="chainfdsolver_8hpp"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>chainfksolver.hpp</label>
        <link refid="chainfksolver_8hpp"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>string</label>
        <link refid="cpp/header/string" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="37">
        <label>solveri.hpp</label>
        <link refid="solveri_8hpp"/>
      </node>
      <node id="4">
        <label>chain.hpp</label>
        <link refid="chain_8hpp"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>chainjnttojacdotsolver.hpp</label>
        <link refid="chainjnttojacdotsolver_8hpp"/>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="16">
        <label>rotationalinertia.hpp</label>
        <link refid="rotationalinertia_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>chaindynparam.hpp</label>
        <link refid="chaindynparam_8hpp"/>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
      </node>
      <node id="57">
        <label>jntspaceinertiamatrix.hpp</label>
        <link refid="jntspaceinertiamatrix_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="39">
        <label>chainiksolvervel_pinv.hpp</label>
        <link refid="chainiksolvervel__pinv_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="28">
        <label>frameacc.hpp</label>
        <link refid="frameacc_8hpp"/>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
      </node>
      <node id="71">
        <label>typeinfo</label>
        <link refid="cpp/header/typeinfo" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="3">
        <label>cppunit/extensions/HelperMacros.h</label>
      </node>
      <node id="1">
        <label>solvertest.cpp</label>
        <link refid="solvertest_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="40">
        <label>chainiksolver.hpp</label>
        <link refid="chainiksolver_8hpp"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>config.h</label>
      </node>
      <node id="45">
        <label>chainiksolvervel_wdls.hpp</label>
        <link refid="chainiksolvervel__wdls_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>cmath</label>
        <link refid="cpp/header/cmath" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="49">
        <label>chainiksolverpos_nr_jl.hpp</label>
        <link refid="chainiksolverpos__nr__jl_8hpp"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="42">
        <label>utilities/svd_HH.hpp</label>
        <link refid="svd__HH_8hpp"/>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>utilities/kdl-config.h</label>
        <link refid="kdl-config_8h"/>
      </node>
      <node id="41">
        <label>chainjnttojacsolver.hpp</label>
        <link refid="chainjnttojacsolver_8hpp"/>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="53">
        <label>articulatedbodyinertia.hpp</label>
        <link refid="articulatedbodyinertia_8hpp"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>utilities/rall1d.h</label>
        <link refid="rall1d_8h"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="solvertest_8cpp_1a1f91bfc282ab8a3e30dff678701ad52e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>CPPUNIT_TEST_SUITE_REGISTRATION</definition>
        <argsstring>(SolverTest)</argsstring>
        <name>CPPUNIT_TEST_SUITE_REGISTRATION</name>
        <param>
          <type><ref refid="classSolverTest" kindref="compound">SolverTest</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tests/solvertest.cpp" line="9" column="1" declfile="tests/solvertest.cpp" declline="9" declcolumn="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="solvertest_8hpp" kindref="compound">solvertest.hpp</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="frames__io_8hpp" kindref="compound">frames_io.hpp</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="framevel__io_8hpp" kindref="compound">framevel_io.hpp</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="kinfam__io_8hpp" kindref="compound">kinfam_io.hpp</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="cpp/header/random" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">random</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;time.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="utility_8h" kindref="compound">utilities/utility.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><ref refid="solvertest_8cpp_1a1f91bfc282ab8a3e30dff678701ad52e" kindref="member">CPPUNIT_TEST_SUITE_REGISTRATION</ref>(<sp/><ref refid="classSolverTest" kindref="compound">SolverTest</ref><sp/>);</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceKDL" kindref="compound">KDL</ref>;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="classSolverTest_1a57a7f16cb6e9846b21ae53b56c51bd31" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a57a7f16cb6e9846b21ae53b56c51bd31" kindref="member">SolverTest::setUp</ref>()</highlight></codeline>
<codeline lineno="14"><highlight class="normal">{</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>srand(<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)time(<sp/>NULL<sp/>));</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.9))));</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84" kindref="member">Joint::None</ref>),</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(-0.4,0.0,0.0))));</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,1.2))));</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84" kindref="member">Joint::None</ref>),</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.4,0.0,0.0))));</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>6&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>6&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,1.4))));</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>7&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>7&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>8&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>8&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.4))));</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>chain1.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>9&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>9&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84" kindref="member">Joint::None</ref>),</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>chain2.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.5))));</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>chain2.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.4))));</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>chain2.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.3))));</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>chain2.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.2))));</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>chain2.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.1))));</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.9))));</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(-0.4,0.0,0.0))));</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,1.2))));</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84" kindref="member">Joint::None</ref>),</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.4,0.0,0.0))));</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>6&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>6&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,1.4))));</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>7&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>7&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>8&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>8&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.4))));</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>chain3.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>9&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>9&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea82ced6110c39092f0073540c041275e2" kindref="member">Joint::RotY</ref>),</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>chain4.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>1&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(10,0,0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(1,0,1),<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242" kindref="member">Joint::RotAxis</ref>),</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.5))));</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>chain4.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>2&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0,5,0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(1,0,0),<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242" kindref="member">Joint::RotAxis</ref>),</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.4))));</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>chain4.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>3&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0,0,5),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(1,0,4),<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242" kindref="member">Joint::RotAxis</ref>),</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.3))));</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>chain4.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>4&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0,0,0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(1,0,0),<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242" kindref="member">Joint::RotAxis</ref>),</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.2))));</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>chain4.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>5&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0,0,0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0,0,1),<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242" kindref="member">Joint::RotAxis</ref>),</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.1))));</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//chain<sp/>definition<sp/>for<sp/>vereshchagin&apos;s<sp/>dynamic<sp/>solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref><sp/>rotJoint0<sp/>=<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>1,<sp/>0,<sp/>0.01);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref><sp/>rotJoint1<sp/>=<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>1,<sp/>0,<sp/>0.01);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>refFrame(<ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">Rotation::RPY</ref>(0.0,<sp/>0.0,<sp/>0.0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>frame1(<ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">Rotation::RPY</ref>(0.0,<sp/>0.0,<sp/>0.0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>-0.4,<sp/>0.0));</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>frame2(<ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">Rotation::RPY</ref>(0.0,<sp/>0.0,<sp/>0.0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>-0.4,<sp/>0.0));</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//chain<sp/>segments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref><sp/>segment1<sp/>=<sp/><ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(rotJoint0,<sp/>frame1);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref><sp/>segment2<sp/>=<sp/><ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(rotJoint1,<sp/>frame2);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//rotational<sp/>inertia<sp/>around<sp/>symmetry<sp/>axis<sp/>of<sp/>rotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref><sp/>rotInerSeg1(0.0,<sp/>0.0,<sp/>0.0,<sp/>0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//spatial<sp/>inertia</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref><sp/>inerSegment1(0.3,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>-0.4,<sp/>0.0),<sp/>rotInerSeg1);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref><sp/>inerSegment2(0.3,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>-0.4,<sp/>0.0),<sp/>rotInerSeg1);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>segment1.<ref refid="classKDL_1_1Segment_1ac376a3d7eb6af5fc3c6dc885b6aa2e75" kindref="member">setInertia</ref>(inerSegment1);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>segment2.<ref refid="classKDL_1_1Segment_1ac376a3d7eb6af5fc3c6dc885b6aa2e75" kindref="member">setInertia</ref>(inerSegment2);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//chain</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>chaindyn.addSegment(segment1);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>chaindyn.addSegment(segment2);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Motoman<sp/>SIA10<sp/>Chain<sp/>(for<sp/>IK<sp/>singular<sp/>value<sp/>tests)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84" kindref="member">Joint::None</ref>),</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>0.0,<sp/>0.36,<sp/>0.0)));</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/><ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0)));</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.36,<sp/>0.0)));</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/><ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0)));</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.36,<sp/>0.0)));</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/><ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0)));</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0)));</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>),</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Rotation_1a5a5d40d8e6cf179cac35bc378c83017c" kindref="member">Rotation::Identity</ref>(),<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.155))));</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Motoman<sp/>SIA10<sp/>Chain<sp/>with<sp/>Mass<sp/>Parameters<sp/>(for<sp/>forward<sp/>dynamics<sp/>tests)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>effective<sp/>motor<sp/>inertia<sp/>is<sp/>included<sp/>as<sp/>joint<sp/>inertia</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>scale=1;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>offset=0;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>inertiamotorA=5.0;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>effective<sp/>motor<sp/>inertia<sp/>kg-m^2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>inertiamotorB=3.0;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>effective<sp/>motor<sp/>inertia<sp/>kg-m^2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>inertiamotorC=1.0;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>effective<sp/>motor<sp/>inertia<sp/>kg-m^2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>damping=0;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>stiffness=0;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>Segment<sp/>Inertias</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert1(15.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>-0.02,<sp/>0.0),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>mass,<sp/>CM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.1,<sp/>0.05,<sp/>0.1,<sp/>0.0,<sp/>0.0,<sp/>0.0));<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>inertia</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert2(5.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>-0.02,<sp/>-0.1),</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.01,<sp/>0.1,<sp/>0.1,<sp/>0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert3(5.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>-0.05,<sp/>0.02),</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.05,<sp/>0.01,<sp/>0.05,<sp/>0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert4(3.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>0.02,<sp/>-0.15),</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.1,<sp/>0.1,<sp/>0.01,<sp/>0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert5(3.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>-0.05,<sp/>0.01),</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.02,<sp/>0.01,<sp/>0.02,<sp/>0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert6(3.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>-0.01,<sp/>-0.1),</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.1,<sp/>0.1,<sp/>0.01,<sp/>0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">KDL::RigidBodyInertia</ref><sp/>inert7(1.0,<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.0,<sp/>0.0,<sp/>0.05),</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">KDL::RotationalInertia</ref>(0.01,<sp/>0.01,<sp/>0.1,<sp/>0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorA,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/><ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.36,<sp/>0.0),</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert1));</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorA,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert2));</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorB,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/><ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.36,<sp/>0.0),</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert3));</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorB,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert4));</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorC,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/><ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.36,<sp/>0.0),</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert5));</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorC,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref>,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert6));</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>inertiamotorC,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a80ee82a53ab3ceb0aa79b7b5892a14eb" kindref="member">Frame::DH</ref>(0.0,<sp/>0.0,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inert7));</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>motomansia10dyn.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84" kindref="member">Joint::None</ref>),</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Rotation_1a5a5d40d8e6cf179cac35bc378c83017c" kindref="member">Rotation::Identity</ref>(),<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.155))));</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>3.19,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>1.5707963,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>1.5707963,<sp/>0.0,<sp/>0.0).Inverse()*<ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector_1aac50a5f60447f9cb7b4a510c4695ab89" kindref="member">Vector::Zero</ref>(),</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(0.0,0.0,0.0115343,0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>3.05,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-1.5707963,<sp/>0.4,<sp/>0.0),</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-1.5707963,<sp/>0.4,<sp/>0.0).Inverse()*<ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,-0.3120511,-0.0038871),</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(-0.5471572,-0.0000302,-0.5423253,0.0,0.0,0.0018828))));</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>1.98,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-1.5707963,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-1.5707963,<sp/>0.0,<sp/>0.0).Inverse()*<ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,-0.0015515,0.0),</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(0.0063507,0.0,0.0107804,0.0,0.0,-0.0005147))));</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>2.05,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>1.5707963,<sp/>0.39,<sp/>0.0),</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>1.5707963,<sp/>0.39,<sp/>0.0).Inverse()*<ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.5216809,0.0),</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(-1.0436952,0.0,-1.0392780,0.0,0.0,0.0005324))));</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>0.787,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>1.5707963,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>1.5707963,<sp/>0.0,<sp/>0.0).Inverse()*<ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0119891,0.0),</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(0.0036654,0.0,0.0060429,0.0,0.0,0.0004226))));</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>0.391,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-1.5707963,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a0185c3081fd5459ae0a6081bf6fd5474" kindref="member">Frame::DH_Craig1989</ref>(0.0,<sp/>-1.5707963,<sp/>0.0,<sp/>0.0).Inverse()*<ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0080787,0.0),</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(0.0010431,0.0,0.0036376,0.0,0.0,0.0000101))));</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>kukaLWR.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(<ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(<ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f" kindref="member">Joint::RotZ</ref>,<sp/>scale,<sp/>offset,<sp/>0.394,<sp/>damping,<sp/>stiffness),</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame_1a21cc8438f71b522154d2ef4cd6933d69" kindref="member">Frame::Identity</ref>(),</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1RigidBodyInertia" kindref="compound">RigidBodyInertia</ref>(2,<sp/><ref refid="classKDL_1_1Vector_1aac50a5f60447f9cb7b4a510c4695ab89" kindref="member">Vector::Zero</ref>(),<sp/><ref refid="classKDL_1_1RotationalInertia" kindref="compound">RotationalInertia</ref>(0.000001,0.0,0.0001203,0.0,0.0,0.0))));</highlight></codeline>
<codeline lineno="223"><highlight class="normal">}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225" refid="classSolverTest_1a635a86d1c47eada485937d831736d950" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a635a86d1c47eada485937d831736d950" kindref="member">SolverTest::tearDown</ref>()</highlight></codeline>
<codeline lineno="226"><highlight class="normal">{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>delete<sp/>fksolverpos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>delete<sp/>jacsolver;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>delete<sp/>fksolvervel;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>delete<sp/>iksolvervel;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>delete<sp/>iksolverpos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal">}</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="classSolverTest_1af674fa44deef2a983996a1c1414a426b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1af674fa44deef2a983996a1c1414a426b" kindref="member">SolverTest::UpdateChainTest</ref>()</highlight></codeline>
<codeline lineno="235"><highlight class="normal">{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolverpos(chain2);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolvervel(chain2);</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver1(chain2);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacDotSolver" kindref="compound">ChainJntToJacDotSolver</ref><sp/>jacdotsolver1(chain2);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolver2(chain2);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolver_pinv_givens2(chain2);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__nso" kindref="compound">ChainIkSolverVel_pinv_nso</ref><sp/><sp/>iksolver_pinv_nso(chain2);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__wdls" kindref="compound">ChainIkSolverVel_wdls</ref><sp/>iksolver_wdls(chain2,1e-6,30);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolverpos(chain2,fksolverpos,iksolver2);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR__JL" kindref="compound">ChainIkSolverPos_NR_JL</ref><sp/>iksolverpos2(chain2,fksolverpos,iksolver2);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__LMA" kindref="compound">ChainIkSolverPos_LMA</ref><sp/>iksolverpos3(chain2);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainDynParam" kindref="compound">ChainDynParam</ref><sp/>dynparam(chain2,<sp/><ref refid="classKDL_1_1Vector_1aac50a5f60447f9cb7b4a510c4695ab89" kindref="member">Vector::Zero</ref>());</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIdSolver__RNE" kindref="compound">ChainIdSolver_RNE</ref><sp/>idsolver1(chain2,<sp/><ref refid="classKDL_1_1Vector_1aac50a5f60447f9cb7b4a510c4695ab89" kindref="member">Vector::Zero</ref>());</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nr_of_constraints<sp/>=<sp/>4;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainHdSolver__Vereshchagin" kindref="compound">ChainHdSolver_Vereshchagin</ref><sp/>hdsolver(chain2,<ref refid="classKDL_1_1Twist_1aeb2250f1de9e0c6f9fe738dc8c083bc9" kindref="member">Twist::Zero</ref>(),4);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainExternalWrenchEstimator" kindref="compound">ChainExternalWrenchEstimator</ref><sp/>extwrench_estimator(chain2,<ref refid="classKDL_1_1Vector_1aac50a5f60447f9cb7b4a510c4695ab89" kindref="member">Vector::Zero</ref>(),<sp/>100.0,<sp/>30.0,<sp/>0.5);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_in(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_in2(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArrayVel" kindref="compound">JntArrayVel</ref><sp/>q_in3(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain2.getNrOfJoints();<sp/>i++)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q_in(i));</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q_in2(i));</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_out(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_out2(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>ff_tau(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>constraint_tau(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>jac(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>T;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>t;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>T2;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">Wrenches</ref><sp/>wrenches(chain2.getNrOfSegments());</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>JntSpaceInertiaMatrix<sp/>m(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref><sp/>wrench_out;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>alpha(nr_of_constraints<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>beta(nr_of_constraints<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583" kindref="member">SolverI::E_OUT_OF_RANGE</ref>,fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q_in,<sp/>T,<sp/>chain2.getNrOfSegments()+1));</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583" kindref="member">SolverI::E_OUT_OF_RANGE</ref>,fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel__recursive_1adacf6fa9df12ab1876859d3296f22400" kindref="member">JntToCart</ref>(q_in3,<sp/>T2,<sp/>chain2.getNrOfSegments()+1));</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583" kindref="member">SolverI::E_OUT_OF_RANGE</ref>,<sp/>jacsolver1.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q_in,<sp/>jac,<sp/>chain2.getNrOfSegments()+1));</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583" kindref="member">SolverI::E_OUT_OF_RANGE</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>t,<sp/>chain2.getNrOfSegments()+1));</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583" kindref="member">SolverI::E_OUT_OF_RANGE</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>jac,<sp/>chain2.getNrOfSegments()+1));</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>chain2.addSegment(<ref refid="classKDL_1_1Segment" kindref="compound">Segment</ref>(</highlight><highlight class="stringliteral">&quot;Segment<sp/>6&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint" kindref="compound">Joint</ref>(</highlight><highlight class="stringliteral">&quot;Joint<sp/>6&quot;</highlight><highlight class="normal">,<sp/><ref refid="classKDL_1_1Joint_1ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75" kindref="member">Joint::RotX</ref>),</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,0.0,0.1))));</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>jacsolver1.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q_in,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>t,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolver2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a202bae1336d36647917b761ee8d5f7ea" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolver_pinv_givens2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens_1a3d19e3f2e36a0e82c44d139f1056065b" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolver_pinv_nso.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__nso_1ae4689c53089eb8af85e347d5f61b3892" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolver_wdls.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolverpos.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a094de2ebc84cf280e1d91ffe30d7a6d4" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a51e0cd14d0b764eab96150ca868a1346" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a616876214cb26793cedeed01e5093b3a" kindref="member">JntToCoriolis</ref>(q_in,<sp/>q_in2,<sp/>q_out));</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1ad71feeedf84067cd454bd194ddc7656b" kindref="member">JntToGravity</ref>(q_in,<sp/>q_out));</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a452ff0523f877bdd62715380553cf106" kindref="member">JntToMass</ref>(q_in,<sp/>m));</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c" kindref="member">SolverI::E_NOT_UP_TO_DATE</ref>,<sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1ab8782e7fbd2048a7134b0540868b68ca" kindref="member">JntToExtWrench</ref>(q_in,q_in2,ff_tau,wrench_out));</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>jacsolver1.<ref refid="classKDL_1_1ChainJntToJacSolver_1a8c6fe8ec5cd73c65699143e4a5df9bef" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1abf33f1cf45e7c3f97bb12f7f2a370c4a" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolver2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1adfbf3b47f5f4aaf94df885adac06cad1" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolver_pinv_givens2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens_1a993d8e4233b7e1095b3ee2d11c40c335" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolver_pinv_nso.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__nso_1a24f21a9fef5411449552a63c60e883ae" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolver_wdls.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a30247d462ff6438cd6fb1d552c9866a0" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolverpos.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a5f3f444352531e50a84f73686e01cf03" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a9f1d384cbdbc99735678726213249147" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a068a7af864c449f5053e3ba528c849fb" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1aa939c7f6490b216cf7c89f72d4a114b8" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1ac7c90c38d928d5bb337a0098ed7bd743" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a6c8dcaf5fd22bf4da412894633c69ad5" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1a8926e0a2ce6d5d595aa9cdc5b7160f83" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q_in,<sp/>T,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel__recursive_1adacf6fa9df12ab1876859d3296f22400" kindref="member">JntToCart</ref>(q_in3,<sp/>T2,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>jacsolver1.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q_in,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>t,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a202bae1336d36647917b761ee8d5f7ea" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver_pinv_givens2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens_1a3d19e3f2e36a0e82c44d139f1056065b" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver_pinv_nso.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__nso_1ae4689c53089eb8af85e347d5f61b3892" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver_wdls.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a094de2ebc84cf280e1d91ffe30d7a6d4" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a51e0cd14d0b764eab96150ca868a1346" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a616876214cb26793cedeed01e5093b3a" kindref="member">JntToCoriolis</ref>(q_in,<sp/>q_in2,<sp/>q_out));</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1ad71feeedf84067cd454bd194ddc7656b" kindref="member">JntToGravity</ref>(q_in,<sp/>q_out));</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a452ff0523f877bdd62715380553cf106" kindref="member">JntToMass</ref>(q_in,<sp/>m));</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1ab8782e7fbd2048a7134b0540868b68ca" kindref="member">JntToExtWrench</ref>(q_in,q_in2,ff_tau,wrench_out));</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>q_in.<ref refid="classKDL_1_1JntArray_1a4ea82246fd0aa8badff28deb24c2e629" kindref="member">resize</ref>(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>jacsolver1.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q_in,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a202bae1336d36647917b761ee8d5f7ea" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver_pinv_givens2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens_1a3d19e3f2e36a0e82c44d139f1056065b" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver_pinv_nso.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__nso_1ae4689c53089eb8af85e347d5f61b3892" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolver_wdls.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a094de2ebc84cf280e1d91ffe30d7a6d4" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a51e0cd14d0b764eab96150ca868a1346" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a094de2ebc84cf280e1d91ffe30d7a6d4" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a51e0cd14d0b764eab96150ca868a1346" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a616876214cb26793cedeed01e5093b3a" kindref="member">JntToCoriolis</ref>(q_in,<sp/>q_in2,<sp/>q_out));</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1ad71feeedf84067cd454bd194ddc7656b" kindref="member">JntToGravity</ref>(q_in,<sp/>q_out));</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a452ff0523f877bdd62715380553cf106" kindref="member">JntToMass</ref>(q_in,<sp/>m));</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1ab8782e7fbd2048a7134b0540868b68ca" kindref="member">JntToExtWrench</ref>(q_in,q_in2,ff_tau,wrench_out));</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/>q_in2.<ref refid="classKDL_1_1JntArray_1a4ea82246fd0aa8badff28deb24c2e629" kindref="member">resize</ref>(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a616876214cb26793cedeed01e5093b3a" kindref="member">JntToCoriolis</ref>(q_in,<sp/>q_in2,<sp/>q_out));</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1ab8782e7fbd2048a7134b0540868b68ca" kindref="member">JntToExtWrench</ref>(q_in,q_in2,ff_tau,wrench_out));</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/>wrenches.<ref refid="cpp/container/vector/resize" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">resize</ref>(chain2.getNrOfSegments());</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>q_out2.<ref refid="classKDL_1_1JntArray_1a4ea82246fd0aa8badff28deb24c2e629" kindref="member">resize</ref>(chain2.getNrOfSegments());</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau.<ref refid="classKDL_1_1JntArray_1a4ea82246fd0aa8badff28deb24c2e629" kindref="member">resize</ref>(chain2.getNrOfSegments());</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/>constraint_tau.<ref refid="classKDL_1_1JntArray_1a4ea82246fd0aa8badff28deb24c2e629" kindref="member">resize</ref>(chain2.getNrOfSegments());</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha.<ref refid="classKDL_1_1Jacobian_1a296c2e29811beb1769221f26d3e6556b" kindref="member">resize</ref>(nr_of_constraints);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>beta.resize(nr_of_constraints);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>jac.<ref refid="classKDL_1_1Jacobian_1a296c2e29811beb1769221f26d3e6556b" kindref="member">resize</ref>(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a" kindref="member">SolverI::E_SIZE_MISMATCH</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>q_out.<ref refid="classKDL_1_1JntArray_1a4ea82246fd0aa8badff28deb24c2e629" kindref="member">resize</ref>(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>q_in3.<ref refid="classKDL_1_1JntArrayVel_1a8a10270f9a701b50cc8dcaa61fc9f538" kindref="member">resize</ref>(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>m.resize(chain2.getNrOfJoints());</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q_in,<sp/>T,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel__recursive_1adacf6fa9df12ab1876859d3296f22400" kindref="member">JntToCart</ref>(q_in3,<sp/>T2,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>jacsolver1.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q_in,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>jac,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>jacdotsolver1.<ref refid="classKDL_1_1ChainJntToJacDotSolver_1ad284ffc96433e7b7bed652a5c564f8ea" kindref="member">JntToJacDot</ref>(q_in3,<sp/>t,<sp/>chain2.getNrOfSegments()));</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolver2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a202bae1336d36647917b761ee8d5f7ea" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolver_pinv_givens2.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens_1a3d19e3f2e36a0e82c44d139f1056065b" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolver_pinv_nso.<ref refid="classKDL_1_1ChainIkSolverVel__pinv__nso_1ae4689c53089eb8af85e347d5f61b3892" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolver_wdls.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q_in,t,q_out));</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolverpos.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a094de2ebc84cf280e1d91ffe30d7a6d4" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a51e0cd14d0b764eab96150ca868a1346" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolverpos2.<ref refid="classKDL_1_1ChainIkSolverPos__NR__JL_1a094de2ebc84cf280e1d91ffe30d7a6d4" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>iksolverpos3.<ref refid="classKDL_1_1ChainIkSolverPos__LMA_1a51e0cd14d0b764eab96150ca868a1346" kindref="member">CartToJnt</ref>(q_in,T,q_out));</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>idsolver1.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,wrenches,q_out2));</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>hdsolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q_in,q_in2,q_out,alpha,beta,wrenches,<sp/>ff_tau,<sp/>constraint_tau));</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a616876214cb26793cedeed01e5093b3a" kindref="member">JntToCoriolis</ref>(q_in,<sp/>q_in2,<sp/>q_out));</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1ad71feeedf84067cd454bd194ddc7656b" kindref="member">JntToGravity</ref>(q_in,<sp/>q_out));</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>dynparam.<ref refid="classKDL_1_1ChainDynParam_1a452ff0523f877bdd62715380553cf106" kindref="member">JntToMass</ref>(q_in,<sp/>m));</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref><sp/>&lt;=<sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1ab8782e7fbd2048a7134b0540868b68ca" kindref="member">JntToExtWrench</ref>(q_in,q_in2,ff_tau,wrench_out));</highlight></codeline>
<codeline lineno="391"><highlight class="normal">}</highlight></codeline>
<codeline lineno="392" refid="classSolverTest_1ad9691ea38f4464eeb532aaa1ce168421" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1ad9691ea38f4464eeb532aaa1ce168421" kindref="member">SolverTest::FkPosAndJacTest</ref>()</highlight></codeline>
<codeline lineno="393"><highlight class="normal">{</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver1(chain1);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver1(chain1);</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndJacLocal(chain1,fksolver1,jacsolver1);</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver2(chain2);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver2(chain2);</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndJacLocal(chain2,fksolver2,jacsolver2);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver3(chain3);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver3(chain3);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndJacLocal(chain3,fksolver3,jacsolver3);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver4(chain4);</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver4(chain4);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndJacLocal(chain4,fksolver4,jacsolver4);</highlight></codeline>
<codeline lineno="406"><highlight class="normal">}</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408" refid="classSolverTest_1a4f63ee06d015d4df37bf6ae1f9dbf891" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a4f63ee06d015d4df37bf6ae1f9dbf891" kindref="member">SolverTest::FkVelAndJacTest</ref>()</highlight></codeline>
<codeline lineno="409"><highlight class="normal">{</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver1(chain1);</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver1(chain1);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndJacLocal(chain1,fksolver1,jacsolver1);</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver2(chain2);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver2(chain2);</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndJacLocal(chain2,fksolver2,jacsolver2);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver3(chain3);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver3(chain3);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndJacLocal(chain3,fksolver3,jacsolver3);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver4(chain4);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver4(chain4);</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndJacLocal(chain4,fksolver4,jacsolver4);</highlight></codeline>
<codeline lineno="422"><highlight class="normal">}</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424" refid="classSolverTest_1ac32e72d32c444f27834193bf263996aa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1ac32e72d32c444f27834193bf263996aa" kindref="member">SolverTest::FkVelAndIkVelTest</ref>()</highlight></codeline>
<codeline lineno="425"><highlight class="normal">{</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Chain1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;square<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver1(chain1);</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolver1(chain1);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolver_pinv_givens1(chain1);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain1,fksolver1,iksolver1);</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain1,fksolver1,iksolver_pinv_givens1);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Chain2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;underdetermined<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver2(chain2);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolver2(chain2);</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolver_pinv_givens2(chain2);</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain2,fksolver2,iksolver2);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain2,fksolver2,iksolver_pinv_givens2);</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Chain3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;overdetermined<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver3(chain3);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolver3(chain3);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolver_pinv_givens3(chain3);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain3,fksolver3,iksolver3);</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain3,fksolver3,iksolver_pinv_givens3);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Chain4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;overdetermined<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver4(chain4);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolver4(chain4);</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolver_pinv_givens4(chain4);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain4,fksolver4,iksolver4);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>FkVelAndIkVelLocal(chain4,fksolver4,iksolver_pinv_givens4);</highlight></codeline>
<codeline lineno="465"><highlight class="normal">}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467" refid="classSolverTest_1a325511c7797b0af74251a1e6ab7b4280" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a325511c7797b0af74251a1e6ab7b4280" kindref="member">SolverTest::FkPosAndIkPosTest</ref>()</highlight></codeline>
<codeline lineno="468"><highlight class="normal">{</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;square<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver1(chain1);</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolver1v(chain1);</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolverv_pinv_givens1(chain1);</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver1(chain1,fksolver1,iksolver1v);</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver1_givens(chain1,fksolver1,iksolverv_pinv_givens1,1000);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain1,fksolver1,iksolver1);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain1,fksolver1,iksolver1_givens);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;underdetermined<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver2(chain2);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolverv2(chain2);</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolverv_pinv_givens2(chain2);</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver2(chain2,fksolver2,iksolverv2);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver2_givens(chain2,fksolver2,iksolverv_pinv_givens2,1000);</highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain2,fksolver2,iksolver2);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain2,fksolver2,iksolver2_givens);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;overdetermined<sp/>problem&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver3(chain3);</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolverv3(chain3);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolverv_pinv_givens3(chain3);</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver3(chain3,fksolver3,iksolverv3);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver3_givens(chain3,fksolver3,iksolverv_pinv_givens3,1000);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain3,fksolver3,iksolver3);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain3,fksolver3,iksolver3_givens);</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;underdetermined<sp/>problem<sp/>with<sp/>WGs<sp/>segment<sp/>constructor&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver4(chain4);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>iksolverv4(chain4);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv__givens" kindref="compound">ChainIkSolverVel_pinv_givens</ref><sp/>iksolverv_pinv_givens4(chain4);</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver4(chain4,fksolver4,iksolverv4,1000);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver4_givens(chain4,fksolver4,iksolverv_pinv_givens4,1000);</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain4,fksolver4,iksolver4);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-SVD-Givens&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>FkPosAndIkPosLocal(chain4,fksolver4,iksolver4_givens);</highlight></codeline>
<codeline lineno="516"><highlight class="normal">}</highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight></codeline>
<codeline lineno="518" refid="classSolverTest_1a98233f094ee5ee25bbcac08c18ef1cf1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a98233f094ee5ee25bbcac08c18ef1cf1" kindref="member">SolverTest::IkSingularValueTest</ref>()</highlight></codeline>
<codeline lineno="519"><highlight class="normal">{</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>maxiter<sp/>=<sp/>30;</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/>eps<sp/>=<sp/>1e-6<sp/>;</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>maxiter_vel<sp/>=<sp/>30;</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/>eps_vel<sp/>=<sp/>0.1<sp/>;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>F,<sp/>dF,<sp/>F_des,F_solved;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">KDL::Twist</ref><sp/>F_error<sp/>;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-IK<sp/>Solver<sp/>Tests<sp/>for<sp/>Near<sp/>Zero<sp/>SVs&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver(motomansia10);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__pinv" kindref="compound">ChainIkSolverVel_pinv</ref><sp/>ikvelsolver1(motomansia10,eps_vel,maxiter_vel);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver1(motomansia10,fksolver,ikvelsolver1,maxiter,eps);</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>motomansia10.getNrOfJoints();</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(nj),<sp/>q_solved(nj)<sp/>;</highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;norminal<sp/>case:<sp/><sp/>convergence&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.5<sp/>;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.4<sp/>;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref><sp/>;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref><sp/>=<sp/><ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">KDL::Rotation::RPY</ref>(0.1,<sp/>0.1,<sp/>0.1)<sp/>;</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref><sp/>=<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.01,0.01,0.01)<sp/>;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(0,<sp/>fksolver.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,F));</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/>F_des<sp/>=<sp/>F<sp/>*<sp/>dF<sp/>;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iksolver1.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q,<sp/>F_des,<sp/>q_solved));<sp/><sp/></highlight><highlight class="comment">//<sp/>converges</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1SolverI_1a0473a25058060878b90ace7324ae1d47" kindref="member">getError</ref>());</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)1,</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a11d9df2fdfea7c7d616298c907ce672a" kindref="member">getNrZeroSigmas</ref>())<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>1<sp/>singular<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(0,<sp/>fksolver.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q_solved,F_solved));</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>F_error<sp/>=<sp/><ref refid="namespaceKDL_1a721ba3f54f506bc1004fb981a9ea7b13" kindref="member">KDL::diff</ref>(F_solved,F_des);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(F_des,F_solved);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;nonconvergence:<sp/><sp/>pseudoinverse<sp/>singular&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.2<sp/>;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.4<sp/>;</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref><sp/>;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.M<sp/>=<sp/><ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">KDL::Rotation::RPY</ref>(0.1,<sp/>0.1,<sp/>0.1)<sp/>;</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.p<sp/>=<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.01,0.01,0.01)<sp/>;</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(0,<sp/>fksolver.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,F));</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>F_des<sp/>=<sp/>F<sp/>*<sp/>dF<sp/>;</highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50" kindref="member">SolverI::E_MAX_ITERATIONS_EXCEEDED</ref>,</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iksolver1.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q,F_des,q_solved));<sp/></highlight><highlight class="comment">//<sp/>no<sp/>converge</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a5c3646dc5104390e7d6a92490b2785e6" kindref="member">ChainIkSolverVel_pinv::E_CONVERGE_PINV_SINGULAR</ref>,</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1SolverI_1a0473a25058060878b90ace7324ae1d47" kindref="member">getError</ref>());<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>truncated<sp/>SV<sp/>solution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)2,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a11d9df2fdfea7c7d616298c907ce672a" kindref="member">getNrZeroSigmas</ref>())<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>2<sp/>singular<sp/>values<sp/>(jac<sp/>pseudoinverse<sp/>singular)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;nonconvergence:<sp/><sp/>large<sp/>displacement,<sp/>low<sp/>iterations&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.5<sp/>;</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.4<sp/>;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref><sp/>;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="595"><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>big<sp/>displacement</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.M<sp/>=<sp/><ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">KDL::Rotation::RPY</ref>(0.2,<sp/>0.2,<sp/>0.2)<sp/>;</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.p<sp/>=<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(-0.2,-0.2,<sp/>-0.2)<sp/>;</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>low<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/>maxiter<sp/>=<sp/>5<sp/>;</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverPos__NR" kindref="compound">ChainIkSolverPos_NR</ref><sp/>iksolver2(motomansia10,fksolver,ikvelsolver1,maxiter,eps);</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(0,<sp/>fksolver.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,F));</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/>F_des<sp/>=<sp/>F<sp/>*<sp/>dF<sp/>;</highlight></codeline>
<codeline lineno="606"><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50" kindref="member">SolverI::E_MAX_ITERATIONS_EXCEEDED</ref>,</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iksolver2.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q,F_des,q_solved));<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>does<sp/>not<sp/>converge</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1SolverI_1a0473a25058060878b90ace7324ae1d47" kindref="member">getError</ref>());</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)1,</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a11d9df2fdfea7c7d616298c907ce672a" kindref="member">getNrZeroSigmas</ref>())<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>1<sp/>singular<sp/>value<sp/>(jac<sp/>pseudoinverse<sp/>exists)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;nonconvergence:<sp/><sp/>fully<sp/>singular&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.M<sp/>=<sp/><ref refid="classKDL_1_1Rotation_1afbe17f3c9249078626fba1736aed8d31" kindref="member">KDL::Rotation::RPY</ref>(0.1,<sp/>0.1,<sp/>0.1)<sp/>;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/>dF.p<sp/>=<sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref>(0.01,0.01,0.01)<sp/>;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolver.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,F));</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/>F_des<sp/>=<sp/>F<sp/>*<sp/>dF<sp/>;</highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50" kindref="member">SolverI::E_MAX_ITERATIONS_EXCEEDED</ref>,</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iksolver1.<ref refid="classKDL_1_1ChainIkSolverPos__NR_1a3058bdb9e57a4b9e20672ac30fdfb010" kindref="member">CartToJnt</ref>(q,F_des,q_solved));<sp/></highlight><highlight class="comment">//<sp/>no<sp/>converge</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a5c3646dc5104390e7d6a92490b2785e6" kindref="member">ChainIkSolverVel_pinv::E_CONVERGE_PINV_SINGULAR</ref>,</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1SolverI_1a0473a25058060878b90ace7324ae1d47" kindref="member">getError</ref>());<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>truncated<sp/>SV<sp/>solution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)3,</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver1.<ref refid="classKDL_1_1ChainIkSolverVel__pinv_1a11d9df2fdfea7c7d616298c907ce672a" kindref="member">getNrZeroSigmas</ref>());</highlight></codeline>
<codeline lineno="636"><highlight class="normal">}</highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639" refid="classSolverTest_1a7e294164472d1837452f4a417b2e141e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a7e294164472d1837452f4a417b2e141e" kindref="member">SolverTest::IkVelSolverWDLSTest</ref>()</highlight></codeline>
<codeline lineno="640"><highlight class="normal">{</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>maxiter<sp/>=<sp/>30;</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/>eps<sp/>=<sp/>0.1<sp/>;</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>lambda<sp/>=<sp/>0.1<sp/>;</highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL-IK<sp/>WDLS<sp/>Vel<sp/>Solver<sp/>Tests<sp/>for<sp/>Near<sp/>Zero<sp/>SVs&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIkSolverVel__wdls" kindref="compound">KDL::ChainIkSolverVel_wdls</ref><sp/>ikvelsolver(motomansia10,eps,maxiter)<sp/>;</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/>ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1aae31a982ea6a043a37592329cc51fab4" kindref="member">setLambda</ref>(lambda)<sp/>;</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>motomansia10.getNrOfJoints();</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(nj),<sp/>dq(nj)<sp/>;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>v05(0.05,0.05,0.05)<sp/>;</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">KDL::Twist</ref><sp/>dx(v05,v05)<sp/>;</highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;smallest<sp/>singular<sp/>value<sp/>is<sp/>above<sp/>threshold<sp/>(no<sp/>WDLS)&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="656"><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.5<sp/>;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.4<sp/>;</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>-<ref refid="namespaceKDL_1ade3c77f3bc3e28d8cb67aa59162599cf" kindref="member">PI_2</ref><sp/>;</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.<sp/>;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q,<sp/>dx,<sp/>dq))<sp/>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>wdls<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(1==ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1ab27c3a6690943b78673b386884794a65" kindref="member">getNrZeroSigmas</ref>())<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>1<sp/>singular<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="normal"></highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;smallest<sp/>singular<sp/>value<sp/>is<sp/>below<sp/>threshold<sp/>(lambda<sp/>is<sp/>scaled)&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.2<sp/>;</highlight></codeline>
<codeline lineno="673"><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a740d84e22565a0fcf73dd834e4152fbf" kindref="member">ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</ref>,</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q,<sp/>dx,<sp/>dq))<sp/>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>wdls<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)2,ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1ab27c3a6690943b78673b386884794a65" kindref="member">getNrZeroSigmas</ref>())<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>2<sp/>singular<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1afc24c8c3e751a2e663080b00924bc9a9" kindref="member">getLambdaScaled</ref>(),</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa6caeaeca2777225cf1f09355e286d27" kindref="member">sqrt</ref>(1.0-(ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a44685c39e2cc8e65c3565fdaadb96a75" kindref="member">getSigmaMin</ref>()/eps)*(ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a44685c39e2cc8e65c3565fdaadb96a75" kindref="member">getSigmaMin</ref>()/eps))*lambda)<sp/>;</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;smallest<sp/>singular<sp/>value<sp/>is<sp/>zero<sp/>(lambda_scaled=lambda)&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.0<sp/>;</highlight></codeline>
<codeline lineno="683"><highlight class="normal"></highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a740d84e22565a0fcf73dd834e4152fbf" kindref="member">ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</ref>,</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q,<sp/>dx,<sp/>dq))<sp/>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>wdls<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)2,ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1ab27c3a6690943b78673b386884794a65" kindref="member">getNrZeroSigmas</ref>())<sp/>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>2<sp/>singular<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1afc24c8c3e751a2e663080b00924bc9a9" kindref="member">getLambdaScaled</ref>(),lambda)<sp/>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>full<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>fully<sp/>singular</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.0<sp/>;</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>0.0<sp/>;</highlight></codeline>
<codeline lineno="692"><highlight class="normal"></highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a740d84e22565a0fcf73dd834e4152fbf" kindref="member">ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</ref>,</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1a3076f9888b9e3905abbadf37cfa0e692" kindref="member">CartToJnt</ref>(q,<sp/>dx,<sp/>dq))<sp/>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>wdls<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(4,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1ab27c3a6690943b78673b386884794a65" kindref="member">getNrZeroSigmas</ref>())<sp/>;</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(ikvelsolver.<ref refid="classKDL_1_1ChainIkSolverVel__wdls_1afc24c8c3e751a2e663080b00924bc9a9" kindref="member">getLambdaScaled</ref>(),lambda)<sp/>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>full<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal">}</highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight></codeline>
<codeline lineno="700" refid="classSolverTest_1a2e61d86d485d9e976dfd28f6a82513f2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a2e61d86d485d9e976dfd28f6a82513f2" kindref="member">SolverTest::FkPosAndJacLocal</ref>(<ref refid="classKDL_1_1Chain" kindref="compound">Chain</ref>&amp;<sp/>chain,<ref refid="classKDL_1_1ChainFkSolverPos" kindref="compound">ChainFkSolverPos</ref>&amp;<sp/>fksolverpos,<ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref>&amp;<sp/>jacsolver)</highlight></codeline>
<codeline lineno="701"><highlight class="normal">{</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>deltaq<sp/>=<sp/>1E-4;</highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>F1,F2;</highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>jac(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>();<sp/>i++)</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q(i));</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/>jacsolver.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q,jac);</highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;<sp/>q.<ref refid="classKDL_1_1JntArray_1a3176b3c2ebbeeca6e45a3e8d4d692e5b" kindref="member">rows</ref>()<sp/>;<sp/>i++)</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>test<sp/>the<sp/>derivative<sp/>of<sp/>J<sp/>towards<sp/>qi</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>oldqi<sp/>=<sp/>q(i);</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q(i)<sp/>=<sp/>oldqi+deltaq;</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos_1aee36d4b6ef10c9776e6cd0c2a105606e" kindref="member">JntToCart</ref>(q,F2));</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q(i)<sp/>=<sp/>oldqi-deltaq;</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos_1aee36d4b6ef10c9776e6cd0c2a105606e" kindref="member">JntToCart</ref>(q,F1));</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q(i)<sp/>=<sp/>oldqi;</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>Jacobian<sp/>:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>Jcol1<sp/>=<sp/><ref refid="namespaceKDL_1a721ba3f54f506bc1004fb981a9ea7b13" kindref="member">diff</ref>(F1,F2,2*deltaq);</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>Jcol2(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(jac(0,i),jac(1,i),jac(2,i)),</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(jac(3,i),jac(4,i),jac(5,i)));</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//CPPUNIT_ASSERT_EQUAL(true,Equal(Jcol1,Jcol2,epsJ));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(Jcol1,Jcol2);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="733"><highlight class="normal">}</highlight></codeline>
<codeline lineno="734"><highlight class="normal"></highlight></codeline>
<codeline lineno="735" refid="classSolverTest_1a9d4f13f0395e5fc93fad1768bf367d78" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a9d4f13f0395e5fc93fad1768bf367d78" kindref="member">SolverTest::FkVelAndJacLocal</ref>(<ref refid="classKDL_1_1Chain" kindref="compound">Chain</ref>&amp;<sp/>chain,<sp/><ref refid="classKDL_1_1ChainFkSolverVel" kindref="compound">ChainFkSolverVel</ref>&amp;<sp/>fksolvervel,<sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref>&amp;<sp/>jacsolver)</highlight></codeline>
<codeline lineno="736"><highlight class="normal">{</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdot(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="739"><highlight class="normal"></highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>();<sp/>i++)</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q(i));</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(qdot(i));</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArrayVel" kindref="compound">JntArrayVel</ref><sp/>qvel(q,qdot);</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>jac(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>cart;</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>t;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/>jacsolver.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(qvel.<ref refid="classKDL_1_1JntArrayVel_1a3d1c16da97a33260f4e6ee867bc357b6" kindref="member">q</ref>,jac);</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel_1a7ae7b44890420e9459a3e8da73994edb" kindref="member">JntToCart</ref>(qvel,cart));</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1ac85eca37a300ca3afa534bf3133cd134" kindref="member">MultiplyJacobian</ref>(jac,qvel.<ref refid="classKDL_1_1JntArrayVel_1a4cedcb3da3af96a6934fa3cefc5be371" kindref="member">qdot</ref>,t);</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(cart.<ref refid="classKDL_1_1FrameVel_1a4e063497fd4fb7bdaa79034553939a70" kindref="member">deriv</ref>(),t);</highlight></codeline>
<codeline lineno="755"><highlight class="normal">}</highlight></codeline>
<codeline lineno="756"><highlight class="normal"></highlight></codeline>
<codeline lineno="757" refid="classSolverTest_1af74397c8637f579fc80099d4ea763829" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1af74397c8637f579fc80099d4ea763829" kindref="member">SolverTest::FkVelAndIkVelLocal</ref>(<ref refid="classKDL_1_1Chain" kindref="compound">Chain</ref>&amp;<sp/>chain,<sp/><ref refid="classKDL_1_1ChainFkSolverVel" kindref="compound">ChainFkSolverVel</ref>&amp;<sp/>fksolvervel,<sp/><ref refid="classKDL_1_1ChainIkSolverVel" kindref="compound">ChainIkSolverVel</ref>&amp;<sp/>iksolvervel)</highlight></codeline>
<codeline lineno="758"><highlight class="normal">{</highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdot(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="762"><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>();<sp/>i++)</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q(i));</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(qdot(i));</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArrayVel" kindref="compound">JntArrayVel</ref><sp/>qvel(q,qdot);</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdot_solved(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>cart;</highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel_1a7ae7b44890420e9459a3e8da73994edb" kindref="member">JntToCart</ref>(qvel,cart));</highlight></codeline>
<codeline lineno="774"><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>iksolvervel.<ref refid="classKDL_1_1ChainIkSolverVel_1a761853db487c901485737c6334953cbe" kindref="member">CartToJnt</ref>(qvel.<ref refid="classKDL_1_1JntArrayVel_1a3d1c16da97a33260f4e6ee867bc357b6" kindref="member">q</ref>,cart.<ref refid="classKDL_1_1FrameVel_1a4e063497fd4fb7bdaa79034553939a70" kindref="member">deriv</ref>(),qdot_solved));</highlight></codeline>
<codeline lineno="776"><highlight class="normal"></highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/>qvel.<ref refid="classKDL_1_1JntArrayVel_1a00edc595e5950fa9993f7912e9f890d3" kindref="member">deriv</ref>()=qdot_solved;</highlight></codeline>
<codeline lineno="778"><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>()&lt;=6)</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(qvel.<ref refid="classKDL_1_1JntArrayVel_1a4cedcb3da3af96a6934fa3cefc5be371" kindref="member">qdot</ref>,qdot_solved,1e-5));</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>cart_solved;</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel_1a7ae7b44890420e9459a3e8da73994edb" kindref="member">JntToCart</ref>(qvel,cart_solved));</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(cart.<ref refid="classKDL_1_1FrameVel_1a4e063497fd4fb7bdaa79034553939a70" kindref="member">deriv</ref>(),cart_solved.<ref refid="classKDL_1_1FrameVel_1a4e063497fd4fb7bdaa79034553939a70" kindref="member">deriv</ref>(),1e-5));</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="787"><highlight class="normal">}</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="790" refid="classSolverTest_1a5312251bc318438ee6765132c41e6f15" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a5312251bc318438ee6765132c41e6f15" kindref="member">SolverTest::FkPosAndIkPosLocal</ref>(<ref refid="classKDL_1_1Chain" kindref="compound">Chain</ref>&amp;<sp/>chain,<ref refid="classKDL_1_1ChainFkSolverPos" kindref="compound">ChainFkSolverPos</ref>&amp;<sp/>fksolverpos,<sp/><ref refid="classKDL_1_1ChainIkSolverPos" kindref="compound">ChainIkSolverPos</ref>&amp;<sp/>iksolverpos)</highlight></codeline>
<codeline lineno="791"><highlight class="normal">{</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>();<sp/>i++)</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q(i));</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_init(chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>());</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tmp;</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain.<ref refid="classKDL_1_1Chain_1a24915919dabc4ea58600a38882445cd8" kindref="member">getNrOfJoints</ref>();<sp/>i++)</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(tmp);</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q_init(i)=q(i)+0.1*tmp;</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_solved(q);</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>F1,F2;</highlight></codeline>
<codeline lineno="807"><highlight class="normal"></highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos_1aee36d4b6ef10c9776e6cd0c2a105606e" kindref="member">JntToCart</ref>(q,F1));</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>iksolverpos.<ref refid="classKDL_1_1ChainIkSolverPos_1a4781229863bfda0a6ebb6e6768fa2033" kindref="member">CartToJnt</ref>(q_init,F1,q_solved));</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos_1aee36d4b6ef10c9776e6cd0c2a105606e" kindref="member">JntToCart</ref>(q_solved,F2));</highlight></codeline>
<codeline lineno="811"><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL(F1,F2);</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//CPPUNIT_ASSERT_EQUAL(q,q_solved);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"></highlight></codeline>
<codeline lineno="815"><highlight class="normal">}</highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"></highlight></codeline>
<codeline lineno="818" refid="classSolverTest_1a6a24b518ad5ace0f37fe35cc4a515e9a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a6a24b518ad5ace0f37fe35cc4a515e9a" kindref="member">SolverTest::VereshchaginTest</ref>()</highlight></codeline>
<codeline lineno="819"><highlight class="normal">{</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL<sp/>Vereshchagin<sp/>Hybrid<sp/>Dynamics<sp/>Tests&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="821"><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vereshchagin<sp/>solver<sp/>test<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight></codeline>
<codeline lineno="842"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>solver_return<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>eps<sp/>=<sp/>1.e-3;</highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>kukaLWR.getNrOfJoints();</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ns<sp/>=<sp/>kukaLWR.getNrOfSegments();</highlight></codeline>
<codeline lineno="847"><highlight class="normal"></highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Necessary<sp/>test<sp/>for<sp/>the<sp/>used<sp/>robot<sp/>model:<sp/>KDL&apos;s<sp/>implementation<sp/>of<sp/>the<sp/>Vereshchagin<sp/>solver<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>can<sp/>only<sp/>work<sp/>with<sp/>the<sp/>robot<sp/>chains<sp/>that<sp/>have<sp/>equal<sp/>number<sp/>of<sp/>joints<sp/>and<sp/>segments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nj,<sp/>ns));</highlight></codeline>
<codeline lineno="851"><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Joint<sp/>position,<sp/>velocity,<sp/>acceleration,<sp/>feed-forward<sp/>and<sp/>constraint<sp/>torques</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>q(nj);<sp/></highlight><highlight class="comment">//input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>qd(nj);<sp/></highlight><highlight class="comment">//input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>qdd(nj);<sp/></highlight><highlight class="comment">//output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>ff_tau(nj);<sp/></highlight><highlight class="comment">//input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>constraint_tau(nj);<sp/></highlight><highlight class="comment">//output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="858"><highlight class="normal"></highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Random<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/><sp/>1.6;</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>-1.6;</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>-1.57;</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/><sp/>1.57;</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>-0.8;</highlight></codeline>
<codeline lineno="867"><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(0)<sp/>=<sp/><sp/>1.0;</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(1)<sp/>=<sp/>-2.0;</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(2)<sp/>=<sp/><sp/>3.0;</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(3)<sp/>=<sp/>-4.0;</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(4)<sp/>=<sp/><sp/>5.0;</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(5)<sp/>=<sp/>-6.0;</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(6)<sp/>=<sp/><sp/>7.0;</highlight></codeline>
<codeline lineno="875"><highlight class="normal"></highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Random<sp/>feedforwad<sp/>torques<sp/>acting<sp/>on<sp/>robot<sp/>joints</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(0)<sp/>=<sp/><sp/>5.0;</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(1)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(2)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(3)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(4)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(5)<sp/>=<sp/>-6.0;</highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(6)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="884"><highlight class="normal"></highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>External<sp/>Wrench<sp/>acting<sp/>on<sp/>the<sp/>end-effector,<sp/>expressed<sp/>in<sp/>base<sp/>link<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vereshchagin<sp/>solver<sp/>expects<sp/>that<sp/>external<sp/>wrenches<sp/>are<sp/>expressed<sp/>w.r.t.<sp/>robot&apos;s<sp/>base<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>f(10.0,<sp/>15.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>n(0.0,<sp/>0.0,<sp/>5.0);</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">KDL::Wrench</ref><sp/>f_tool(f,<sp/>n);</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">KDL::Wrenches</ref><sp/>f_ext(ns);</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/>f_ext[ns<sp/>-<sp/>1]<sp/>=<sp/>f_tool;<sp/></highlight><highlight class="comment">//input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="892"><highlight class="normal"></highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>number_of_constraints<sp/>=<sp/>6;</highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Constraint<sp/>Unit<sp/>forces<sp/>defined<sp/>for<sp/>the<sp/>end-effector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>alpha_unit_force(number_of_constraints);</highlight></codeline>
<codeline lineno="905"><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>directions<sp/>in<sp/>which<sp/>the<sp/>constraint<sp/>force<sp/>should<sp/>work.<sp/>Alpha<sp/>in<sp/>the<sp/>solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>unit_force_x_l(</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(1.0,<sp/>0.0,<sp/>0.0),<sp/></highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_unit_force.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(0,<sp/>unit_force_x_l);<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"></highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>unit_force_y_l(</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>1.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_unit_force.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(1,<sp/>unit_force_y_l);<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal"></highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>unit_force_z_l(</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>1.0),</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_unit_force.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(2,<sp/>unit_force_z_l);<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="921"><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>unit_force_x_a(</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_unit_force.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(3,<sp/>unit_force_x_a);<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>disabled...<sp/>In<sp/>this<sp/>direction,<sp/>end-effector&apos;s<sp/>motion<sp/>is<sp/>left<sp/>to<sp/>emerge<sp/>naturally</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>unit_force_y_a(</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_unit_force.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(4,<sp/>unit_force_y_a);<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>disabled...<sp/>In<sp/>this<sp/>direction,<sp/>end-effector&apos;s<sp/>motion<sp/>is<sp/>left<sp/>to<sp/>emerge<sp/>naturally</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>unit_force_z_a(</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0),</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>1.0));</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_unit_force.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(5,<sp/>unit_force_z_a);<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Acceleration<sp/>energy<sp/>for<sp/>the<sp/>end-effector.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>beta_energy(number_of_constraints);</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/>beta_energy(0)<sp/>=<sp/>-0.5;</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/>beta_energy(1)<sp/>=<sp/>-0.5;</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/>beta_energy(2)<sp/>=<sp/><sp/>0.0;</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/>beta_energy(3)<sp/>=<sp/><sp/>0.0;<sp/></highlight><highlight class="comment">//<sp/>this<sp/>value<sp/>has<sp/>no<sp/>impact<sp/>on<sp/>computations,<sp/>since<sp/>its<sp/>corresponding<sp/>constraint<sp/>is<sp/>disabled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/>beta_energy(4)<sp/>=<sp/><sp/>0.0;<sp/></highlight><highlight class="comment">//<sp/>this<sp/>value<sp/>has<sp/>no<sp/>impact<sp/>on<sp/>computations,<sp/>since<sp/>its<sp/>corresponding<sp/>constraint<sp/>is<sp/>disabled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/>beta_energy(5)<sp/>=<sp/><sp/>0.2;</highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Arm<sp/>root<sp/>acceleration<sp/>(robot&apos;s<sp/>base<sp/>mounted<sp/>on<sp/>an<sp/>even<sp/>surface)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>Vereshchagin<sp/>solver<sp/>takes<sp/>root<sp/>acc.<sp/>with<sp/>opposite<sp/>sign<sp/>comparead<sp/>to<sp/>the<sp/>KDL&apos;s<sp/>FD<sp/>and<sp/>RNE<sp/>solvers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>root_Acc(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>9.81),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0));</highlight></codeline>
<codeline lineno="949"><highlight class="normal"></highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainHdSolver__Vereshchagin" kindref="compound">ChainHdSolver_Vereshchagin</ref><sp/>vereshchaginSolver(kukaLWR,<sp/>root_Acc,<sp/>number_of_constraints);</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/>solver_return<sp/>=<sp/>vereshchaginSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>qdd,<sp/>alpha_unit_force,<sp/>beta_energy,<sp/>f_ext,<sp/>ff_tau,<sp/>constraint_tau);</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(solver_return<sp/>&lt;<sp/>0)<sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>Vereshchagin<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>solver_return<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="953"><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Final<sp/>comparison<sp/>of<sp/>the<sp/>_resultant_<sp/>end-effector&apos;s<sp/>Cartesian<sp/>accelerations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>the<sp/>task-specified<sp/>acceleration<sp/>constraints</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="957"><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Number<sp/>of<sp/>frames<sp/>on<sp/>the<sp/>robot<sp/>=<sp/>ns<sp/>+<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Twist&gt;</ref><sp/>xDotdot(ns<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>solver&apos;s<sp/>function<sp/>returns<sp/>Cartesian<sp/>accelerations<sp/>of<sp/>links<sp/>in<sp/>robot<sp/>base<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/>vereshchaginSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1aacddb2d51c10a9f29775306728a621d6" kindref="member">getTransformedLinkAcceleration</ref>(xDotdot);</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(beta_energy(0),<sp/>xDotdot[ns].vel(0),<sp/>eps));</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(beta_energy(1),<sp/>xDotdot[ns].vel(1),<sp/>eps));</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(beta_energy(2),<sp/>xDotdot[ns].vel(2),<sp/>eps));</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(beta_energy(5),<sp/>xDotdot[ns].rot(2),<sp/>eps));</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Additional<sp/>getters<sp/>for<sp/>the<sp/>intermediate<sp/>solver&apos;s<sp/>outputs:<sp/>Useful<sp/>for<sp/>state-<sp/>simulation<sp/>and<sp/>estimation<sp/>purposes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Magnitude<sp/>of<sp/>the<sp/>constraint<sp/>forces<sp/>acting<sp/>on<sp/>the<sp/>end-effector:<sp/>Lagrange<sp/>Multiplier</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::VectorXd<sp/>nu(number_of_constraints);</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/>vereshchaginSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a99676a8e2f3690041e5e609d6808b50e" kindref="member">getContraintForceMagnitude</ref>(nu);</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nu(0),<sp/>669693.30355,<sp/>eps));</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nu(1),<sp/>5930.60826,<sp/>eps));</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nu(2),<sp/>-639.5238,<sp/>eps));</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nu(3),<sp/>0.000,<sp/>eps));<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>was<sp/>not<sp/>active<sp/>in<sp/>the<sp/>task<sp/>specification</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nu(4),<sp/>0.000,<sp/>eps));<sp/></highlight><highlight class="comment">//<sp/>constraint<sp/>was<sp/>not<sp/>active<sp/>in<sp/>the<sp/>task<sp/>specification</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nu(5),<sp/>573.90485,<sp/>eps));</highlight></codeline>
<codeline lineno="977"><highlight class="normal"></highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Total<sp/>torque<sp/>acting<sp/>on<sp/>each<sp/>joint</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>total_tau(nj);</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/>vereshchaginSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a1ce68d9c9974648498a7e28ab8cebb48" kindref="member">getTotalTorque</ref>(total_tau);</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(0),<sp/>2013.3541,<sp/>eps));</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(1),<sp/>-6073.4999,<sp/>eps));</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(2),<sp/>2227.4487,<sp/>eps));</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(3),<sp/>56.87456,<sp/>eps));</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(4),<sp/>-11.3789,<sp/>eps));</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(5),<sp/>-6.05957,<sp/>eps));</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(total_tau(6),<sp/>569.0776,<sp/>eps));</highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vereshchagin<sp/>solver<sp/>test<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>constrainXLinear(1.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>constrainXAngular(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>constrainYLinear(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>constrainYAngular(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vector<sp/>constrainZLinear(0.0,<sp/>0.0,<sp/>0.0);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Vector<sp/>constrainZAngular(0.0,<sp/>0.0,<sp/>0.0);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>constraintForcesX(constrainXLinear,<sp/>constrainXAngular);</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>constraintForcesY(constrainYLinear,<sp/>constrainYAngular);</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Twist<sp/>constraintForcesZ(constrainZLinear,<sp/>constrainZAngular);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>alpha(1);</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//alpha.setColumn(0,<sp/>constraintForcesX);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha.<ref refid="classKDL_1_1Jacobian_1a3979dcece692c902643548f8979f6ca2" kindref="member">setColumn</ref>(0,<sp/>constraintForcesX);</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//alpha.setColumn(0,<sp/>constraintForcesZ);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Acceleration<sp/>energy<sp/>at<sp/><sp/>the<sp/>end-effector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>betha(1);<sp/></highlight><highlight class="comment">//set<sp/>to<sp/>zero</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/>betha(0)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//betha(1)<sp/>=<sp/>0.0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//betha(2)<sp/>=<sp/>0.0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//arm<sp/>root<sp/>acceleration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>linearAcc(0.0,<sp/>10,<sp/>0.0);<sp/></highlight><highlight class="comment">//gravitational<sp/>acceleration<sp/>along<sp/>Y</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>angularAcc(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>twist1(linearAcc,<sp/>angularAcc);</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"></highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//external<sp/>forces<sp/>on<sp/>the<sp/>arm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>externalForce1(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>externalTorque1(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>externalForce2(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>externalTorque2(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref><sp/>externalNetForce1(externalForce1,<sp/>externalTorque1);</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref><sp/>externalNetForce2(externalForce2,<sp/>externalTorque2);</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">Wrenches</ref><sp/>externalNetForce;</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/>externalNetForce.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(externalNetForce1);</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/>externalNetForce.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(externalNetForce2);</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//~Definition<sp/>of<sp/>constraints<sp/>and<sp/>external<sp/>disturbances</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//-------------------------------------------------------------------------------------//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1029"><highlight class="normal"></highlight></codeline>
<codeline lineno="1030"><highlight class="normal"></highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Definition<sp/>of<sp/>solver<sp/>and<sp/>initial<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//-------------------------------------------------------------------------------------//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numberOfConstraints<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainHdSolver__Vereshchagin" kindref="compound">ChainHdSolver_Vereshchagin</ref><sp/>constraintSolver(chaindyn,<sp/>twist1,<sp/>numberOfConstraints);</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//These<sp/>arrays<sp/>of<sp/>joint<sp/>values<sp/>contain<sp/>actual<sp/>and<sp/>desired<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//actual<sp/>is<sp/>generated<sp/>by<sp/>a<sp/>solver<sp/>and<sp/>integrator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//desired<sp/>is<sp/>given<sp/>by<sp/>an<sp/>interpolator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//error<sp/>is<sp/>the<sp/>difference<sp/>between<sp/>desired-actual</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//in<sp/>this<sp/>test<sp/>only<sp/>the<sp/>actual<sp/>values<sp/>are<sp/>printed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>k<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointPoses[k];</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointRates[k];</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointAccelerations[k];</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointFFTorques[k];</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointConstraintTorques[k];</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>k;<sp/>i++)</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointValues(chaindyn.getNrOfJoints());</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointPoses[i]<sp/>=<sp/>jointValues;</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointRates[i]<sp/>=<sp/>jointValues;</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointAccelerations[i]<sp/>=<sp/>jointValues;</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointFFTorques[i]<sp/>=<sp/>jointValues;</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointConstraintTorques[i]<sp/>=<sp/>jointValues;</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initial<sp/>arm<sp/>position<sp/>configuration/constraint</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jointInitialPose(chaindyn.getNrOfJoints());</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/>jointInitialPose(0)<sp/>=<sp/>0.0;<sp/></highlight><highlight class="comment">//<sp/>initial<sp/>joint0<sp/>pose</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/>jointInitialPose(1)<sp/>=<sp/><ref refid="namespaceKDL_1a8deb2bd8c8926513a18283b4af0de0fd" kindref="member">PI</ref>/6.0;<sp/></highlight><highlight class="comment">//initial<sp/>joint1<sp/>pose,<sp/>negative<sp/>in<sp/>clockwise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//j0=0.0,<sp/>j1=pi/6.0<sp/>correspond<sp/>to<sp/>x<sp/>=<sp/>0.2,<sp/>y<sp/>=<sp/>-0.7464</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//j0=2*pi/3.0,<sp/>j1=pi/4.0<sp/>correspond<sp/>to<sp/>x<sp/>=<sp/>0.44992,<sp/>y<sp/>=<sp/>0.58636</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//actual</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/>jointPoses[0](0)<sp/>=<sp/>jointInitialPose(0);</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/>jointPoses[0](1)<sp/>=<sp/>jointInitialPose(1);</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//~Definition<sp/>of<sp/>solver<sp/>and<sp/>initial<sp/>configuration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//-------------------------------------------------------------------------------------//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1070"><highlight class="normal"></highlight></codeline>
<codeline lineno="1071"><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Definition<sp/>of<sp/>process<sp/>main<sp/>loop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//-------------------------------------------------------------------------------------//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Time<sp/>required<sp/>to<sp/>complete<sp/>the<sp/>task<sp/>move(frameinitialPose,<sp/>framefinalPose)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>taskTimeConstant<sp/>=<sp/>0.1;</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>simulationTime<sp/>=<sp/>1*taskTimeConstant;</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>timeDelta<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"></highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="cpp/string/basic_string" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::string</ref><sp/>msg<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Assertion<sp/>failed,<sp/>check<sp/>matrix<sp/>and<sp/>array<sp/>sizes&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"></highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t<sp/>=<sp/>0.0;<sp/>t<sp/>&lt;=simulationTime;<sp/>t<sp/>=<sp/>t<sp/>+<sp/>timeDelta)</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT_EQUAL((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="classKDL_1_1SolverI_1a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191" kindref="member">SolverI::E_NOERROR</ref>,<sp/>constraintSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(jointPoses[0],<sp/>jointRates[0],<sp/>jointAccelerations[0],<sp/>alpha,<sp/>betha,<sp/>externalNetForce,<sp/>jointFFTorques[0],<sp/>jointConstraintTorques[0]));</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"></highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Integration(robot<sp/>joint<sp/>values<sp/>for<sp/>rates<sp/>and<sp/>poses;<sp/>actual)<sp/>at<sp/>the<sp/>given<sp/>&quot;instanteneous&quot;<sp/>interval<sp/>for<sp/>joint<sp/>position<sp/>and<sp/>velocity.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointRates[0](0)<sp/>=<sp/>jointRates[0](0)<sp/>+<sp/>jointAccelerations[0](0)<sp/>*<sp/>timeDelta;<sp/></highlight><highlight class="comment">//Euler<sp/>Forward</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointPoses[0](0)<sp/>=<sp/>jointPoses[0](0)<sp/>+<sp/>(jointRates[0](0)<sp/>-<sp/>jointAccelerations[0](0)<sp/>*<sp/>timeDelta<sp/>/<sp/>2.0)<sp/>*<sp/>timeDelta;<sp/></highlight><highlight class="comment">//Trapezoidal<sp/>rule</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointRates[0](1)<sp/>=<sp/>jointRates[0](1)<sp/>+<sp/>jointAccelerations[0](1)<sp/>*<sp/>timeDelta;<sp/></highlight><highlight class="comment">//Euler<sp/>Forward</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointPoses[0](1)<sp/>=<sp/>jointPoses[0](1)<sp/>+<sp/>(jointRates[0](1)<sp/>-<sp/>jointAccelerations[0](1)<sp/>*<sp/>timeDelta<sp/>/<sp/>2.0)<sp/>*<sp/>timeDelta;</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jointFFTorques[0]<sp/>=<sp/>jointConstraintTorques[0];</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//printf(&quot;time,<sp/>j0_pose,<sp/>j1_pose,<sp/>j0_rate,<sp/>j1_rate,<sp/>j0_acc,<sp/>j1_acc,<sp/>j0_constraintTau,<sp/>j1_constraintTau<sp/>\n&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;%f<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/>%f<sp/><sp/><sp/><sp/><sp/><sp/>%f\n&quot;</highlight><highlight class="normal">,<sp/>t,<sp/>jointPoses[0](0),<sp/>jointPoses[0](1),<sp/>jointRates[0](0),<sp/>jointRates[0](1),<sp/>jointAccelerations[0](0),<sp/>jointAccelerations[0](1),<sp/>jointConstraintTorques[0](0),<sp/>jointConstraintTorques[0](1));</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1094"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"></highlight></codeline>
<codeline lineno="1096" refid="classSolverTest_1aeea632a622bbb37848cfc77ba6131f03" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1aeea632a622bbb37848cfc77ba6131f03" kindref="member">SolverTest::FkPosVectTest</ref>()</highlight></codeline>
<codeline lineno="1097"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver1(chain1);</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Frame&gt;</ref><sp/>v_out(chain1.getNrOfSegments());</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(chain1.getNrOfJoints());</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdot(chain1.getNrOfJoints());</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"></highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain1.getNrOfJoints();<sp/>i++)</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q(i));</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(qdot(i));</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>f_out;</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/>fksolver1.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,v_out);</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/>fksolver1.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,f_out);</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(v_out[chain1.getNrOfSegments()-1],f_out,1e-5));</highlight></codeline>
<codeline lineno="1114"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"></highlight></codeline>
<codeline lineno="1116" refid="classSolverTest_1a91bf08255a38f97d32e25fe8c1540384" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a91bf08255a38f97d32e25fe8c1540384" kindref="member">SolverTest::FkVelVectTest</ref>()</highlight></codeline>
<codeline lineno="1117"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolver1(chain1);</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;FrameVel&gt;</ref><sp/>v_out(chain1.getNrOfSegments());</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(chain1.getNrOfJoints());</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdot(chain1.getNrOfJoints());</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"></highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;chain1.getNrOfJoints();<sp/>i++)</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(q(i));</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1a910caae27c05e168ff9e13c1e1646319" kindref="member">random</ref>(qdot(i));</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArrayVel" kindref="compound">JntArrayVel</ref><sp/>qvel(q,qdot);</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>f_out;</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>fksolver1.<ref refid="classKDL_1_1ChainFkSolverVel__recursive_1adacf6fa9df12ab1876859d3296f22400" kindref="member">JntToCart</ref>(qvel,v_out);</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/>fksolver1.<ref refid="classKDL_1_1ChainFkSolverVel__recursive_1adacf6fa9df12ab1876859d3296f22400" kindref="member">JntToCart</ref>(qvel,f_out);</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(v_out[chain1.getNrOfSegments()-1],f_out,1e-5));</highlight></codeline>
<codeline lineno="1135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137" refid="classSolverTest_1a371fe0dc207c959612fb8eae8deb2b0a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a371fe0dc207c959612fb8eae8deb2b0a" kindref="member">SolverTest::FdSolverDevelopmentTest</ref>()</highlight></codeline>
<codeline lineno="1138"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>eps=1.e-3;</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL<sp/>FD<sp/>Solver<sp/>Development<sp/>Test<sp/>for<sp/>Motoman<sp/>SIA10&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"></highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>NOTE:<sp/><sp/>This<sp/>is<sp/>prototype<sp/>code<sp/>for<sp/>the<sp/>KDL<sp/>forward<sp/>dynamics<sp/>solver<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>based<sp/>on<sp/>the<sp/>Recurse<sp/>Newton<sp/>Euler<sp/>Method:<sp/><sp/>ChainFdSolver_RNE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>Dynamics<sp/>Solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>gravity(0.0,<sp/>0.0,<sp/>-9.81);<sp/><sp/></highlight><highlight class="comment">//<sp/>base<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainDynParam" kindref="compound">ChainDynParam</ref><sp/>DynSolver<sp/>=<sp/><ref refid="classKDL_1_1ChainDynParam" kindref="compound">KDL::ChainDynParam</ref>(motomansia10dyn,<sp/>gravity);</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>motomansia10dyn.getNrOfJoints();</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ns<sp/>=<sp/>motomansia10dyn.getNrOfSegments();</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Joint<sp/>position,<sp/>velocity,<sp/>and<sp/>acceleration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(nj);</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qd(nj);</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdd(nj);</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>random</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.2;</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.6;</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>1.;</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>-1.4;</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.3;</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>-0.8;</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"></highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(0)<sp/>=<sp/>1.;</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(1)<sp/>=<sp/>-2.;</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(2)<sp/>=<sp/>3.;</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(3)<sp/>=<sp/>-4.;</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(4)<sp/>=<sp/>5.;</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(5)<sp/>=<sp/>-6.;</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(6)<sp/>=<sp/>7.;</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Validate<sp/>FK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolver(motomansia10dyn);</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>f_out;</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/>fksolver.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,f_out);</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.547,<sp/>f_out.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.301,<sp/>f_out.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.924,<sp/>f_out.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.503,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(0,0),<sp/>eps));</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.286,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(0,1),<sp/>eps));</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.816,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(0,2),<sp/>eps));</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.859,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(1,0),<sp/>eps));</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.269,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(1,1),<sp/>eps));</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.436,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(1,2),<sp/>eps));</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.095,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(2,0),<sp/>eps));</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.920,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(2,1),<sp/>eps));</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.381,<sp/>f_out.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref>(2,2),<sp/>eps));</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Validate<sp/>Jacobian</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacsolver(motomansia10dyn);</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>jac(nj);</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/>jacsolver.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q,<sp/>jac);</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Jac[6][7]<sp/>=</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{{0.301,-0.553,0.185,0.019,0.007,-0.086,0.},</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{-0.547,-0.112,-0.139,-0.376,-0.037,0.063,0.},</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.,-0.596,0.105,-0.342,-0.026,-0.113,0.},</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.,0.199,-0.553,0.788,-0.615,0.162,-0.816},</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.,-0.980,-0.112,-0.392,-0.536,-0.803,-0.436},</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{1.,0.,0.825,0.475,0.578,-0.573,0.381}};</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;6;<sp/>i++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j&lt;nj;<sp/>j++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(jac(i,j),<sp/>Jac[i][j],<sp/>eps));</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"></highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Return<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>taugrav(nj);</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>taucor(nj);</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/>JntSpaceInertiaMatrix<sp/>H(nj),<sp/>Heff(nj);</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>Dynamics<sp/>(torque<sp/>in<sp/>N-m)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>DynSolver.<ref refid="classKDL_1_1ChainDynParam_1ad71feeedf84067cd454bd194ddc7656b" kindref="member">JntToGravity</ref>(q,<sp/>taugrav);</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)<sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>inverse<sp/>dynamics<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.000,<sp/>taugrav(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-36.672,<sp/>taugrav(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(4.315,<sp/>taugrav(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-11.205,<sp/>taugrav(3),<sp/>eps));</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.757,<sp/>taugrav(4),<sp/>eps));</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(1.780,<sp/>taugrav(5),<sp/>eps));</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.000,<sp/>taugrav(6),<sp/>eps));</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>DynSolver.<ref refid="classKDL_1_1ChainDynParam_1a616876214cb26793cedeed01e5093b3a" kindref="member">JntToCoriolis</ref>(q,<sp/>qd,<sp/>taucor);</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)<sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>inverse<sp/>dynamics<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-15.523,<sp/>taucor(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(24.250,<sp/>taucor(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-6.862,<sp/>taucor(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(6.303,<sp/>taucor(3),<sp/>eps));</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.110,<sp/>taucor(4),<sp/>eps));</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-4.898,<sp/>taucor(5),<sp/>eps));</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.249,<sp/>taucor(6),<sp/>eps));</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>DynSolver.<ref refid="classKDL_1_1ChainDynParam_1a452ff0523f877bdd62715380553cf106" kindref="member">JntToMass</ref>(q,<sp/>H);</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)<sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>inverse<sp/>dynamics<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Hexp[7][7]<sp/>=</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{{6.8687,-0.4333,0.4599,0.6892,0.0638,-0.0054,0.0381},</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{-0.4333,8.8324,-0.5922,0.7905,0.0003,-0.0242,0.0265},</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.4599,-0.5922,3.3496,-0.0253,0.1150,-0.0243,0.0814},</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.6892,0.7905,-0.0253,3.9623,-0.0201,0.0087,-0.0291},</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.0638,0.0003,0.1150,-0.0201,1.1234,0.0029,0.0955},</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{-0.0054,-0.0242,-0.0243,0.0087,0.0029,1.1425,0},</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.0381,0.0265,0.0814,-0.0291,0.0955,0,1.1000}};</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;nj;<sp/>i++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j&lt;nj;<sp/>j++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(H(i,j),<sp/>Hexp[i][j],<sp/>eps));</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"></highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Inverse<sp/>Dynamics:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>T<sp/>=<sp/>H<sp/>*<sp/>qdd<sp/>+<sp/>Tcor<sp/>+<sp/>Tgrav<sp/>-<sp/>J^T<sp/>*<sp/>Fext</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Forward<sp/>Dynamics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>1.<sp/>Call<sp/>JntToMass<sp/>from<sp/>ChainDynParam<sp/>to<sp/>get<sp/>H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>2.<sp/>Call<sp/>ID<sp/>with<sp/>qdd=0<sp/>to<sp/>get<sp/>T=Tcor+Tgrav+J^T*Fext</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>3.<sp/>Calculate<sp/>qdd<sp/>=<sp/>H^-1<sp/>*<sp/>T</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIdSolver__RNE" kindref="compound">KDL::ChainIdSolver_RNE</ref><sp/>IdSolver<sp/>=<sp/><ref refid="classKDL_1_1ChainIdSolver__RNE" kindref="compound">KDL::ChainIdSolver_RNE</ref>(motomansia10dyn,<sp/>gravity);</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"></highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>tool<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>f(10,-20,30)<sp/>;</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>n(3,-4,5)<sp/>;</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref><sp/>f_tool(f,n);</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>local<sp/>link<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">Wrenches</ref><sp/>f_ext(ns);</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;ns;i++){</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">SetToZero</ref>(f_ext[i]);</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/>f_ext[ns-1]=f_tool;</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>Tnoninertial(nj);</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jntarraynull(nj);</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">SetToZero</ref>(jntarraynull);</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/>IdSolver.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>jntarraynull,<sp/>f_ext,<sp/>Tnoninertial);</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-21.252,<sp/>Tnoninertial(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-37.933,<sp/>Tnoninertial(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-2.497,<sp/>Tnoninertial(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-15.289,<sp/>Tnoninertial(3),<sp/>eps));</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-4.646,<sp/>Tnoninertial(4),<sp/>eps));</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-9.201,<sp/>Tnoninertial(5),<sp/>eps));</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-5.249,<sp/>Tnoninertial(6),<sp/>eps));</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"></highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>get<sp/>acceleration<sp/>using<sp/>inverse<sp/>symmetric<sp/>matrix<sp/>times<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::MatrixXd<sp/>H_eig(nj,nj),<sp/>L(nj,nj);</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::VectorXd<sp/>Tnon_eig(nj),<sp/>D(nj),<sp/>r(nj),<sp/>acc_eig(nj);</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;nj;i++){</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tnon_eig(i)<sp/>=<sp/><sp/>-Tnoninertial(i);</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;j&lt;nj;j++){</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>H_eig(i,j)<sp/>=<sp/><sp/>H(i,j);</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1acba9b399cc104f4be96ee84cadf99b07" kindref="member">ldl_solver_eigen</ref>(H_eig,<sp/>Tnon_eig,<sp/>L,<sp/>D,<sp/>r,<sp/>acc_eig);</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;nj;i++){</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qdd(i)<sp/>=<sp/>acc_eig(i);</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(2.998,<sp/>qdd(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(4.289,<sp/>qdd(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(0.946,<sp/>qdd(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(2.518,<sp/>qdd(3),<sp/>eps));</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(3.530,<sp/>qdd(4),<sp/>eps));</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(8.150,<sp/>qdd(5),<sp/>eps));</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(4.254,<sp/>qdd(6),<sp/>eps));</highlight></codeline>
<codeline lineno="1303"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"></highlight></codeline>
<codeline lineno="1305" refid="classSolverTest_1ae52f78369c8324e99f6bb66440c39064" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1ae52f78369c8324e99f6bb66440c39064" kindref="member">SolverTest::FdSolverConsistencyTest</ref>()</highlight></codeline>
<codeline lineno="1306"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>eps=1.e-3;</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;KDL<sp/>FD<sp/>Solver<sp/>Consistency<sp/>Test<sp/>for<sp/>Motoman<sp/>SIA10&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"></highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>NOTE:<sp/><sp/>Compute<sp/>the<sp/>forward<sp/>and<sp/>inverse<sp/>dynamics<sp/>and<sp/>test<sp/>for<sp/>consistency</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1313"><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>Forward<sp/>Dynamics<sp/>Solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>gravity(0.0,<sp/>0.0,<sp/>-9.81);<sp/><sp/></highlight><highlight class="comment">//<sp/>base<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFdSolver__RNE" kindref="compound">KDL::ChainFdSolver_RNE</ref><sp/>FdSolver<sp/>=<sp/><ref refid="classKDL_1_1ChainFdSolver__RNE" kindref="compound">KDL::ChainFdSolver_RNE</ref>(motomansia10dyn,<sp/>gravity);</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"></highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>motomansia10dyn.getNrOfJoints();</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ns<sp/>=<sp/>motomansia10dyn.getNrOfSegments();</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"></highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Joint<sp/>position,<sp/>velocity,<sp/>and<sp/>acceleration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>q(nj);</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>qd(nj);</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>qdd(nj);</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>tau(nj);</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"></highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>random</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>0.2;</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.6;</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>1.;</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>-1.4;</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.3;</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>-0.8;</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"></highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(0)<sp/>=<sp/>1.;</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(1)<sp/>=<sp/>-2.;</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(2)<sp/>=<sp/>3.;</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(3)<sp/>=<sp/>-4.;</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(4)<sp/>=<sp/>5.;</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(5)<sp/>=<sp/>-6.;</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(6)<sp/>=<sp/>7.;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>actuator<sp/>torques</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(0)<sp/>=<sp/>50.;</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(1)<sp/>=<sp/>-20.;</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(2)<sp/>=<sp/>10.;</highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(3)<sp/>=<sp/>40.;</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(4)<sp/>=<sp/>-60.;</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(5)<sp/>=<sp/>15.;</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/>tau(6)<sp/>=<sp/>-10.;</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"></highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>f(10,-20,30)<sp/>;</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>n(3,-4,5)<sp/>;</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">KDL::Wrench</ref><sp/>f_tool(f,n);</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>local<sp/>link<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">KDL::Wrenches</ref><sp/>f_ext(ns);</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;ns;i++){</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">SetToZero</ref>(f_ext[i]);</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/>f_ext[ns-1]=f_tool;</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"></highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Call<sp/>FD<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>FdSolver.<ref refid="classKDL_1_1ChainFdSolver__RNE_1a19016902a70478a43a5e9baf3fbdfc98" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>tau,<sp/>f_ext,<sp/>qdd);</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)<sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>forward<sp/>dynamics<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(9.486,<sp/>qdd(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(1.830,<sp/>qdd(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(4.726,<sp/>qdd(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(11.665,<sp/>qdd(3),<sp/>eps));</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-50.108,<sp/>qdd(4),<sp/>eps));</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(21.403,<sp/>qdd(5),<sp/>eps));</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(-0.381,<sp/>qdd(6),<sp/>eps));</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"></highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>against<sp/>ID<sp/>solver<sp/>for<sp/>consistency</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIdSolver__RNE" kindref="compound">KDL::ChainIdSolver_RNE</ref><sp/>IdSolver<sp/>=<sp/><ref refid="classKDL_1_1ChainIdSolver__RNE" kindref="compound">KDL::ChainIdSolver_RNE</ref>(motomansia10dyn,<sp/>gravity);</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>torque(nj);</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/>IdSolver.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>qdd,<sp/>f_ext,<sp/>torque);</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;nj;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(torque(i),<sp/>tau(i),<sp/>eps));</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1384"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"></highlight></codeline>
<codeline lineno="1386" refid="classSolverTest_1af49a0afac01178369a27888a304419de" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1af49a0afac01178369a27888a304419de" kindref="member">SolverTest::LDLdecompTest</ref>()</highlight></codeline>
<codeline lineno="1387"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref>&lt;&lt;</highlight><highlight class="stringliteral">&quot;LDL<sp/>Solver<sp/>Test&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>eps=1.e-6;</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"></highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>Given<sp/>A<sp/>and<sp/>b,<sp/>solve<sp/>Ax=b<sp/>for<sp/>x,<sp/>where<sp/>A<sp/>is<sp/>a<sp/>symmetric<sp/>real<sp/>matrix</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>https://en.wikipedia.org/wiki/Cholesky_decomposition</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::MatrixXd<sp/>A(3,3),<sp/>Aout(3,3);</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::VectorXd<sp/>b(3);</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::MatrixXd<sp/>L(3,3),<sp/>Lout(3,3);</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::VectorXd<sp/>d(3),<sp/>dout(3);</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::VectorXd<sp/>x(3),<sp/>xout(3);</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::VectorXd<sp/>r(3);<sp/><sp/></highlight><highlight class="comment">//<sp/>temp<sp/>variable<sp/>used<sp/>internally<sp/>by<sp/>ldl<sp/>solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::MatrixXd<sp/>Dout(3,3);<sp/><sp/></highlight><highlight class="comment">//<sp/>diagonal<sp/>matrix</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1400"><highlight class="normal"></highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Given</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/>A<sp/>&lt;&lt;<sp/><sp/>4,<sp/>12,<sp/>-16,</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>12,<sp/>37,<sp/>-43,</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-16,<sp/>-43,<sp/>98;</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/>b<sp/>&lt;&lt;<sp/>28,<sp/>117,<sp/>98;</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Results<sp/>to<sp/>verify</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/>L<sp/>&lt;&lt;<sp/><sp/>1,<sp/>0,<sp/>0,</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>3,<sp/>1,<sp/>0,</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-4,<sp/>5,<sp/>1;</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/>d<sp/>&lt;&lt;<sp/>4,<sp/>1,<sp/>9;</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/>x<sp/>&lt;&lt;<sp/>3,<sp/>8,<sp/>5;</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"></highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1acba9b399cc104f4be96ee84cadf99b07" kindref="member">ldl_solver_eigen</ref>(A,<sp/>b,<sp/>Lout,<sp/>dout,<sp/>r,<sp/>xout);</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"></highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;3;i++){</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;j&lt;3;j++){</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(L(i,j),<sp/>Lout(i,j),<sp/>eps));</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"></highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/>Dout.setZero();</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;3;i++){</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Dout(i,i)<sp/>=<sp/>dout(i);</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"></highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Verify<sp/>solution<sp/>for<sp/>x</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;3;i++){</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(xout(i),<sp/>x(i),<sp/>eps));</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"></highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Test<sp/>reconstruction<sp/>of<sp/>A<sp/>from<sp/>LDL^T<sp/>decomposition</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/>Aout<sp/>=<sp/>Lout<sp/>*<sp/>Dout<sp/>*<sp/>Lout.transpose();</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;3;i++){</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;j&lt;3;j++){</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(A(i,j),<sp/>Aout(i,j),<sp/>eps));</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1438"><highlight class="normal"></highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1440"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"></highlight></codeline>
<codeline lineno="1442" refid="classSolverTest_1a1fe0da4cc1074b84a4abaadfe2ac462c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a1fe0da4cc1074b84a4abaadfe2ac462c" kindref="member">SolverTest::FdAndVereshchaginSolversConsistencyTest</ref>()</highlight></codeline>
<codeline lineno="1443"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>eps=1.e-3;</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolverpos(kukaLWR);</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>end_effector_pose;</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"></highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL<sp/>FD<sp/>(inverse-inertia<sp/>version)<sp/>and<sp/>Vereshchagin<sp/>Solvers<sp/>Consistency<sp/>Test<sp/>for<sp/>KUKA<sp/>LWR<sp/>4<sp/>robot&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"></highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Experiment<sp/>(common<sp/>state)<sp/>setup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>kukaLWR.getNrOfJoints();</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ns<sp/>=<sp/>kukaLWR.getNrOfSegments();</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"></highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Necessary<sp/>test<sp/>for<sp/>the<sp/>used<sp/>robot<sp/>model:<sp/>KDL&apos;s<sp/>implementation<sp/>of<sp/>the<sp/>Vereshchagin<sp/>solver<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>can<sp/>only<sp/>work<sp/>with<sp/>the<sp/>robot<sp/>chains<sp/>that<sp/>have<sp/>equal<sp/>number<sp/>of<sp/>joints<sp/>and<sp/>segments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nj,<sp/>ns));</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"></highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Joint<sp/>position,<sp/>velocity,<sp/>acceleration<sp/>and<sp/>torques</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>q(nj);</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>qd(nj);</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>qdd(nj);</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">KDL::JntArray</ref><sp/>ff_tau(nj);</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"></highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>random<sp/>input<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>-1.57;</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>1.57;</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>-0.8;</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"></highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(0)<sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(1)<sp/>=<sp/>-2.0;</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(2)<sp/>=<sp/>3.0;</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(3)<sp/>=<sp/>-4.0;</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(4)<sp/>=<sp/>5.0;</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(5)<sp/>=<sp/>-6.0;</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/>qd(6)<sp/>=<sp/>7.0;</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"></highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>actuator<sp/>torques</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(0)<sp/>=<sp/>50.0;</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(1)<sp/>=<sp/>-20.0;</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(2)<sp/>=<sp/>10.0;</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(3)<sp/>=<sp/>40.0;</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(4)<sp/>=<sp/>-60.0;</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(5)<sp/>=<sp/>15.0;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/>ff_tau(6)<sp/>=<sp/>-10.0;</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"></highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>External<sp/>Wrench<sp/>acting<sp/>on<sp/>the<sp/>end-effector,<sp/>expressed<sp/>in<sp/>local<sp/>link<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>f(10.0,<sp/>-20.0,<sp/>30.0);</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">KDL::Vector</ref><sp/>n(3.0,<sp/>-4.0,<sp/>5.0);</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">KDL::Wrench</ref><sp/>f_tool(f,<sp/>n);</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"></highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">KDL::Wrenches</ref><sp/>f_ext(ns);</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0<sp/>;i&lt;ns;<sp/>i++)</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">SetToZero</ref>(f_ext[i]);</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/>f_ext[ns<sp/>-<sp/>1]<sp/>=<sp/>f_tool;</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"></highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Forward<sp/>Dynamics<sp/>Solver<sp/>(inverse-inertia<sp/>version)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>gravity(0.0,<sp/>0.0,<sp/>-9.81);<sp/><sp/></highlight><highlight class="comment">//<sp/>base<sp/>frame<sp/>(Robot<sp/>base<sp/>mounted<sp/>on<sp/>an<sp/>even<sp/>surface)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFdSolver__RNE" kindref="compound">KDL::ChainFdSolver_RNE</ref><sp/>FdSolver<sp/>=<sp/><ref refid="classKDL_1_1ChainFdSolver__RNE" kindref="compound">KDL::ChainFdSolver_RNE</ref>(kukaLWR,<sp/>gravity);</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"></highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Call<sp/>FD<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>FdSolver.<ref refid="classKDL_1_1ChainFdSolver__RNE_1a19016902a70478a43a5e9baf3fbdfc98" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>ff_tau,<sp/>f_ext,<sp/>qdd);</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>forward<sp/>dynamics<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"></highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>#########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vereshchagin<sp/>Hybrid<sp/>Dynamics<sp/>solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>When<sp/>the<sp/>Cartesian<sp/>Acceleration<sp/>Constraints<sp/>are<sp/>deactivated,<sp/>the<sp/>computations<sp/>performed<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>Vereshchagin<sp/>solver<sp/>are<sp/>completely<sp/>the<sp/>same<sp/>as<sp/>the<sp/>computations<sp/>performed<sp/>in<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>well-known<sp/>FD<sp/>Articulated<sp/>Body<sp/>Algorithm<sp/>(ABA)<sp/>developed<sp/>by<sp/>Featherstone<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1521"><highlight class="normal"></highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Constraint<sp/>Unit<sp/>forces<sp/>at<sp/>the<sp/>end-effector.<sp/>Set<sp/>to<sp/>zero<sp/>to<sp/>deactivate<sp/>all<sp/>constraints</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numberOfConstraints<sp/>=<sp/>6;</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>alpha(numberOfConstraints);</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">KDL::SetToZero</ref>(alpha);</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"></highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Acceleration<sp/>energy<sp/>at<sp/>the<sp/>end-effector.<sp/>Set<sp/>to<sp/>zero<sp/>since<sp/>all<sp/>constraints<sp/>are<sp/>deactivated</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>beta(numberOfConstraints);<sp/></highlight><highlight class="comment">//set<sp/>to<sp/>zero</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">KDL::SetToZero</ref>(beta);</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"></highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Arm<sp/>root<sp/>acceleration<sp/>(robot&apos;s<sp/>base<sp/>mounted<sp/>on<sp/>an<sp/>even<sp/>surface)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>Vereshchagin<sp/>solver<sp/>takes<sp/>root<sp/>acc.<sp/>with<sp/>opposite<sp/>sign<sp/>comparead<sp/>to<sp/>the<sp/>above<sp/>FD<sp/>and<sp/>RNE<sp/>solvers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>linearAcc(0.0,<sp/>0.0,<sp/>9.81);<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>angularAcc(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>root_Acc(linearAcc,<sp/>angularAcc);</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Torques<sp/>felt<sp/>in<sp/>robot&apos;s<sp/>joints<sp/>due<sp/>to<sp/>constraint<sp/>forces<sp/>acting<sp/>on<sp/>the<sp/>end-effector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>constraint_tau(nj);<sp/></highlight><highlight class="comment">//<sp/>In<sp/>this<sp/>test,<sp/>all<sp/>elements<sp/>of<sp/>this<sp/>array<sp/>should<sp/>result<sp/>to<sp/>zero</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q_dd_Ver(nj);<sp/></highlight><highlight class="comment">//<sp/>Resultant<sp/>joint<sp/>accelerations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1539"><highlight class="normal"></highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>External<sp/>Wrench<sp/>acting<sp/>on<sp/>the<sp/>end-effector,<sp/>this<sp/>time<sp/>expressed<sp/>in<sp/>base<sp/>link<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vereshchagin<sp/>solver<sp/>expects<sp/>that<sp/>external<sp/>wrenches<sp/>are<sp/>expressed<sp/>w.r.t.<sp/>robot&apos;s<sp/>base<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,<sp/>end_effector_pose,<sp/>kukaLWR.getNrOfSegments());</highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/>f_ext[ns<sp/>-<sp/>1]<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref><sp/>*<sp/>f_tool;</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"></highlight></codeline>
<codeline lineno="1545"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainHdSolver__Vereshchagin" kindref="compound">ChainHdSolver_Vereshchagin</ref><sp/>constraintSolver(kukaLWR,<sp/>root_Acc,<sp/>numberOfConstraints);</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>constraintSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>q_dd_Ver,<sp/>alpha,<sp/>beta,<sp/>f_ext,<sp/>ff_tau,<sp/>constraint_tau);</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL:<sp/>Vereshchagin<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"></highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Final<sp/>comparison</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(0),<sp/>qdd(0),<sp/>eps));</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(1),<sp/>qdd(1),<sp/>eps));</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(2),<sp/>qdd(2),<sp/>eps));</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(3),<sp/>qdd(3),<sp/>eps));</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(4),<sp/>qdd(4),<sp/>eps));</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(5),<sp/>qdd(5),<sp/>eps));</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(q_dd_Ver(6),<sp/>qdd(6),<sp/>eps));</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"></highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1561"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"></highlight></codeline>
<codeline lineno="1563" refid="classSolverTest_1a907bf6b113975e7ed274ed57377ea905" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classSolverTest_1a907bf6b113975e7ed274ed57377ea905" kindref="member">SolverTest::ExternalWrenchEstimatorTest</ref>()</highlight></codeline>
<codeline lineno="1564"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL<sp/>External<sp/>Wrench<sp/>Estimator<sp/>Test&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"></highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>eps_wrench<sp/>=<sp/>0.5,<sp/>eps_torque<sp/>=<sp/>0.3;</highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nj<sp/>=<sp/>kukaLWR.getNrOfJoints();</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ns<sp/>=<sp/>kukaLWR.getNrOfSegments();</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(nj,<sp/>ns));<sp/></highlight><highlight class="comment">//<sp/>Current<sp/>implementation<sp/>of<sp/>the<sp/>Vereshchagin<sp/>solver<sp/>can<sp/>only<sp/>work<sp/>with<sp/>chains<sp/>that<sp/>have<sp/>equal<sp/>number<sp/>of<sp/>joints<sp/>and<sp/>segments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1586"><highlight class="normal"></highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>state<sp/>and<sp/>control<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>q(nj);<sp/></highlight><highlight class="comment">//<sp/>Current<sp/>joint<sp/>position</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qd(nj);<sp/></highlight><highlight class="comment">//<sp/>Current<sp/>joint<sp/>velocity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>qdd(nj);<sp/></highlight><highlight class="comment">//<sp/>Resultant<sp/>joint<sp/>accelerations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArrayVel" kindref="compound">JntArrayVel</ref><sp/>jnt_position_velocity(nj);<sp/></highlight><highlight class="comment">//<sp/>variable<sp/>necessary<sp/>for<sp/>the<sp/>FK<sp/>vel<sp/>solver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>jnt_array_zero(nj);<sp/></highlight><highlight class="comment">//<sp/>Zero<sp/>joint<sp/>input<sp/>for<sp/>RNE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>command_torque(nj);<sp/></highlight><highlight class="comment">//<sp/>Control<sp/>torque<sp/>to<sp/>actuate<sp/>the<sp/>robot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>constraint_tau(nj);<sp/></highlight><highlight class="comment">//<sp/>It<sp/>will<sp/>result<sp/>in<sp/>zero<sp/>in<sp/>Vereshchagin<sp/>for<sp/>this<sp/>test</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>gravity_torque(nj);<sp/></highlight><highlight class="comment">//<sp/>Gravity<sp/>torque<sp/>computed<sp/>by<sp/>RNE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>ext_torque_reference(nj);<sp/></highlight><highlight class="comment">//<sp/>Ground-truth<sp/>joint<sp/>torques<sp/>due<sp/>to<sp/>the<sp/>external<sp/>force<sp/>applied<sp/>on<sp/>the<sp/>end-effector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>ext_torque_estimated(nj);<sp/></highlight><highlight class="comment">//<sp/>Estimated<sp/>joint<sp/>torques</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">Wrenches</ref><sp/>f_ext_base(ns);<sp/></highlight><highlight class="comment">//<sp/>External<sp/>Wrenches<sp/>acting<sp/>on<sp/>the<sp/>end-effector,<sp/>expressed<sp/>in<sp/>base-link<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">Wrenches</ref><sp/>f_ext_zero(ns);<sp/></highlight><highlight class="comment">//<sp/>Zero<sp/>Wrenches</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref><sp/>f_tool_estimated;<sp/></highlight><highlight class="comment">//<sp/>External<sp/>Wrenches<sp/>estimated<sp/>by<sp/>the<sp/>momentum-observer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>end_effector_pose;</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Frame" kindref="compound">Frame</ref><sp/>desired_end_eff_pose;</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>jacobian_end_eff(nj);</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>end_eff_twist;</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1FrameVel" kindref="compound">FrameVel</ref><sp/>desired_end_eff_twist;</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::Matrix&lt;double,<sp/>6,<sp/>1&gt;<sp/>end_eff_force;<sp/></highlight><highlight class="comment">//<sp/>variable<sp/>necessary<sp/>for<sp/>the<sp/>control</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::Matrix&lt;double,<sp/>6,<sp/>1&gt;<sp/>end_eff_pos_error;<sp/></highlight><highlight class="comment">//<sp/>variable<sp/>necessary<sp/>for<sp/>the<sp/>control</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/>Eigen::Matrix&lt;double,<sp/>6,<sp/>1&gt;<sp/>end_eff_vel_error;<sp/></highlight><highlight class="comment">//<sp/>variable<sp/>necessary<sp/>for<sp/>the<sp/>control</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1609"><highlight class="normal"></highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Arm<sp/>root<sp/>acceleration<sp/>(robot&apos;s<sp/>base<sp/>mounted<sp/>on<sp/>an<sp/>even<sp/>surface)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>linearAcc(0.0,<sp/>0.0,<sp/>-9.81);<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref><sp/>angularAcc(0.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>kinematics<sp/>solvers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverPos__recursive" kindref="compound">ChainFkSolverPos_recursive</ref><sp/>fksolverpos(kukaLWR);</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainFkSolverVel__recursive" kindref="compound">ChainFkSolverVel_recursive</ref><sp/>fksolvervel(kukaLWR);</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainJntToJacSolver" kindref="compound">ChainJntToJacSolver</ref><sp/>jacobian_solver(kukaLWR);</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"></highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>RNE<sp/>ID<sp/>solver<sp/>for<sp/>control<sp/>purposes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainIdSolver__RNE" kindref="compound">KDL::ChainIdSolver_RNE</ref><sp/>IdSolver(kukaLWR,<sp/>linearAcc);</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vereshchagin<sp/>Hybrid<sp/>Dynamics<sp/>solver<sp/>for<sp/>simulation<sp/>purposes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numberOfConstraints<sp/>=<sp/>6;</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Jacobian" kindref="compound">Jacobian</ref><sp/>alpha(numberOfConstraints);<sp/></highlight><highlight class="comment">//<sp/>Constraint<sp/>Unit<sp/>forces<sp/>at<sp/>the<sp/>end-effector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1JntArray" kindref="compound">JntArray</ref><sp/>beta(numberOfConstraints);<sp/></highlight><highlight class="comment">//<sp/>Acceleration<sp/>energy<sp/>at<sp/>the<sp/>end-effector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">KDL::SetToZero</ref>(alpha);<sp/></highlight><highlight class="comment">//<sp/>Set<sp/>to<sp/>zero<sp/>to<sp/>deactivate<sp/>all<sp/>constraints</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceKDL_1aa2015ef4bf3ebb5f6defaf8bc1cf5184" kindref="member">KDL::SetToZero</ref>(beta);<sp/></highlight><highlight class="comment">//<sp/>Set<sp/>to<sp/>zero<sp/>to<sp/>deactivate<sp/>all<sp/>constraints</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1Twist" kindref="compound">Twist</ref><sp/>vereshchagin_root_Acc(-linearAcc,<sp/>angularAcc);<sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>Vereshchagin<sp/>solver<sp/>takes<sp/>root<sp/>acc.<sp/>with<sp/>opposite<sp/>sign<sp/>comparead<sp/>to<sp/>the<sp/>above<sp/>FD<sp/>and<sp/>RNE<sp/>solvers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainHdSolver__Vereshchagin" kindref="compound">ChainHdSolver_Vereshchagin</ref><sp/>constraintSolver(kukaLWR,<sp/>vereshchagin_root_Acc,<sp/>numberOfConstraints);</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"></highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>External<sp/>Wrench<sp/>Estimator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sample_frequency<sp/>=<sp/>1000.0;<sp/></highlight><highlight class="comment">//<sp/>Hz</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>estimation_gain<sp/><sp/>=<sp/>45.0;</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>filter_constant<sp/><sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classKDL_1_1ChainExternalWrenchEstimator" kindref="compound">ChainExternalWrenchEstimator</ref><sp/>extwrench_estimator(kukaLWR,<sp/>linearAcc,<sp/>sample_frequency,<sp/>estimation_gain,<sp/>filter_constant);</highlight></codeline>
<codeline lineno="1635"><highlight class="normal"></highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Prepare<sp/>test<sp/>cases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;KDL::JntArray&gt;</ref><sp/>jnt_pos;</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;KDL::Wrench&gt;</ref><sp/>wrench_reference;</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"></highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>random<sp/>generator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/numeric/random/random_device" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::random_device</ref><sp/>rd;<sp/><sp/></highlight><highlight class="comment">//Will<sp/>be<sp/>used<sp/>to<sp/>obtain<sp/>a<sp/>seed<sp/>for<sp/>the<sp/>random<sp/>number<sp/>engine</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/numeric/random/mersenne_twister_engine" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::mt19937</ref><sp/>gen(rd());<sp/></highlight><highlight class="comment">//Standard<sp/>mersenne_twister_engine<sp/>seeded<sp/>with<sp/>rd()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/numeric/random/uniform_real_distribution" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::uniform_real_distribution&lt;&gt;</ref><sp/>dis_force(-15.0,<sp/>15.0);</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/numeric/random/uniform_real_distribution" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::uniform_real_distribution&lt;&gt;</ref><sp/>dis_moment(-0.9,<sp/>0.9);</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/numeric/random/uniform_real_distribution" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::uniform_real_distribution&lt;&gt;</ref><sp/>dis_jnt_vel(-0.5,<sp/>0.5);</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"></highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>first<sp/>test<sp/>case</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>4.71;</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>1.57;</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>5.48;</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/>jnt_pos.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(q);</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/>wrench_reference.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(<ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(dis_force(gen),<sp/>dis_force(gen),<sp/>dis_force(gen)),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0)));<sp/></highlight><highlight class="comment">//<sp/>Ground-truth<sp/>external<sp/>wrench<sp/>acting<sp/>on<sp/>the<sp/>end-effector<sp/>expressed<sp/>in<sp/>local<sp/>end-effector&apos;s<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1657"><highlight class="normal"></highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>second<sp/>test<sp/>case</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>2.96;</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>1.02;</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>6.15;</highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>1.61;</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>0.22;</highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.17;</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/>jnt_pos.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(q);</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/>wrench_reference.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(<ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(0.0,<sp/>0.0,<sp/>0.0),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(dis_moment(gen),<sp/>dis_moment(gen),<sp/>0.0)));<sp/></highlight><highlight class="comment">//<sp/>expressed<sp/>in<sp/>local<sp/>end-effector&apos;s<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1668"><highlight class="normal"></highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>third<sp/>test<sp/>case</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/>q(0)<sp/>=<sp/>1.12;</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/>q(1)<sp/>=<sp/>0.66;</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/>q(2)<sp/>=<sp/>6.15;</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/>q(3)<sp/>=<sp/>4.09;</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/>q(4)<sp/>=<sp/>1.64;</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/>q(5)<sp/>=<sp/>0.12;</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/>q(6)<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/>jnt_pos.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(q);</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/>wrench_reference.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(<ref refid="classKDL_1_1Wrench" kindref="compound">Wrench</ref>(<ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(dis_force(gen),<sp/>dis_force(gen),<sp/>dis_force(gen)),<sp/><ref refid="classKDL_1_1Vector" kindref="compound">Vector</ref>(dis_moment(gen),<sp/>0.0,<sp/>dis_moment(gen))));<sp/></highlight><highlight class="comment">//<sp/>expressed<sp/>in<sp/>local<sp/>end-effector&apos;s<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1679"><highlight class="normal"></highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>##########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Control<sp/>and<sp/>simulation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>##########################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1683"><highlight class="normal"></highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Control<sp/>gains<sp/>for<sp/>a<sp/>simple<sp/>PD<sp/>controller</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>k_p<sp/>=<sp/>1500.0;<sp/></highlight><highlight class="comment">//<sp/>Proportional</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>k_d<sp/>=<sp/>300.0;<sp/></highlight><highlight class="comment">//<sp/>Derivative</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1687"><highlight class="normal"></highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Time<sp/>required<sp/>to<sp/>complete<sp/>the<sp/>task</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>simulationTime<sp/>=<sp/>0.4;<sp/></highlight><highlight class="comment">//<sp/>in<sp/>seconds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>timeDelta<sp/>=<sp/>1.0<sp/>/<sp/>sample_frequency;<sp/></highlight><highlight class="comment">//<sp/>unit<sp/>of<sp/>seconds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1691"><highlight class="normal"></highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Iterate<sp/>over<sp/>test<sp/>cases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>jnt_pos.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();<sp/>i++)</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Re-set<sp/>control<sp/>and<sp/>simulation<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q<sp/>=<sp/>jnt_pos[i];</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(0)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(1)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(2)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(3)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(4)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(5)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd(6)<sp/>=<sp/>dis_jnt_vel(gen);</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"></highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_force.setZero();</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_pos_error.setZero();</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_vel_error.setZero();</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f_ext_base<sp/>=<sp/>f_ext_zero;</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"></highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>estimator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1a8926e0a2ce6d5d595aa9cdc5b7160f83" kindref="member">updateInternalDataStructures</ref>();</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1adcc483423c33efbebe4d601b0dca4eed" kindref="member">setInitialMomentum</ref>(q,<sp/>qd);<sp/></highlight><highlight class="comment">//<sp/>sets<sp/>the<sp/>offset<sp/>for<sp/>future<sp/>estimation<sp/>(momentum<sp/>calculation)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1713"><highlight class="normal"></highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>the<sp/>desired<sp/>Cartesian<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,<sp/>end_effector_pose);</highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desired_end_eff_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(0)<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(0)<sp/>+<sp/>0.02;</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desired_end_eff_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(1)<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(1)<sp/>+<sp/>0.02;</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desired_end_eff_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(2)<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(2)<sp/>+<sp/>0.02;</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desired_end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(0)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desired_end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(1)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desired_end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(2)<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"></highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t<sp/>=<sp/>0.0;<sp/>t<sp/>&lt;=<sp/>simulationTime;<sp/>t<sp/>=<sp/>t<sp/>+<sp/>timeDelta)</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>jacobian_solver.<ref refid="classKDL_1_1ChainJntToJacSolver_1a1e714cdb2b915a9774fe7e0eafd4b8f9" kindref="member">JntToJac</ref>(q,<sp/>jacobian_end_eff);</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Jacobian<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"></highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>fksolverpos.<ref refid="classKDL_1_1ChainFkSolverPos__recursive_1a2b34c9fae293b9866ede9df203ec1fc8" kindref="member">JntToCart</ref>(q,<sp/>end_effector_pose);</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;FK<sp/>pos<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jnt_position_velocity.<ref refid="classKDL_1_1JntArrayVel_1a3d1c16da97a33260f4e6ee867bc357b6" kindref="member">q</ref><sp/>=<sp/>q;</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>jnt_position_velocity.<ref refid="classKDL_1_1JntArrayVel_1a4cedcb3da3af96a6934fa3cefc5be371" kindref="member">qdot</ref><sp/>=<sp/>qd;</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>fksolvervel.<ref refid="classKDL_1_1ChainFkSolverVel__recursive_1adacf6fa9df12ab1876859d3296f22400" kindref="member">JntToCart</ref>(jnt_position_velocity,<sp/>end_eff_twist);</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;FK<sp/>vel<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"></highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_pos_error(0)<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(0)<sp/>-<sp/>desired_end_eff_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(0);</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_pos_error(1)<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(1)<sp/>-<sp/>desired_end_eff_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(1);</highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_pos_error(2)<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(2)<sp/>-<sp/>desired_end_eff_pose.<ref refid="classKDL_1_1Frame_1abc00c3817f7baa985b67077479617866" kindref="member">p</ref>(2);</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"></highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_vel_error(0)<sp/>=<sp/>end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(0)<sp/>-<sp/>desired_end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(0);</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_vel_error(1)<sp/>=<sp/>end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(1)<sp/>-<sp/>desired_end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(1);</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_vel_error(2)<sp/>=<sp/>end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(2)<sp/>-<sp/>desired_end_eff_twist.<ref refid="classKDL_1_1FrameVel_1a6f35dccc9d7716199e75c9cef0125af2" kindref="member">p</ref>.<ref refid="classKDL_1_1VectorVel_1a3c4ed9d12d84f39153b5be985436214e" kindref="member">v</ref>(2);</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"></highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>end_eff_force<sp/>=<sp/>-end_eff_pos_error<sp/>*<sp/>k_p<sp/>-<sp/>end_eff_vel_error<sp/>*<sp/>k_d;</highlight></codeline>
<codeline lineno="1757"><highlight class="normal"></highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>gravity<sp/>joint<sp/>torques<sp/>(hide<sp/>external<sp/>wrench<sp/>from<sp/>this<sp/>dynamics<sp/>calculation)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>IdSolver.<ref refid="classKDL_1_1ChainIdSolver__RNE_1a517c0314490c32848e2b8e29ecac997e" kindref="member">CartToJnt</ref>(q,<sp/>jnt_array_zero,<sp/>jnt_array_zero,<sp/>f_ext_zero,<sp/>gravity_torque);</highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL<sp/>RNE<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"></highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>joint<sp/>control<sp/>commands</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>command_torque.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>=<sp/><sp/>jacobian_end_eff.<ref refid="classKDL_1_1Jacobian_1a73cf18ac91b146f6be631a941d5bee3c" kindref="member">data</ref>.transpose()<sp/>*<sp/>end_eff_force;</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>command_torque.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>+=<sp/>gravity_torque.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref>;</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"></highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Start<sp/>simulating<sp/>the<sp/>external<sp/>force</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(t<sp/>&gt;<sp/>0.2)<sp/>f_ext_base[ns<sp/>-<sp/>1]<sp/>=<sp/>end_effector_pose.<ref refid="classKDL_1_1Frame_1a367668b3344ccfd50410ccc1ed30fa6f" kindref="member">M</ref><sp/>*<sp/>wrench_reference[i];</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"></highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>resultant<sp/>joint<sp/>accelerations<sp/>that<sp/>simulate<sp/>robot&apos;s<sp/>behaviour,<sp/>given<sp/>the<sp/>command<sp/>torques<sp/>(add<sp/>external<sp/>wrench<sp/>in<sp/>this<sp/>dynamics<sp/>calculation)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>constraintSolver.<ref refid="classKDL_1_1ChainHdSolver__Vereshchagin_1a6d48fd72f1e3fa117dba444edb0d5653" kindref="member">CartToJnt</ref>(q,<sp/>qd,<sp/>qdd,<sp/>alpha,<sp/>beta,<sp/>f_ext_base,<sp/>command_torque,<sp/>constraint_tau);</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cpp/io/cout" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cout</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;KDL<sp/>Vereshchagin<sp/>solver<sp/>ERROR:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ret<sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref>;</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>State<sp/>integration:<sp/>integrate<sp/>from<sp/>model<sp/>accelerations<sp/>to<sp/>next<sp/>joint<sp/>state<sp/>(positions<sp/>and<sp/>velocities)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qd.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>=<sp/>qd.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>+<sp/>qdd.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>*<sp/>timeDelta;<sp/></highlight><highlight class="comment">//<sp/>Euler<sp/>Forward</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>=<sp/>q.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>+<sp/>qd.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>*<sp/>timeDelta;<sp/></highlight><highlight class="comment">//<sp/>Symplectic<sp/>Euler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1784"><highlight class="normal"></highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Saturate<sp/>integrated<sp/>joint<sp/>position<sp/>for<sp/>full<sp/>circle<sp/>crossing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>0;<sp/>j<sp/>&lt;<sp/>nj;<sp/>j++)</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q(j)<sp/>=<sp/><ref refid="cpp/numeric/math/fmod" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::fmod</ref>(q(j),<sp/>360<sp/>*<sp/><ref refid="namespaceKDL_1a13e35fb20991715e2e62f926f50d32ef" kindref="member">deg2rad</ref>);</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(q(j)<sp/>&lt;<sp/>0.0)<sp/>q(j)<sp/>+=<sp/>360<sp/>*<sp/><ref refid="namespaceKDL_1a13e35fb20991715e2e62f926f50d32ef" kindref="member">deg2rad</ref>;</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Estimate<sp/>external<sp/>wrench</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1ab8782e7fbd2048a7134b0540868b68ca" kindref="member">JntToExtWrench</ref>(q,<sp/>qd,<sp/>command_torque,<sp/>f_tool_estimated);</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"></highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Inverse<sp/>Force<sp/>Kinematics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Eigen::Matrix&lt;double,<sp/>6,<sp/>1&gt;<sp/>wrench;</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrench(0)<sp/>=<sp/>f_ext_base[ns<sp/>-<sp/>1](0);</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrench(1)<sp/>=<sp/>f_ext_base[ns<sp/>-<sp/>1](1);</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrench(2)<sp/>=<sp/>f_ext_base[ns<sp/>-<sp/>1](2);</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrench(3)<sp/>=<sp/>f_ext_base[ns<sp/>-<sp/>1](3);</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrench(4)<sp/>=<sp/>f_ext_base[ns<sp/>-<sp/>1](4);</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrench(5)<sp/>=<sp/>f_ext_base[ns<sp/>-<sp/>1](5);</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ext_torque_reference.<ref refid="classKDL_1_1JntArray_1a59dff4a2f3fa4adedb55c3384238dc74" kindref="member">data</ref><sp/>=<sp/>jacobian_end_eff.<ref refid="classKDL_1_1Jacobian_1a73cf18ac91b146f6be631a941d5bee3c" kindref="member">data</ref>.transpose()<sp/>*<sp/>wrench;</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"></highlight></codeline>
<codeline lineno="1806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>estimated<sp/>joint<sp/>torque<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extwrench_estimator.<ref refid="classKDL_1_1ChainExternalWrenchEstimator_1a81d9082e02bc18738527c1872c8c24d4" kindref="member">getEstimatedJntTorque</ref>(ext_torque_estimated);</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"></highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>##################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Final<sp/>comparison</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>##################################################################################</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(f_tool_estimated(0),<sp/>wrench_reference[i](0),<sp/>eps_wrench));</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(f_tool_estimated(1),<sp/>wrench_reference[i](1),<sp/>eps_wrench));</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(f_tool_estimated(2),<sp/>wrench_reference[i](2),<sp/>eps_wrench));</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(f_tool_estimated(3),<sp/>wrench_reference[i](3),<sp/>eps_wrench));</highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(f_tool_estimated(4),<sp/>wrench_reference[i](4),<sp/>eps_wrench));</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(f_tool_estimated(5),<sp/>wrench_reference[i](5),<sp/>eps_wrench));</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"></highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(0),<sp/>ext_torque_reference(0),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(1),<sp/>ext_torque_reference(1),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(2),<sp/>ext_torque_reference(2),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(3),<sp/>ext_torque_reference(3),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(4),<sp/>ext_torque_reference(4),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(5),<sp/>ext_torque_reference(5),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CPPUNIT_ASSERT(<ref refid="namespaceKDL_1afbaac359311f16d1bbd3ea75c4ea7463" kindref="member">Equal</ref>(ext_torque_estimated(6),<sp/>ext_torque_reference(6),<sp/>eps_torque));</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1827"><highlight class="normal"></highlight></codeline>
<codeline lineno="1828"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1829"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="tests/solvertest.cpp"/>
  </compounddef>
</doxygen>
