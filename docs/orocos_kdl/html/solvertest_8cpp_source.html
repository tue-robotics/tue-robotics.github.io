<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>orocos_kdl: solvertest.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">orocos_kdl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">solvertest.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="solvertest_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="solvertest_8hpp.html">solvertest.hpp</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="frames__io_8hpp.html">frames_io.hpp</a>&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="framevel__io_8hpp.html">framevel_io.hpp</a>&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="kinfam__io_8hpp.html">kinfam_io.hpp</a>&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/header/random.html">random</a>&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="utility_8h.html">utilities/utility.h</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<a class="code" href="solvertest_8cpp.html#a1f91bfc282ab8a3e30dff678701ad52e">CPPUNIT_TEST_SUITE_REGISTRATION</a>( <a class="code" href="classSolverTest.html">SolverTest</a> );</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceKDL.html">KDL</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="classSolverTest.html#a57a7f16cb6e9846b21ae53b56c51bd31">   13</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a57a7f16cb6e9846b21ae53b56c51bd31">SolverTest::setUp</a>()</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;{</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    srand( (<span class="keywordtype">unsigned</span>)time( NULL ));</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.0))));</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.9))));</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">Joint::None</a>),</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(-0.4,0.0,0.0))));</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,1.2))));</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">Joint::None</a>),</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.4,0.0,0.0))));</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 6&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 6&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,1.4))));</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 7&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 7&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.0))));</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 8&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 8&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.4))));</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    chain1.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 9&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 9&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">Joint::None</a>),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.0))));</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    chain2.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.5))));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    chain2.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.4))));</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    chain2.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.3))));</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    chain2.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.2))));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    chain2.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.1))));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.0))));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.9))));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(-0.4,0.0,0.0))));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,1.2))));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">Joint::None</a>),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.4,0.0,0.0))));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 6&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 6&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,1.4))));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 7&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 7&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.0))));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 8&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 8&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.4))));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    chain3.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 9&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 9&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea82ced6110c39092f0073540c041275e2">Joint::RotY</a>),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.0))));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    chain4.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 1&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 1&quot;</span>, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(10,0,0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(1,0,1),<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242">Joint::RotAxis</a>),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.5))));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    chain4.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 2&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 2&quot;</span>, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0,5,0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(1,0,0),<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242">Joint::RotAxis</a>),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.4))));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    chain4.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 3&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 3&quot;</span>, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0,0,5), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(1,0,4),<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242">Joint::RotAxis</a>),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.3))));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    chain4.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 4&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 4&quot;</span>, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0,0,0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(1,0,0),<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242">Joint::RotAxis</a>),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.2))));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    chain4.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 5&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 5&quot;</span>, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0,0,0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0,0,1),<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242">Joint::RotAxis</a>),</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                              <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.1))));</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">//chain definition for vereshchagin&#39;s dynamic solver</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classKDL_1_1Joint.html">Joint</a> rotJoint0 = <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, 1, 0, 0.01);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classKDL_1_1Joint.html">Joint</a> rotJoint1 = <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, 1, 0, 0.01);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> refFrame(<a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">Rotation::RPY</a>(0.0, 0.0, 0.0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> frame1(<a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">Rotation::RPY</a>(0.0, 0.0, 0.0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, -0.4, 0.0));</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> frame2(<a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">Rotation::RPY</a>(0.0, 0.0, 0.0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, -0.4, 0.0));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">//chain segments</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classKDL_1_1Segment.html">Segment</a> segment1 = <a class="code" href="classKDL_1_1Segment.html">Segment</a>(rotJoint0, frame1);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classKDL_1_1Segment.html">Segment</a> segment2 = <a class="code" href="classKDL_1_1Segment.html">Segment</a>(rotJoint1, frame2);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">//rotational inertia around symmetry axis of rotation</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a> rotInerSeg1(0.0, 0.0, 0.0, 0.0, 0.0, 0.0);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">//spatial inertia</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a> inerSegment1(0.3, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, -0.4, 0.0), rotInerSeg1);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a> inerSegment2(0.3, <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, -0.4, 0.0), rotInerSeg1);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    segment1.<a class="code" href="classKDL_1_1Segment.html#ac376a3d7eb6af5fc3c6dc885b6aa2e75">setInertia</a>(inerSegment1);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    segment2.<a class="code" href="classKDL_1_1Segment.html#ac376a3d7eb6af5fc3c6dc885b6aa2e75">setInertia</a>(inerSegment2);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">//chain</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    chaindyn.addSegment(segment1);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    chaindyn.addSegment(segment2);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// Motoman SIA10 Chain (for IK singular value tests)</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">Joint::None</a>),</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 0.0, 0.36, 0.0)));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, <a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0)));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.36, 0.0)));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, <a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0)));</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.36, 0.0)));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, <a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0)));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0)));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    motomansia10.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                    <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Rotation.html#a5a5d40d8e6cf179cac35bc378c83017c">Rotation::Identity</a>(),<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.155))));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// Motoman SIA10 Chain with Mass Parameters (for forward dynamics tests)</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">//  effective motor inertia is included as joint inertia</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> scale=1;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> offset=0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> inertiamotorA=5.0;      <span class="comment">// effective motor inertia kg-m^2</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> inertiamotorB=3.0;      <span class="comment">// effective motor inertia kg-m^2</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> inertiamotorC=1.0;      <span class="comment">// effective motor inertia kg-m^2</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> damping=0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> stiffness=0;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">//  Segment Inertias</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert1(15.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, -0.02, 0.0),                       <span class="comment">// mass, CM</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.1, 0.05, 0.1, 0.0, 0.0, 0.0));   <span class="comment">// inertia</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert2(5.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, -0.02, -0.1),</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.01, 0.1, 0.1, 0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert3(5.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, -0.05, 0.02),</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.05, 0.01, 0.05, 0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert4(3.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, 0.02, -0.15),</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.1, 0.1, 0.01, 0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert5(3.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, -0.05, 0.01),</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.02, 0.01, 0.02, 0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert6(3.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, -0.01, -0.1),</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.1, 0.1, 0.01, 0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a> inert7(1.0, <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.0, 0.0, 0.05),</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                 <a class="code" href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a>(0.01, 0.01, 0.1, 0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorA, damping, stiffness),</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, <a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.36, 0.0),</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                               inert1));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorA, damping, stiffness),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0),</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                               inert2));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorB, damping, stiffness),</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, <a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.36, 0.0),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                               inert3));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorB, damping, stiffness),</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0),</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                               inert4));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorC, damping, stiffness),</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, <a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.36, 0.0),</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                               inert5));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorC, damping, stiffness),</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a>, 0.0, 0.0),</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                               inert6));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, inertiamotorC, damping, stiffness),</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">Frame::DH</a>(0.0, 0.0, 0.0, 0.0),</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                               inert7));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    motomansia10dyn.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">Joint::None</a>),</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                       <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Rotation.html#a5a5d40d8e6cf179cac35bc378c83017c">Rotation::Identity</a>(),<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.155))));</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 3.19, damping, stiffness),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 1.5707963, 0.0, 0.0),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 1.5707963, 0.0, 0.0).Inverse()*<a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                                 <a class="code" href="classKDL_1_1Vector.html#aac50a5f60447f9cb7b4a510c4695ab89">Vector::Zero</a>(),</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                 <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(0.0,0.0,0.0115343,0.0,0.0,0.0))));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 3.05, damping, stiffness),</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -1.5707963, 0.4, 0.0),</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -1.5707963, 0.4, 0.0).Inverse()*<a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                                   <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,-0.3120511,-0.0038871),</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                                   <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(-0.5471572,-0.0000302,-0.5423253,0.0,0.0,0.0018828))));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 1.98, damping, stiffness),</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -1.5707963, 0.0, 0.0),</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -1.5707963, 0.0, 0.0).Inverse()*<a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                   <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,-0.0015515,0.0),</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                   <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(0.0063507,0.0,0.0107804,0.0,0.0,-0.0005147))));</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 2.05, damping, stiffness),</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 1.5707963, 0.39, 0.0),</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 1.5707963, 0.39, 0.0).Inverse()*<a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                                   <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.5216809,0.0),</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                   <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(-1.0436952,0.0,-1.0392780,0.0,0.0,0.0005324))));</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 0.787, damping, stiffness),</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 1.5707963, 0.0, 0.0),</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, 1.5707963, 0.0, 0.0).Inverse()*<a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                                   <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0119891,0.0),</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                   <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(0.0036654,0.0,0.0060429,0.0,0.0,0.0004226))));</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 0.391, damping, stiffness),</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -1.5707963, 0.0, 0.0),</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                  <a class="code" href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">Frame::DH_Craig1989</a>(0.0, -1.5707963, 0.0, 0.0).Inverse()*<a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                                   <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0080787,0.0),</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                   <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(0.0010431,0.0,0.0036376,0.0,0.0,0.0000101))));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    kukaLWR.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<a class="code" href="classKDL_1_1Joint.html">Joint</a>(<a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">Joint::RotZ</a>, scale, offset, 0.394, damping, stiffness),</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                               <a class="code" href="classKDL_1_1Frame.html#a21cc8438f71b522154d2ef4cd6933d69">Frame::Identity</a>(),</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                               <a class="code" href="classKDL_1_1RigidBodyInertia.html">RigidBodyInertia</a>(2, <a class="code" href="classKDL_1_1Vector.html#aac50a5f60447f9cb7b4a510c4695ab89">Vector::Zero</a>(), <a class="code" href="classKDL_1_1RotationalInertia.html">RotationalInertia</a>(0.000001,0.0,0.0001203,0.0,0.0,0.0))));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classSolverTest.html#a635a86d1c47eada485937d831736d950">  225</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a635a86d1c47eada485937d831736d950">SolverTest::tearDown</a>()</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">//     delete fksolverpos;</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">//     delete jacsolver;</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">//     delete fksolvervel;</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">//     delete iksolvervel;</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">//     delete iksolverpos;</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classSolverTest.html#af674fa44deef2a983996a1c1414a426b">  234</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#af674fa44deef2a983996a1c1414a426b">SolverTest::UpdateChainTest</a>()</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolverpos(chain2);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolvervel(chain2);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver1(chain2);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html">ChainJntToJacDotSolver</a> jacdotsolver1(chain2);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolver2(chain2);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolver_pinv_givens2(chain2);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__nso.html">ChainIkSolverVel_pinv_nso</a>  iksolver_pinv_nso(chain2);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html">ChainIkSolverVel_wdls</a> iksolver_wdls(chain2,1e-6,30);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolverpos(chain2,fksolverpos,iksolver2);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html">ChainIkSolverPos_NR_JL</a> iksolverpos2(chain2,fksolverpos,iksolver2);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html">ChainIkSolverPos_LMA</a> iksolverpos3(chain2);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="classKDL_1_1ChainDynParam.html">ChainDynParam</a> dynparam(chain2, <a class="code" href="classKDL_1_1Vector.html#aac50a5f60447f9cb7b4a510c4695ab89">Vector::Zero</a>());</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classKDL_1_1ChainIdSolver__RNE.html">ChainIdSolver_RNE</a> idsolver1(chain2, <a class="code" href="classKDL_1_1Vector.html#aac50a5f60447f9cb7b4a510c4695ab89">Vector::Zero</a>());</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr_of_constraints = 4;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html">ChainHdSolver_Vereshchagin</a> hdsolver(chain2,<a class="code" href="classKDL_1_1Twist.html#aeb2250f1de9e0c6f9fe738dc8c083bc9">Twist::Zero</a>(),4);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html">ChainExternalWrenchEstimator</a> extwrench_estimator(chain2,<a class="code" href="classKDL_1_1Vector.html#aac50a5f60447f9cb7b4a510c4695ab89">Vector::Zero</a>(), 100.0, 30.0, 0.5);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_in(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_in2(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="classKDL_1_1JntArrayVel.html">JntArrayVel</a> q_in3(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain2.getNrOfJoints(); i++)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q_in(i));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q_in2(i));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_out(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_out2(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> ff_tau(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> constraint_tau(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> jac(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> T;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> t;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> T2;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">Wrenches</a> wrenches(chain2.getNrOfSegments());</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    JntSpaceInertiaMatrix m(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">Wrench</a> wrench_out;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> alpha(nr_of_constraints - 1);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> beta(nr_of_constraints - 1);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583">SolverI::E_OUT_OF_RANGE</a>,fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q_in, T, chain2.getNrOfSegments()+1));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583">SolverI::E_OUT_OF_RANGE</a>,fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">JntToCart</a>(q_in3, T2, chain2.getNrOfSegments()+1));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583">SolverI::E_OUT_OF_RANGE</a>, jacsolver1.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q_in, jac, chain2.getNrOfSegments()+1));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583">SolverI::E_OUT_OF_RANGE</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, t, chain2.getNrOfSegments()+1));</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583">SolverI::E_OUT_OF_RANGE</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, jac, chain2.getNrOfSegments()+1));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    chain2.addSegment(<a class="code" href="classKDL_1_1Segment.html">Segment</a>(<span class="stringliteral">&quot;Segment 6&quot;</span>, <a class="code" href="classKDL_1_1Joint.html">Joint</a>(<span class="stringliteral">&quot;Joint 6&quot;</span>, <a class="code" href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">Joint::RotX</a>),</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="classKDL_1_1Frame.html">Frame</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0,0.0,0.1))));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, jacsolver1.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q_in, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, t, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolver2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a202bae1336d36647917b761ee8d5f7ea">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolver_pinv_givens2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a3d19e3f2e36a0e82c44d139f1056065b">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolver_pinv_nso.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#ae4689c53089eb8af85e347d5f61b3892">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolver_wdls.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolverpos.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">JntToCoriolis</a>(q_in, q_in2, q_out));</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#ad71feeedf84067cd454bd194ddc7656b">JntToGravity</a>(q_in, q_out));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a452ff0523f877bdd62715380553cf106">JntToMass</a>(q_in, m));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">SolverI::E_NOT_UP_TO_DATE</a>, extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">JntToExtWrench</a>(q_in,q_in2,ff_tau,wrench_out));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    jacsolver1.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a8c6fe8ec5cd73c65699143e4a5df9bef">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#abf33f1cf45e7c3f97bb12f7f2a370c4a">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    iksolver2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#adfbf3b47f5f4aaf94df885adac06cad1">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    iksolver_pinv_givens2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a993d8e4233b7e1095b3ee2d11c40c335">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    iksolver_pinv_nso.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#a24f21a9fef5411449552a63c60e883ae">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    iksolver_wdls.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a30247d462ff6438cd6fb1d552c9866a0">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    iksolverpos.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a5f3f444352531e50a84f73686e01cf03">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a9f1d384cbdbc99735678726213249147">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a068a7af864c449f5053e3ba528c849fb">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#aa939c7f6490b216cf7c89f72d4a114b8">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#ac7c90c38d928d5bb337a0098ed7bd743">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a6c8dcaf5fd22bf4da412894633c69ad5">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#a8926e0a2ce6d5d595aa9cdc5b7160f83">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>,fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q_in, T, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>,fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">JntToCart</a>(q_in3, T2, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, jacsolver1.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q_in, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, t, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a202bae1336d36647917b761ee8d5f7ea">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver_pinv_givens2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a3d19e3f2e36a0e82c44d139f1056065b">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver_pinv_nso.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#ae4689c53089eb8af85e347d5f61b3892">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver_wdls.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">JntToCoriolis</a>(q_in, q_in2, q_out));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#ad71feeedf84067cd454bd194ddc7656b">JntToGravity</a>(q_in, q_out));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a452ff0523f877bdd62715380553cf106">JntToMass</a>(q_in, m));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">JntToExtWrench</a>(q_in,q_in2,ff_tau,wrench_out));</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    q_in.<a class="code" href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">resize</a>(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, jacsolver1.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q_in, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a202bae1336d36647917b761ee8d5f7ea">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver_pinv_givens2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a3d19e3f2e36a0e82c44d139f1056065b">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver_pinv_nso.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#ae4689c53089eb8af85e347d5f61b3892">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolver_wdls.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">JntToCoriolis</a>(q_in, q_in2, q_out));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#ad71feeedf84067cd454bd194ddc7656b">JntToGravity</a>(q_in, q_out));</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a452ff0523f877bdd62715380553cf106">JntToMass</a>(q_in, m));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">JntToExtWrench</a>(q_in,q_in2,ff_tau,wrench_out));</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    q_in2.<a class="code" href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">resize</a>(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">JntToCoriolis</a>(q_in, q_in2, q_out));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">JntToExtWrench</a>(q_in,q_in2,ff_tau,wrench_out));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    wrenches.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/resize.html">resize</a>(chain2.getNrOfSegments());</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    q_out2.<a class="code" href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">resize</a>(chain2.getNrOfSegments());</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    ff_tau.<a class="code" href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">resize</a>(chain2.getNrOfSegments());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    constraint_tau.<a class="code" href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">resize</a>(chain2.getNrOfSegments());</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    alpha.<a class="code" href="classKDL_1_1Jacobian.html#a296c2e29811beb1769221f26d3e6556b">resize</a>(nr_of_constraints);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    beta.resize(nr_of_constraints);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    jac.<a class="code" href="classKDL_1_1Jacobian.html#a296c2e29811beb1769221f26d3e6556b">resize</a>(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">SolverI::E_SIZE_MISMATCH</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    q_out.<a class="code" href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">resize</a>(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    q_in3.<a class="code" href="classKDL_1_1JntArrayVel.html#a8a10270f9a701b50cc8dcaa61fc9f538">resize</a>(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    m.resize(chain2.getNrOfJoints());</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q_in, T, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">JntToCart</a>(q_in3, T2, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, jacsolver1.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q_in, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, jac, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, jacdotsolver1.<a class="code" href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">JntToJacDot</a>(q_in3, t, chain2.getNrOfSegments()));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolver2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a202bae1336d36647917b761ee8d5f7ea">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolver_pinv_givens2.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a3d19e3f2e36a0e82c44d139f1056065b">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolver_pinv_nso.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#ae4689c53089eb8af85e347d5f61b3892">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolver_wdls.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q_in,t,q_out));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolverpos.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolverpos2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= iksolverpos3.<a class="code" href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">CartToJnt</a>(q_in,T,q_out));</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= idsolver1.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q_in,q_in2,q_out,wrenches,q_out2));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= hdsolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q_in,q_in2,q_out,alpha,beta,wrenches, ff_tau, constraint_tau));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">JntToCoriolis</a>(q_in, q_in2, q_out));</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#ad71feeedf84067cd454bd194ddc7656b">JntToGravity</a>(q_in, q_out));</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= dynparam.<a class="code" href="classKDL_1_1ChainDynParam.html#a452ff0523f877bdd62715380553cf106">JntToMass</a>(q_in, m));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    CPPUNIT_ASSERT((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a> &lt;= extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">JntToExtWrench</a>(q_in,q_in2,ff_tau,wrench_out));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="classSolverTest.html#ad9691ea38f4464eeb532aaa1ce168421">  392</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#ad9691ea38f4464eeb532aaa1ce168421">SolverTest::FkPosAndJacTest</a>()</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver1(chain1);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver1(chain1);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    FkPosAndJacLocal(chain1,fksolver1,jacsolver1);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver2(chain2);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver2(chain2);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    FkPosAndJacLocal(chain2,fksolver2,jacsolver2);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver3(chain3);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver3(chain3);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    FkPosAndJacLocal(chain3,fksolver3,jacsolver3);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver4(chain4);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver4(chain4);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    FkPosAndJacLocal(chain4,fksolver4,jacsolver4);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="classSolverTest.html#a4f63ee06d015d4df37bf6ae1f9dbf891">  408</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a4f63ee06d015d4df37bf6ae1f9dbf891">SolverTest::FkVelAndJacTest</a>()</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver1(chain1);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver1(chain1);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    FkVelAndJacLocal(chain1,fksolver1,jacsolver1);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver2(chain2);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver2(chain2);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    FkVelAndJacLocal(chain2,fksolver2,jacsolver2);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver3(chain3);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver3(chain3);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    FkVelAndJacLocal(chain3,fksolver3,jacsolver3);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver4(chain4);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver4(chain4);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    FkVelAndJacLocal(chain4,fksolver4,jacsolver4);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="classSolverTest.html#ac32e72d32c444f27834193bf263996aa">  424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#ac32e72d32c444f27834193bf263996aa">SolverTest::FkVelAndIkVelTest</a>()</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">//Chain1</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;square problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver1(chain1);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolver1(chain1);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolver_pinv_givens1(chain1);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    FkVelAndIkVelLocal(chain1,fksolver1,iksolver1);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    FkVelAndIkVelLocal(chain1,fksolver1,iksolver_pinv_givens1);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">//Chain2</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;underdetermined problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver2(chain2);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolver2(chain2);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolver_pinv_givens2(chain2);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    FkVelAndIkVelLocal(chain2,fksolver2,iksolver2);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    FkVelAndIkVelLocal(chain2,fksolver2,iksolver_pinv_givens2);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">//Chain3</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;overdetermined problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver3(chain3);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolver3(chain3);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolver_pinv_givens3(chain3);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    FkVelAndIkVelLocal(chain3,fksolver3,iksolver3);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    FkVelAndIkVelLocal(chain3,fksolver3,iksolver_pinv_givens3);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">//Chain4</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;overdetermined problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver4(chain4);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolver4(chain4);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolver_pinv_givens4(chain4);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    FkVelAndIkVelLocal(chain4,fksolver4,iksolver4);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    FkVelAndIkVelLocal(chain4,fksolver4,iksolver_pinv_givens4);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classSolverTest.html#a325511c7797b0af74251a1e6ab7b4280">  467</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a325511c7797b0af74251a1e6ab7b4280">SolverTest::FkPosAndIkPosTest</a>()</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;square problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver1(chain1);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolver1v(chain1);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolverv_pinv_givens1(chain1);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver1(chain1,fksolver1,iksolver1v);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver1_givens(chain1,fksolver1,iksolverv_pinv_givens1,1000);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    FkPosAndIkPosLocal(chain1,fksolver1,iksolver1);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    FkPosAndIkPosLocal(chain1,fksolver1,iksolver1_givens);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;underdetermined problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver2(chain2);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolverv2(chain2);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolverv_pinv_givens2(chain2);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver2(chain2,fksolver2,iksolverv2);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver2_givens(chain2,fksolver2,iksolverv_pinv_givens2,1000);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    FkPosAndIkPosLocal(chain2,fksolver2,iksolver2);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    FkPosAndIkPosLocal(chain2,fksolver2,iksolver2_givens);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;overdetermined problem&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver3(chain3);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolverv3(chain3);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolverv_pinv_givens3(chain3);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver3(chain3,fksolver3,iksolverv3);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver3_givens(chain3,fksolver3,iksolverv_pinv_givens3,1000);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    FkPosAndIkPosLocal(chain3,fksolver3,iksolver3);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    FkPosAndIkPosLocal(chain3,fksolver3,iksolver3_givens);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;underdetermined problem with WGs segment constructor&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver4(chain4);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> iksolverv4(chain4);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">ChainIkSolverVel_pinv_givens</a> iksolverv_pinv_givens4(chain4);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver4(chain4,fksolver4,iksolverv4,1000);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver4_givens(chain4,fksolver4,iksolverv_pinv_givens4,1000);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-HouseHolder&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    FkPosAndIkPosLocal(chain4,fksolver4,iksolver4);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-SVD-Givens&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    FkPosAndIkPosLocal(chain4,fksolver4,iksolver4_givens);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classSolverTest.html#a98233f094ee5ee25bbcac08c18ef1cf1">  518</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a98233f094ee5ee25bbcac08c18ef1cf1">SolverTest::IkSingularValueTest</a>()</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxiter = 30;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">double</span>  eps = 1e-6 ;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordtype">int</span> maxiter_vel = 30;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordtype">double</span>  eps_vel = 0.1 ;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> F, dF, F_des,F_solved;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">KDL::Twist</a> F_error ;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-IK Solver Tests for Near Zero SVs&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver(motomansia10);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html">ChainIkSolverVel_pinv</a> ikvelsolver1(motomansia10,eps_vel,maxiter_vel);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver1(motomansia10,fksolver,ikvelsolver1,maxiter,eps);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = motomansia10.getNrOfJoints();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(nj), q_solved(nj) ;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;norminal case:  convergence&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    q(0) = 0. ;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    q(1) = 0.5 ;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    q(2) = 0.4 ;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    q(3) = -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a> ;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    q(4) = 0. ;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    q(5) = 0. ;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    q(6) = 0. ;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    dF.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a> = <a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">KDL::Rotation::RPY</a>(0.1, 0.1, 0.1) ;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    dF.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a> = <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.01,0.01,0.01) ;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    CPPUNIT_ASSERT_EQUAL(0, fksolver.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,F));</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    F_des = F * dF ;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                         iksolver1.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q, F_des, q_solved));  <span class="comment">// converges</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1SolverI.html#a0473a25058060878b90ace7324ae1d47">getError</a>());</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)1,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a11d9df2fdfea7c7d616298c907ce672a">getNrZeroSigmas</a>()) ;      <span class="comment">//  1 singular value</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    CPPUNIT_ASSERT_EQUAL(0, fksolver.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q_solved,F_solved));</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    F_error = <a class="code" href="namespaceKDL.html#a721ba3f54f506bc1004fb981a9ea7b13">KDL::diff</a>(F_solved,F_des);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    CPPUNIT_ASSERT_EQUAL(F_des,F_solved);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;nonconvergence:  pseudoinverse singular&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    q(0) = 0. ;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    q(1) = 0.2 ;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    q(2) = 0.4 ;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    q(3) = -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a> ;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    q(4) = 0. ;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    q(5) = 0. ;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    q(6) = 0. ;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    dF.M = <a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">KDL::Rotation::RPY</a>(0.1, 0.1, 0.1) ;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    dF.p = <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.01,0.01,0.01) ;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    CPPUNIT_ASSERT_EQUAL(0, fksolver.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,F));</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    F_des = F * dF ;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50">SolverI::E_MAX_ITERATIONS_EXCEEDED</a>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                         iksolver1.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q,F_des,q_solved)); <span class="comment">// no converge</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a5c3646dc5104390e7d6a92490b2785e6">ChainIkSolverVel_pinv::E_CONVERGE_PINV_SINGULAR</a>,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1SolverI.html#a0473a25058060878b90ace7324ae1d47">getError</a>());          <span class="comment">// truncated SV solution</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)2,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a11d9df2fdfea7c7d616298c907ce672a">getNrZeroSigmas</a>()) ;      <span class="comment">//  2 singular values (jac pseudoinverse singular)</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;nonconvergence:  large displacement, low iterations&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    q(0) = 0. ;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    q(1) = 0.5 ;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    q(2) = 0.4 ;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    q(3) = -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a> ;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    q(4) = 0. ;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    q(5) = 0. ;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    q(6) = 0. ;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// big displacement</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    dF.M = <a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">KDL::Rotation::RPY</a>(0.2, 0.2, 0.2) ;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    dF.p = <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(-0.2,-0.2, -0.2) ;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="comment">// low iterations</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    maxiter = 5 ;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html">ChainIkSolverPos_NR</a> iksolver2(motomansia10,fksolver,ikvelsolver1,maxiter,eps);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    CPPUNIT_ASSERT_EQUAL(0, fksolver.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,F));</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    F_des = F * dF ;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50">SolverI::E_MAX_ITERATIONS_EXCEEDED</a>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                         iksolver2.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q,F_des,q_solved));    <span class="comment">//  does not converge</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                        ikvelsolver1.<a class="code" href="classKDL_1_1SolverI.html#a0473a25058060878b90ace7324ae1d47">getError</a>());</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)1,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a11d9df2fdfea7c7d616298c907ce672a">getNrZeroSigmas</a>()) ;      <span class="comment">//  1 singular value (jac pseudoinverse exists)</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;nonconvergence:  fully singular&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    q(0) = 0. ;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    q(1) = 0. ;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    q(2) = 0. ;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    q(3) = 0. ;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    q(4) = 0. ;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    q(5) = 0. ;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    q(6) = 0. ;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    dF.M = <a class="code" href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">KDL::Rotation::RPY</a>(0.1, 0.1, 0.1) ;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    dF.p = <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a>(0.01,0.01,0.01) ;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolver.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,F));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    F_des = F * dF ;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50">SolverI::E_MAX_ITERATIONS_EXCEEDED</a>,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                         iksolver1.<a class="code" href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">CartToJnt</a>(q,F_des,q_solved)); <span class="comment">// no converge</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a5c3646dc5104390e7d6a92490b2785e6">ChainIkSolverVel_pinv::E_CONVERGE_PINV_SINGULAR</a>,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1SolverI.html#a0473a25058060878b90ace7324ae1d47">getError</a>());          <span class="comment">// truncated SV solution</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)3,</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                         ikvelsolver1.<a class="code" href="classKDL_1_1ChainIkSolverVel__pinv.html#a11d9df2fdfea7c7d616298c907ce672a">getNrZeroSigmas</a>());</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="classSolverTest.html#a7e294164472d1837452f4a417b2e141e">  639</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a7e294164472d1837452f4a417b2e141e">SolverTest::IkVelSolverWDLSTest</a>()</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordtype">int</span> maxiter = 30;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordtype">double</span>  eps = 0.1 ;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordtype">double</span> lambda = 0.1 ;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL-IK WDLS Vel Solver Tests for Near Zero SVs&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html">KDL::ChainIkSolverVel_wdls</a> ikvelsolver(motomansia10,eps,maxiter) ;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#aae31a982ea6a043a37592329cc51fab4">setLambda</a>(lambda) ;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = motomansia10.getNrOfJoints();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(nj), dq(nj) ;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> v05(0.05,0.05,0.05) ;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">KDL::Twist</a> dx(v05,v05) ;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;smallest singular value is above threshold (no WDLS)&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    q(0) = 0. ;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    q(1) = 0.5 ;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    q(2) = 0.4 ;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    q(3) = -<a class="code" href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">PI_2</a> ;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    q(4) = 0. ;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    q(5) = 0. ;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    q(6) = 0. ;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                         ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q, dx, dq)) ;    <span class="comment">// wdls mode</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    CPPUNIT_ASSERT(1==ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#ab27c3a6690943b78673b386884794a65">getNrZeroSigmas</a>()) ;      <span class="comment">//  1 singular value</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;smallest singular value is below threshold (lambda is scaled)&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    q(1) = 0.2 ;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a740d84e22565a0fcf73dd834e4152fbf">ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</a>,</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                         ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q, dx, dq)) ;    <span class="comment">// wdls mode</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)2,ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#ab27c3a6690943b78673b386884794a65">getNrZeroSigmas</a>()) ;       <span class="comment">//  2 singular values</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    CPPUNIT_ASSERT_EQUAL(ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#afc24c8c3e751a2e663080b00924bc9a9">getLambdaScaled</a>(),</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                         <a class="code" href="namespaceKDL.html#aa6caeaeca2777225cf1f09355e286d27">sqrt</a>(1.0-(ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a44685c39e2cc8e65c3565fdaadb96a75">getSigmaMin</a>()/eps)*(ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a44685c39e2cc8e65c3565fdaadb96a75">getSigmaMin</a>()/eps))*lambda) ;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;smallest singular value is zero (lambda_scaled=lambda)&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    q(1) = 0.0 ;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a740d84e22565a0fcf73dd834e4152fbf">ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</a>,</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                         ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q, dx, dq)) ;    <span class="comment">// wdls mode</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)2,ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#ab27c3a6690943b78673b386884794a65">getNrZeroSigmas</a>()) ;       <span class="comment">//  2 singular values</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    CPPUNIT_ASSERT_EQUAL(ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#afc24c8c3e751a2e663080b00924bc9a9">getLambdaScaled</a>(),lambda) ;    <span class="comment">// full value</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// fully singular</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    q(2) = 0.0 ;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    q(3) = 0.0 ;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a740d84e22565a0fcf73dd834e4152fbf">ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</a>,</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                         ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">CartToJnt</a>(q, dx, dq)) ;    <span class="comment">// wdls mode</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    CPPUNIT_ASSERT_EQUAL(4,(<span class="keywordtype">int</span>)ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#ab27c3a6690943b78673b386884794a65">getNrZeroSigmas</a>()) ;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    CPPUNIT_ASSERT_EQUAL(ikvelsolver.<a class="code" href="classKDL_1_1ChainIkSolverVel__wdls.html#afc24c8c3e751a2e663080b00924bc9a9">getLambdaScaled</a>(),lambda) ;    <span class="comment">// full value</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classSolverTest.html#a2e61d86d485d9e976dfd28f6a82513f2">  700</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a2e61d86d485d9e976dfd28f6a82513f2">SolverTest::FkPosAndJacLocal</a>(<a class="code" href="classKDL_1_1Chain.html">Chain</a>&amp; chain,<a class="code" href="classKDL_1_1ChainFkSolverPos.html">ChainFkSolverPos</a>&amp; fksolverpos,<a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a>&amp; jacsolver)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordtype">double</span> deltaq = 1E-4;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> F1,F2;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> jac(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>(); i++)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q(i));</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    jacsolver.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q,jac);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; q.<a class="code" href="classKDL_1_1JntArray.html#a3176b3c2ebbeeca6e45a3e8d4d692e5b">rows</a>() ; i++)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="comment">// test the derivative of J towards qi</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordtype">double</span> oldqi = q(i);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        q(i) = oldqi+deltaq;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos.html#aee36d4b6ef10c9776e6cd0c2a105606e">JntToCart</a>(q,F2));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        q(i) = oldqi-deltaq;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos.html#aee36d4b6ef10c9776e6cd0c2a105606e">JntToCart</a>(q,F1));</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        q(i) = oldqi;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="comment">// check Jacobian :</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <a class="code" href="classKDL_1_1Twist.html">Twist</a> Jcol1 = <a class="code" href="namespaceKDL.html#a721ba3f54f506bc1004fb981a9ea7b13">diff</a>(F1,F2,2*deltaq);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <a class="code" href="classKDL_1_1Twist.html">Twist</a> Jcol2(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(jac(0,i),jac(1,i),jac(2,i)),</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                    <a class="code" href="classKDL_1_1Vector.html">Vector</a>(jac(3,i),jac(4,i),jac(5,i)));</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">//CPPUNIT_ASSERT_EQUAL(true,Equal(Jcol1,Jcol2,epsJ));</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        CPPUNIT_ASSERT_EQUAL(Jcol1,Jcol2);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classSolverTest.html#a9d4f13f0395e5fc93fad1768bf367d78">  735</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a9d4f13f0395e5fc93fad1768bf367d78">SolverTest::FkVelAndJacLocal</a>(<a class="code" href="classKDL_1_1Chain.html">Chain</a>&amp; chain, <a class="code" href="classKDL_1_1ChainFkSolverVel.html">ChainFkSolverVel</a>&amp; fksolvervel, <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a>&amp; jacsolver)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdot(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>(); i++)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q(i));</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(qdot(i));</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classKDL_1_1JntArrayVel.html">JntArrayVel</a> qvel(q,qdot);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> jac(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> cart;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> t;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    jacsolver.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(qvel.<a class="code" href="classKDL_1_1JntArrayVel.html#a3d1c16da97a33260f4e6ee867bc357b6">q</a>,jac);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel.html#a7ae7b44890420e9459a3e8da73994edb">JntToCart</a>(qvel,cart));</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="namespaceKDL.html#ac85eca37a300ca3afa534bf3133cd134">MultiplyJacobian</a>(jac,qvel.<a class="code" href="classKDL_1_1JntArrayVel.html#a4cedcb3da3af96a6934fa3cefc5be371">qdot</a>,t);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    CPPUNIT_ASSERT_EQUAL(cart.<a class="code" href="classKDL_1_1FrameVel.html#a4e063497fd4fb7bdaa79034553939a70">deriv</a>(),t);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="classSolverTest.html#af74397c8637f579fc80099d4ea763829">  757</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#af74397c8637f579fc80099d4ea763829">SolverTest::FkVelAndIkVelLocal</a>(<a class="code" href="classKDL_1_1Chain.html">Chain</a>&amp; chain, <a class="code" href="classKDL_1_1ChainFkSolverVel.html">ChainFkSolverVel</a>&amp; fksolvervel, <a class="code" href="classKDL_1_1ChainIkSolverVel.html">ChainIkSolverVel</a>&amp; iksolvervel)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;{</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdot(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>(); i++)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q(i));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(qdot(i));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="classKDL_1_1JntArrayVel.html">JntArrayVel</a> qvel(q,qdot);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdot_solved(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> cart;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel.html#a7ae7b44890420e9459a3e8da73994edb">JntToCart</a>(qvel,cart));</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, iksolvervel.<a class="code" href="classKDL_1_1ChainIkSolverVel.html#a761853db487c901485737c6334953cbe">CartToJnt</a>(qvel.<a class="code" href="classKDL_1_1JntArrayVel.html#a3d1c16da97a33260f4e6ee867bc357b6">q</a>,cart.<a class="code" href="classKDL_1_1FrameVel.html#a4e063497fd4fb7bdaa79034553939a70">deriv</a>(),qdot_solved));</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    qvel.<a class="code" href="classKDL_1_1JntArrayVel.html#a00edc595e5950fa9993f7912e9f890d3">deriv</a>()=qdot_solved;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span>(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>()&lt;=6)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(qvel.<a class="code" href="classKDL_1_1JntArrayVel.html#a4cedcb3da3af96a6934fa3cefc5be371">qdot</a>,qdot_solved,1e-5));</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> cart_solved;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>,fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel.html#a7ae7b44890420e9459a3e8da73994edb">JntToCart</a>(qvel,cart_solved));</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(cart.<a class="code" href="classKDL_1_1FrameVel.html#a4e063497fd4fb7bdaa79034553939a70">deriv</a>(),cart_solved.<a class="code" href="classKDL_1_1FrameVel.html#a4e063497fd4fb7bdaa79034553939a70">deriv</a>(),1e-5));</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="classSolverTest.html#a5312251bc318438ee6765132c41e6f15">  790</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a5312251bc318438ee6765132c41e6f15">SolverTest::FkPosAndIkPosLocal</a>(<a class="code" href="classKDL_1_1Chain.html">Chain</a>&amp; chain,<a class="code" href="classKDL_1_1ChainFkSolverPos.html">ChainFkSolverPos</a>&amp; fksolverpos, <a class="code" href="classKDL_1_1ChainIkSolverPos.html">ChainIkSolverPos</a>&amp; iksolverpos)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>(); i++)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q(i));</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_init(chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>());</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordtype">double</span> tmp;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain.<a class="code" href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">getNrOfJoints</a>(); i++)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(tmp);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        q_init(i)=q(i)+0.1*tmp;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_solved(q);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> F1,F2;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos.html#aee36d4b6ef10c9776e6cd0c2a105606e">JntToCart</a>(q,F1));</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, iksolverpos.<a class="code" href="classKDL_1_1ChainIkSolverPos.html#a4781229863bfda0a6ebb6e6768fa2033">CartToJnt</a>(q_init,F1,q_solved));</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos.html#aee36d4b6ef10c9776e6cd0c2a105606e">JntToCart</a>(q_solved,F2));</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    CPPUNIT_ASSERT_EQUAL(F1,F2);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">//CPPUNIT_ASSERT_EQUAL(q,q_solved);</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="classSolverTest.html#a6a24b518ad5ace0f37fe35cc4a515e9a">  818</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a6a24b518ad5ace0f37fe35cc4a515e9a">SolverTest::VereshchaginTest</a>()</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL Vereshchagin Hybrid Dynamics Tests&quot;</span> &lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// Vereshchagin solver test 1</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> solver_return = 0;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordtype">double</span> eps = 1.e-3;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = kukaLWR.getNrOfJoints();</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ns = kukaLWR.getNrOfSegments();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// Necessary test for the used robot model: KDL&#39;s implementation of the Vereshchagin solver </span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// can only work with the robot chains that have equal number of joints and segments</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nj, ns));</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">// Joint position, velocity, acceleration, feed-forward and constraint torques</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> q(nj); <span class="comment">//input</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> qd(nj); <span class="comment">//input</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> qdd(nj); <span class="comment">//output</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> ff_tau(nj); <span class="comment">//input</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> constraint_tau(nj); <span class="comment">//output</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="comment">// Random configuration</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    q(0) =  1.6;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    q(1) =  0.0;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    q(2) = -1.6;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    q(3) = -1.57;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    q(4) =  0.0;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    q(5) =  1.57;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    q(6) = -0.8;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    qd(0) =  1.0;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    qd(1) = -2.0;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    qd(2) =  3.0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    qd(3) = -4.0;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    qd(4) =  5.0;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    qd(5) = -6.0;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    qd(6) =  7.0;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// Random feedforwad torques acting on robot joints</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    ff_tau(0) =  5.0;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    ff_tau(1) =  0.0;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    ff_tau(2) =  0.0;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    ff_tau(3) =  0.0;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    ff_tau(4) =  0.0;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    ff_tau(5) = -6.0;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    ff_tau(6) =  0.0;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// External Wrench acting on the end-effector, expressed in base link coordinates</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// Vereshchagin solver expects that external wrenches are expressed w.r.t. robot&#39;s base frame</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> f(10.0, 15.0, 0.0);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> n(0.0, 0.0, 5.0);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">KDL::Wrench</a> f_tool(f, n);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">KDL::Wrenches</a> f_ext(ns);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    f_ext[ns - 1] = f_tool; <span class="comment">//input</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordtype">int</span> number_of_constraints = 6;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// Constraint Unit forces defined for the end-effector</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> alpha_unit_force(number_of_constraints);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="comment">// Set directions in which the constraint force should work. Alpha in the solver</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> unit_force_x_l(</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(1.0, 0.0, 0.0), </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    alpha_unit_force.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(0, unit_force_x_l); <span class="comment">// constraint active</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> unit_force_y_l(</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 1.0, 0.0),</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    alpha_unit_force.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(1, unit_force_y_l); <span class="comment">// constraint active</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> unit_force_z_l(</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 1.0),</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    alpha_unit_force.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(2, unit_force_z_l); <span class="comment">// constraint active</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> unit_force_x_a(</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0),</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    alpha_unit_force.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(3, unit_force_x_a); <span class="comment">// constraint disabled... In this direction, end-effector&#39;s motion is left to emerge naturally</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> unit_force_y_a(</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0),</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    alpha_unit_force.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(4, unit_force_y_a); <span class="comment">// constraint disabled... In this direction, end-effector&#39;s motion is left to emerge naturally</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> unit_force_z_a(</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0),</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 1.0));</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    alpha_unit_force.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(5, unit_force_z_a); <span class="comment">// constraint active</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// Acceleration energy for the end-effector.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> beta_energy(number_of_constraints);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    beta_energy(0) = -0.5;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    beta_energy(1) = -0.5;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    beta_energy(2) =  0.0;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    beta_energy(3) =  0.0; <span class="comment">// this value has no impact on computations, since its corresponding constraint is disabled</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    beta_energy(4) =  0.0; <span class="comment">// this value has no impact on computations, since its corresponding constraint is disabled</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    beta_energy(5) =  0.2;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">// Arm root acceleration (robot&#39;s base mounted on an even surface)</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// Note: Vereshchagin solver takes root acc. with opposite sign comparead to the KDL&#39;s FD and RNE solvers</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> root_Acc(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 9.81), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0));</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html">ChainHdSolver_Vereshchagin</a> vereshchaginSolver(kukaLWR, root_Acc, number_of_constraints);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    solver_return = vereshchaginSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q, qd, qdd, alpha_unit_force, beta_energy, f_ext, ff_tau, constraint_tau);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">if</span> (solver_return &lt; 0) <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: Vereshchagin solver ERROR: &quot;</span> &lt;&lt; solver_return &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// Final comparison of the _resultant_ end-effector&#39;s Cartesian accelerations</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="comment">// and the task-specified acceleration constraints</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="comment">// Number of frames on the robot = ns + 1</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt;Twist&gt;</a> xDotdot(ns + 1);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="comment">// This solver&#39;s function returns Cartesian accelerations of links in robot base coordinates</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    vereshchaginSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#aacddb2d51c10a9f29775306728a621d6">getTransformedLinkAcceleration</a>(xDotdot);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(beta_energy(0), xDotdot[ns].vel(0), eps));</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(beta_energy(1), xDotdot[ns].vel(1), eps));</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(beta_energy(2), xDotdot[ns].vel(2), eps));</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(beta_energy(5), xDotdot[ns].rot(2), eps));</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="comment">// Additional getters for the intermediate solver&#39;s outputs: Useful for state- simulation and estimation purposes</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// Magnitude of the constraint forces acting on the end-effector: Lagrange Multiplier</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    Eigen::VectorXd nu(number_of_constraints);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    vereshchaginSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a99676a8e2f3690041e5e609d6808b50e">getContraintForceMagnitude</a>(nu);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nu(0), 669693.30355, eps));</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nu(1), 5930.60826, eps));</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nu(2), -639.5238, eps));</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nu(3), 0.000, eps)); <span class="comment">// constraint was not active in the task specification</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nu(4), 0.000, eps)); <span class="comment">// constraint was not active in the task specification</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nu(5), 573.90485, eps));</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// Total torque acting on each joint</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> total_tau(nj);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    vereshchaginSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a1ce68d9c9974648498a7e28ab8cebb48">getTotalTorque</a>(total_tau);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(0), 2013.3541, eps));</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(1), -6073.4999, eps));</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(2), 2227.4487, eps));</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(3), 56.87456, eps));</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(4), -11.3789, eps));</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(5), -6.05957, eps));</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(total_tau(6), 569.0776, eps));</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="comment">// Vereshchagin solver test 2</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> constrainXLinear(1.0, 0.0, 0.0);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> constrainXAngular(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> constrainYLinear(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> constrainYAngular(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">// Vector constrainZLinear(0.0, 0.0, 0.0);</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="comment">//Vector constrainZAngular(0.0, 0.0, 0.0);</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> constraintForcesX(constrainXLinear, constrainXAngular);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> constraintForcesY(constrainYLinear, constrainYAngular);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="comment">//Twist constraintForcesZ(constrainZLinear, constrainZAngular);</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> alpha(1);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="comment">//alpha.setColumn(0, constraintForcesX);</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    alpha.<a class="code" href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">setColumn</a>(0, constraintForcesX);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">//alpha.setColumn(0, constraintForcesZ);</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">//Acceleration energy at  the end-effector</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> betha(1); <span class="comment">//set to zero</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    betha(0) = 0.0;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="comment">//betha(1) = 0.0;</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">//betha(2) = 0.0;</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">//arm root acceleration</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> linearAcc(0.0, 10, 0.0); <span class="comment">//gravitational acceleration along Y</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> angularAcc(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> twist1(linearAcc, angularAcc);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">//external forces on the arm</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> externalForce1(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> externalTorque1(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> externalForce2(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> externalTorque2(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">Wrench</a> externalNetForce1(externalForce1, externalTorque1);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">Wrench</a> externalNetForce2(externalForce2, externalTorque2);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">Wrenches</a> externalNetForce;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    externalNetForce.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(externalNetForce1);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    externalNetForce.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(externalNetForce2);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="comment">//~Definition of constraints and external disturbances</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">//-------------------------------------------------------------------------------------//</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">//Definition of solver and initial configuration</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">//-------------------------------------------------------------------------------------//</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordtype">int</span> numberOfConstraints = 1;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html">ChainHdSolver_Vereshchagin</a> constraintSolver(chaindyn, twist1, numberOfConstraints);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="comment">//These arrays of joint values contain actual and desired values</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">//actual is generated by a solver and integrator</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">//desired is given by an interpolator</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="comment">//error is the difference between desired-actual</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="comment">//in this test only the actual values are printed.</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> k = 1;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointPoses[k];</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointRates[k];</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointAccelerations[k];</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointFFTorques[k];</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointConstraintTorques[k];</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; k; i++)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointValues(chaindyn.getNrOfJoints());</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        jointPoses[i] = jointValues;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        jointRates[i] = jointValues;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        jointAccelerations[i] = jointValues;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        jointFFTorques[i] = jointValues;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        jointConstraintTorques[i] = jointValues;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// Initial arm position configuration/constraint</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jointInitialPose(chaindyn.getNrOfJoints());</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    jointInitialPose(0) = 0.0; <span class="comment">// initial joint0 pose</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    jointInitialPose(1) = <a class="code" href="namespaceKDL.html#a8deb2bd8c8926513a18283b4af0de0fd">PI</a>/6.0; <span class="comment">//initial joint1 pose, negative in clockwise</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">//j0=0.0, j1=pi/6.0 correspond to x = 0.2, y = -0.7464</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">//j0=2*pi/3.0, j1=pi/4.0 correspond to x = 0.44992, y = 0.58636</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="comment">//actual</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    jointPoses[0](0) = jointInitialPose(0);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    jointPoses[0](1) = jointInitialPose(1);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="comment">//~Definition of solver and initial configuration</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="comment">//-------------------------------------------------------------------------------------//</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">//Definition of process main loop</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="comment">//-------------------------------------------------------------------------------------//</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="comment">//Time required to complete the task move(frameinitialPose, framefinalPose)</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordtype">double</span> taskTimeConstant = 0.1;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordtype">double</span> simulationTime = 1*taskTimeConstant;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordtype">double</span> timeDelta = 0.01;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> msg = <span class="stringliteral">&quot;Assertion failed, check matrix and array sizes&quot;</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> t = 0.0; t &lt;=simulationTime; t = t + timeDelta)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        CPPUNIT_ASSERT_EQUAL((<span class="keywordtype">int</span>)<a class="code" href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">SolverI::E_NOERROR</a>, constraintSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(jointPoses[0], jointRates[0], jointAccelerations[0], alpha, betha, externalNetForce, jointFFTorques[0], jointConstraintTorques[0]));</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="comment">//Integration(robot joint values for rates and poses; actual) at the given &quot;instanteneous&quot; interval for joint position and velocity.</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        jointRates[0](0) = jointRates[0](0) + jointAccelerations[0](0) * timeDelta; <span class="comment">//Euler Forward</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        jointPoses[0](0) = jointPoses[0](0) + (jointRates[0](0) - jointAccelerations[0](0) * timeDelta / 2.0) * timeDelta; <span class="comment">//Trapezoidal rule</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        jointRates[0](1) = jointRates[0](1) + jointAccelerations[0](1) * timeDelta; <span class="comment">//Euler Forward</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        jointPoses[0](1) = jointPoses[0](1) + (jointRates[0](1) - jointAccelerations[0](1) * timeDelta / 2.0) * timeDelta;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        jointFFTorques[0] = jointConstraintTorques[0];</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="comment">//printf(&quot;time, j0_pose, j1_pose, j0_rate, j1_rate, j0_acc, j1_acc, j0_constraintTau, j1_constraintTau \n&quot;);</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        printf(<span class="stringliteral">&quot;%f          %f      %f       %f     %f       %f      %f     %f      %f\n&quot;</span>, t, jointPoses[0](0), jointPoses[0](1), jointRates[0](0), jointRates[0](1), jointAccelerations[0](0), jointAccelerations[0](1), jointConstraintTorques[0](0), jointConstraintTorques[0](1));</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="classSolverTest.html#aeea632a622bbb37848cfc77ba6131f03"> 1096</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#aeea632a622bbb37848cfc77ba6131f03">SolverTest::FkPosVectTest</a>()</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;{</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver1(chain1);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt;Frame&gt;</a> v_out(chain1.getNrOfSegments());</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(chain1.getNrOfJoints());</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdot(chain1.getNrOfJoints());</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain1.getNrOfJoints(); i++)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q(i));</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(qdot(i));</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> f_out;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    fksolver1.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,v_out);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    fksolver1.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,f_out);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;     </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(v_out[chain1.getNrOfSegments()-1],f_out,1e-5));</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;}</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="classSolverTest.html#a91bf08255a38f97d32e25fe8c1540384"> 1116</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a91bf08255a38f97d32e25fe8c1540384">SolverTest::FkVelVectTest</a>()</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;{</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolver1(chain1);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt;FrameVel&gt;</a> v_out(chain1.getNrOfSegments());</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(chain1.getNrOfJoints());</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdot(chain1.getNrOfJoints());</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;chain1.getNrOfJoints(); i++)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(q(i));</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <a class="code" href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">random</a>(qdot(i));</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="classKDL_1_1JntArrayVel.html">JntArrayVel</a> qvel(q,qdot);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> f_out;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    fksolver1.<a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">JntToCart</a>(qvel,v_out);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    fksolver1.<a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">JntToCart</a>(qvel,f_out);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(v_out[chain1.getNrOfSegments()-1],f_out,1e-5));</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="classSolverTest.html#a371fe0dc207c959612fb8eae8deb2b0a"> 1137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a371fe0dc207c959612fb8eae8deb2b0a">SolverTest::FdSolverDevelopmentTest</a>()</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;{</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordtype">double</span> eps=1.e-3;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL FD Solver Development Test for Motoman SIA10&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">//  NOTE:  This is prototype code for the KDL forward dynamics solver class</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">//         based on the Recurse Newton Euler Method:  ChainFdSolver_RNE</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="comment">//  Dynamics Solver</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> gravity(0.0, 0.0, -9.81);  <span class="comment">// base frame</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="classKDL_1_1ChainDynParam.html">ChainDynParam</a> DynSolver = <a class="code" href="classKDL_1_1ChainDynParam.html">KDL::ChainDynParam</a>(motomansia10dyn, gravity);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = motomansia10dyn.getNrOfJoints();</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ns = motomansia10dyn.getNrOfSegments();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="comment">// Joint position, velocity, and acceleration</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(nj);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qd(nj);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdd(nj);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">//  random</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    q(0) = 0.2;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    q(1) = 0.6;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    q(2) = 1.;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    q(3) = 0.5;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    q(4) = -1.4;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    q(5) = 0.3;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    q(6) = -0.8;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    qd(0) = 1.;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    qd(1) = -2.;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    qd(2) = 3.;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    qd(3) = -4.;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    qd(4) = 5.;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    qd(5) = -6.;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    qd(6) = 7.;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">// Validate FK</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolver(motomansia10dyn);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> f_out;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    fksolver.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q,f_out);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.547, f_out.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(0), eps));</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.301, f_out.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(1), eps));</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.924, f_out.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(2), eps));</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.503, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(0,0), eps));</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.286, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(0,1), eps));</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.816, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(0,2), eps));</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.859, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(1,0), eps));</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.269, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(1,1), eps));</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.436, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(1,2), eps));</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.095, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(2,0), eps));</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.920, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(2,1), eps));</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.381, f_out.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a>(2,2), eps));</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// Validate Jacobian</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacsolver(motomansia10dyn);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> jac(nj);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    jacsolver.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q, jac);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordtype">double</span> Jac[6][7] =</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        {{0.301,-0.553,0.185,0.019,0.007,-0.086,0.},</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        {-0.547,-0.112,-0.139,-0.376,-0.037,0.063,0.},</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        {0.,-0.596,0.105,-0.342,-0.026,-0.113,0.},</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        {0.,0.199,-0.553,0.788,-0.615,0.162,-0.816},</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        {0.,-0.980,-0.112,-0.392,-0.536,-0.803,-0.436},</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        {1.,0.,0.825,0.475,0.578,-0.573,0.381}};</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;6; i++ ) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;nj; j++ ) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(jac(i,j), Jac[i][j], eps));</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">// Return values</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> taugrav(nj);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> taucor(nj);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    JntSpaceInertiaMatrix H(nj), Heff(nj);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="comment">// Compute Dynamics (torque in N-m)</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    ret = DynSolver.<a class="code" href="classKDL_1_1ChainDynParam.html#ad71feeedf84067cd454bd194ddc7656b">JntToGravity</a>(q, taugrav);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0) <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: inverse dynamics ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.000, taugrav(0), eps));</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-36.672, taugrav(1), eps));</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(4.315, taugrav(2), eps));</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-11.205, taugrav(3), eps));</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.757, taugrav(4), eps));</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(1.780, taugrav(5), eps));</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.000, taugrav(6), eps));</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    ret = DynSolver.<a class="code" href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">JntToCoriolis</a>(q, qd, taucor);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0) <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: inverse dynamics ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-15.523, taucor(0), eps));</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(24.250, taucor(1), eps));</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-6.862, taucor(2), eps));</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(6.303, taucor(3), eps));</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.110, taucor(4), eps));</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-4.898, taucor(5), eps));</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.249, taucor(6), eps));</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    ret = DynSolver.<a class="code" href="classKDL_1_1ChainDynParam.html#a452ff0523f877bdd62715380553cf106">JntToMass</a>(q, H);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0) <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: inverse dynamics ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordtype">double</span> Hexp[7][7] =</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        {{6.8687,-0.4333,0.4599,0.6892,0.0638,-0.0054,0.0381},</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        {-0.4333,8.8324,-0.5922,0.7905,0.0003,-0.0242,0.0265},</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        {0.4599,-0.5922,3.3496,-0.0253,0.1150,-0.0243,0.0814},</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        {0.6892,0.7905,-0.0253,3.9623,-0.0201,0.0087,-0.0291},</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        {0.0638,0.0003,0.1150,-0.0201,1.1234,0.0029,0.0955},</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        {-0.0054,-0.0242,-0.0243,0.0087,0.0029,1.1425,0},</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        {0.0381,0.0265,0.0814,-0.0291,0.0955,0,1.1000}};</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;nj; i++ ) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;nj; j++ ) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(H(i,j), Hexp[i][j], eps));</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="comment">// Inverse Dynamics:</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="comment">//   T = H * qdd + Tcor + Tgrav - J^T * Fext</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="comment">// Forward Dynamics</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">//   1. Call JntToMass from ChainDynParam to get H</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="comment">//   2. Call ID with qdd=0 to get T=Tcor+Tgrav+J^T*Fext</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">//   3. Calculate qdd = H^-1 * T</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="classKDL_1_1ChainIdSolver__RNE.html">KDL::ChainIdSolver_RNE</a> IdSolver = <a class="code" href="classKDL_1_1ChainIdSolver__RNE.html">KDL::ChainIdSolver_RNE</a>(motomansia10dyn, gravity);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// In tool coordinates</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> f(10,-20,30) ;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> n(3,-4,5) ;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">Wrench</a> f_tool(f,n);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="comment">// In local link coordinates</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">Wrenches</a> f_ext(ns);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;ns;i++){</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">SetToZero</a>(f_ext[i]);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    f_ext[ns-1]=f_tool;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> Tnoninertial(nj);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jntarraynull(nj);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">SetToZero</a>(jntarraynull);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    IdSolver.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q, qd, jntarraynull, f_ext, Tnoninertial);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-21.252, Tnoninertial(0), eps));</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-37.933, Tnoninertial(1), eps));</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-2.497, Tnoninertial(2), eps));</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-15.289, Tnoninertial(3), eps));</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-4.646, Tnoninertial(4), eps));</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-9.201, Tnoninertial(5), eps));</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-5.249, Tnoninertial(6), eps));</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="comment">// get acceleration using inverse symmetric matrix times vector</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    Eigen::MatrixXd H_eig(nj,nj), L(nj,nj);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    Eigen::VectorXd Tnon_eig(nj), D(nj), r(nj), acc_eig(nj);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;nj;i++){</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        Tnon_eig(i) =  -Tnoninertial(i);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0;j&lt;nj;j++){</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            H_eig(i,j) =  H(i,j);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <a class="code" href="namespaceKDL.html#acba9b399cc104f4be96ee84cadf99b07">ldl_solver_eigen</a>(H_eig, Tnon_eig, L, D, r, acc_eig);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;nj;i++){</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        qdd(i) = acc_eig(i);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(2.998, qdd(0), eps));</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(4.289, qdd(1), eps));</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(0.946, qdd(2), eps));</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(2.518, qdd(3), eps));</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(3.530, qdd(4), eps));</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(8.150, qdd(5), eps));</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(4.254, qdd(6), eps));</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"><a class="line" href="classSolverTest.html#ae52f78369c8324e99f6bb66440c39064"> 1305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#ae52f78369c8324e99f6bb66440c39064">SolverTest::FdSolverConsistencyTest</a>()</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;{</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordtype">double</span> eps=1.e-3;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;KDL FD Solver Consistency Test for Motoman SIA10&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="comment">//  NOTE:  Compute the forward and inverse dynamics and test for consistency</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="comment">//  Forward Dynamics Solver</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> gravity(0.0, 0.0, -9.81);  <span class="comment">// base frame</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="classKDL_1_1ChainFdSolver__RNE.html">KDL::ChainFdSolver_RNE</a> FdSolver = <a class="code" href="classKDL_1_1ChainFdSolver__RNE.html">KDL::ChainFdSolver_RNE</a>(motomansia10dyn, gravity);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = motomansia10dyn.getNrOfJoints();</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ns = motomansia10dyn.getNrOfSegments();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="comment">// Joint position, velocity, and acceleration</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> q(nj);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> qd(nj);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> qdd(nj);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> tau(nj);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">//  random</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    q(0) = 0.2;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    q(1) = 0.6;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    q(2) = 1.;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    q(3) = 0.5;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    q(4) = -1.4;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    q(5) = 0.3;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    q(6) = -0.8;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    qd(0) = 1.;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    qd(1) = -2.;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    qd(2) = 3.;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    qd(3) = -4.;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    qd(4) = 5.;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    qd(5) = -6.;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    qd(6) = 7.;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// actuator torques</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    tau(0) = 50.;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    tau(1) = -20.;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    tau(2) = 10.;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    tau(3) = 40.;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    tau(4) = -60.;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    tau(5) = 15.;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    tau(6) = -10.;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> f(10,-20,30) ;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> n(3,-4,5) ;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">KDL::Wrench</a> f_tool(f,n);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="comment">// In local link coordinates</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">KDL::Wrenches</a> f_ext(ns);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;ns;i++){</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">SetToZero</a>(f_ext[i]);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    f_ext[ns-1]=f_tool;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">// Call FD function</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    ret = FdSolver.<a class="code" href="classKDL_1_1ChainFdSolver__RNE.html#a19016902a70478a43a5e9baf3fbdfc98">CartToJnt</a>(q, qd, tau, f_ext, qdd);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0) <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: forward dynamics ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(9.486, qdd(0), eps));</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(1.830, qdd(1), eps));</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(4.726, qdd(2), eps));</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(11.665, qdd(3), eps));</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-50.108, qdd(4), eps));</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(21.403, qdd(5), eps));</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(-0.381, qdd(6), eps));</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">// Check against ID solver for consistency</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <a class="code" href="classKDL_1_1ChainIdSolver__RNE.html">KDL::ChainIdSolver_RNE</a> IdSolver = <a class="code" href="classKDL_1_1ChainIdSolver__RNE.html">KDL::ChainIdSolver_RNE</a>(motomansia10dyn, gravity);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> torque(nj);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    IdSolver.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q, qd, qdd, f_ext, torque);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;nj; i++ )</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(torque(i), tau(i), eps));</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="classSolverTest.html#af49a0afac01178369a27888a304419de"> 1386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#af49a0afac01178369a27888a304419de">SolverTest::LDLdecompTest</a>()</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;{</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a>&lt;&lt;<span class="stringliteral">&quot;LDL Solver Test&quot;</span>&lt;&lt;<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordtype">double</span> eps=1.e-6;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="comment">//  Given A and b, solve Ax=b for x, where A is a symmetric real matrix</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="comment">//  https://en.wikipedia.org/wiki/Cholesky_decomposition</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    Eigen::MatrixXd A(3,3), Aout(3,3);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    Eigen::VectorXd b(3);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    Eigen::MatrixXd L(3,3), Lout(3,3);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    Eigen::VectorXd d(3), dout(3);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    Eigen::VectorXd x(3), xout(3);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    Eigen::VectorXd r(3);  <span class="comment">// temp variable used internally by ldl solver</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    Eigen::MatrixXd Dout(3,3);  <span class="comment">// diagonal matrix</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="comment">// Given</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    A &lt;&lt;  4, 12, -16,</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;         12, 37, -43,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        -16, -43, 98;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    b &lt;&lt; 28, 117, 98;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">// Results to verify</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    L &lt;&lt;  1, 0, 0,</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;          3, 1, 0,</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;          -4, 5, 1;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    d &lt;&lt; 4, 1, 9;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    x &lt;&lt; 3, 8, 5;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <a class="code" href="namespaceKDL.html#acba9b399cc104f4be96ee84cadf99b07">ldl_solver_eigen</a>(A, b, Lout, dout, r, xout);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++){</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;3;j++){</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(L(i,j), Lout(i,j), eps));</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    Dout.setZero();</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++){</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        Dout(i,i) = dout(i);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="comment">// Verify solution for x</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++){</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(xout(i), x(i), eps));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="comment">// Test reconstruction of A from LDL^T decomposition</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    Aout = Lout * Dout * Lout.transpose();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++){</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;3;j++){</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(A(i,j), Aout(i,j), eps));</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"><a class="line" href="classSolverTest.html#a1fe0da4cc1074b84a4abaadfe2ac462c"> 1442</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a1fe0da4cc1074b84a4abaadfe2ac462c">SolverTest::FdAndVereshchaginSolversConsistencyTest</a>()</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;{</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordtype">double</span> eps=1.e-3;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolverpos(kukaLWR);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> end_effector_pose;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL FD (inverse-inertia version) and Vereshchagin Solvers Consistency Test for KUKA LWR 4 robot&quot;</span> &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// Experiment (common state) setup</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = kukaLWR.getNrOfJoints();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ns = kukaLWR.getNrOfSegments();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="comment">// Necessary test for the used robot model: KDL&#39;s implementation of the Vereshchagin solver </span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="comment">// can only work with the robot chains that have equal number of joints and segments</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nj, ns));</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="comment">// Joint position, velocity, acceleration and torques</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> q(nj);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> qd(nj);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> qdd(nj);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">KDL::JntArray</a> ff_tau(nj);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// random input state</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    q(0) = 1.0;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    q(1) = 0.0;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    q(2) = 0.0;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    q(3) = -1.57;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    q(4) = 0.0;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    q(5) = 1.57;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    q(6) = -0.8;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    qd(0) = 1.0;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    qd(1) = -2.0;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    qd(2) = 3.0;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    qd(3) = -4.0;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    qd(4) = 5.0;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    qd(5) = -6.0;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    qd(6) = 7.0;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="comment">// actuator torques</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    ff_tau(0) = 50.0;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    ff_tau(1) = -20.0;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    ff_tau(2) = 10.0;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    ff_tau(3) = 40.0;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    ff_tau(4) = -60.0;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    ff_tau(5) = 15.0;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    ff_tau(6) = -10.0;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="comment">// External Wrench acting on the end-effector, expressed in local link coordinates</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> f(10.0, -20.0, 30.0);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">KDL::Vector</a> n(3.0, -4.0, 5.0);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">KDL::Wrench</a> f_tool(f, n);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">KDL::Wrenches</a> f_ext(ns);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0 ;i&lt;ns; i++)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">SetToZero</a>(f_ext[i]);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    f_ext[ns - 1] = f_tool;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="comment">// Forward Dynamics Solver (inverse-inertia version)</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> gravity(0.0, 0.0, -9.81);  <span class="comment">// base frame (Robot base mounted on an even surface)</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="classKDL_1_1ChainFdSolver__RNE.html">KDL::ChainFdSolver_RNE</a> FdSolver = <a class="code" href="classKDL_1_1ChainFdSolver__RNE.html">KDL::ChainFdSolver_RNE</a>(kukaLWR, gravity);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="comment">// Call FD function</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    ret = FdSolver.<a class="code" href="classKDL_1_1ChainFdSolver__RNE.html#a19016902a70478a43a5e9baf3fbdfc98">CartToJnt</a>(q, qd, ff_tau, f_ext, qdd);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: forward dynamics ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">// #########################################################################################</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="comment">// Vereshchagin Hybrid Dynamics solver</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="comment">// When the Cartesian Acceleration Constraints are deactivated, the computations performed </span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="comment">// in the Vereshchagin solver are completely the same as the computations performed in </span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">// the well-known FD Articulated Body Algorithm (ABA) developed by Featherstone </span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="comment">// Constraint Unit forces at the end-effector. Set to zero to deactivate all constraints</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordtype">int</span> numberOfConstraints = 6;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> alpha(numberOfConstraints);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">KDL::SetToZero</a>(alpha);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="comment">// Acceleration energy at the end-effector. Set to zero since all constraints are deactivated</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> beta(numberOfConstraints); <span class="comment">//set to zero</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">KDL::SetToZero</a>(beta);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="comment">// Arm root acceleration (robot&#39;s base mounted on an even surface)</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">// Note: Vereshchagin solver takes root acc. with opposite sign comparead to the above FD and RNE solvers</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> linearAcc(0.0, 0.0, 9.81); <a class="code" href="classKDL_1_1Vector.html">Vector</a> angularAcc(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> root_Acc(linearAcc, angularAcc);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">// Torques felt in robot&#39;s joints due to constraint forces acting on the end-effector</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> constraint_tau(nj); <span class="comment">// In this test, all elements of this array should result to zero</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q_dd_Ver(nj); <span class="comment">// Resultant joint accelerations</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="comment">// External Wrench acting on the end-effector, this time expressed in base link coordinates</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="comment">// Vereshchagin solver expects that external wrenches are expressed w.r.t. robot&#39;s base frame</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q, end_effector_pose, kukaLWR.getNrOfSegments());</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    f_ext[ns - 1] = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a> * f_tool;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html">ChainHdSolver_Vereshchagin</a> constraintSolver(kukaLWR, root_Acc, numberOfConstraints);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    ret = constraintSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q, qd, q_dd_Ver, alpha, beta, f_ext, ff_tau, constraint_tau);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL: Vereshchagin solver ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// ########################################################################################</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="comment">// Final comparison</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(0), qdd(0), eps));</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(1), qdd(1), eps));</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(2), qdd(2), eps));</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(3), qdd(3), eps));</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(4), qdd(4), eps));</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(5), qdd(5), eps));</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(q_dd_Ver(6), qdd(6), eps));</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="classSolverTest.html#a907bf6b113975e7ed274ed57377ea905"> 1563</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSolverTest.html#a907bf6b113975e7ed274ed57377ea905">SolverTest::ExternalWrenchEstimatorTest</a>()</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;{</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL External Wrench Estimator Test&quot;</span> &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordtype">double</span> eps_wrench = 0.5, eps_torque = 0.3;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nj = kukaLWR.getNrOfJoints();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ns = kukaLWR.getNrOfSegments();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(nj, ns)); <span class="comment">// Current implementation of the Vereshchagin solver can only work with chains that have equal number of joints and segments</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">// Initialize state and control variables</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> q(nj); <span class="comment">// Current joint position</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qd(nj); <span class="comment">// Current joint velocity</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> qdd(nj); <span class="comment">// Resultant joint accelerations</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="classKDL_1_1JntArrayVel.html">JntArrayVel</a> jnt_position_velocity(nj); <span class="comment">// variable necessary for the FK vel solver</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> jnt_array_zero(nj); <span class="comment">// Zero joint input for RNE</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> command_torque(nj); <span class="comment">// Control torque to actuate the robot</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> constraint_tau(nj); <span class="comment">// It will result in zero in Vereshchagin for this test</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> gravity_torque(nj); <span class="comment">// Gravity torque computed by RNE</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> ext_torque_reference(nj); <span class="comment">// Ground-truth joint torques due to the external force applied on the end-effector</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> ext_torque_estimated(nj); <span class="comment">// Estimated joint torques</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">Wrenches</a> f_ext_base(ns); <span class="comment">// External Wrenches acting on the end-effector, expressed in base-link coordinates</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">Wrenches</a> f_ext_zero(ns); <span class="comment">// Zero Wrenches</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="classKDL_1_1Wrench.html">Wrench</a> f_tool_estimated; <span class="comment">// External Wrenches estimated by the momentum-observer</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> end_effector_pose;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="classKDL_1_1Frame.html">Frame</a> desired_end_eff_pose;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> jacobian_end_eff(nj);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> end_eff_twist;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <a class="code" href="classKDL_1_1FrameVel.html">FrameVel</a> desired_end_eff_twist;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    Eigen::Matrix&lt;double, 6, 1&gt; end_eff_force; <span class="comment">// variable necessary for the control</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    Eigen::Matrix&lt;double, 6, 1&gt; end_eff_pos_error; <span class="comment">// variable necessary for the control</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    Eigen::Matrix&lt;double, 6, 1&gt; end_eff_vel_error; <span class="comment">// variable necessary for the control</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160; </div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// Arm root acceleration (robot&#39;s base mounted on an even surface)</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <a class="code" href="classKDL_1_1Vector.html">Vector</a> linearAcc(0.0, 0.0, -9.81); <a class="code" href="classKDL_1_1Vector.html">Vector</a> angularAcc(0.0, 0.0, 0.0);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    </div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="comment">// Initialize kinematics solvers</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html">ChainFkSolverPos_recursive</a> fksolverpos(kukaLWR);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html">ChainFkSolverVel_recursive</a> fksolvervel(kukaLWR);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <a class="code" href="classKDL_1_1ChainJntToJacSolver.html">ChainJntToJacSolver</a> jacobian_solver(kukaLWR);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="comment">// RNE ID solver for control purposes</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="classKDL_1_1ChainIdSolver__RNE.html">KDL::ChainIdSolver_RNE</a> IdSolver(kukaLWR, linearAcc);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="comment">// Vereshchagin Hybrid Dynamics solver for simulation purposes</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordtype">int</span> numberOfConstraints = 6;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="classKDL_1_1Jacobian.html">Jacobian</a> alpha(numberOfConstraints); <span class="comment">// Constraint Unit forces at the end-effector</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="classKDL_1_1JntArray.html">JntArray</a> beta(numberOfConstraints); <span class="comment">// Acceleration energy at the end-effector</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">KDL::SetToZero</a>(alpha); <span class="comment">// Set to zero to deactivate all constraints</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">KDL::SetToZero</a>(beta); <span class="comment">// Set to zero to deactivate all constraints</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <a class="code" href="classKDL_1_1Twist.html">Twist</a> vereshchagin_root_Acc(-linearAcc, angularAcc); <span class="comment">// Note: Vereshchagin solver takes root acc. with opposite sign comparead to the above FD and RNE solvers</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html">ChainHdSolver_Vereshchagin</a> constraintSolver(kukaLWR, vereshchagin_root_Acc, numberOfConstraints);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160; </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="comment">// External Wrench Estimator</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordtype">double</span> sample_frequency = 1000.0; <span class="comment">// Hz</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordtype">double</span> estimation_gain  = 45.0;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordtype">double</span> filter_constant  = 0.5;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html">ChainExternalWrenchEstimator</a> extwrench_estimator(kukaLWR, linearAcc, sample_frequency, estimation_gain, filter_constant);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="comment">// Prepare test cases</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt;KDL::JntArray&gt;</a> jnt_pos;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector&lt;KDL::Wrench&gt;</a> wrench_reference;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="comment">// Initialize random generator</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/random/random_device.html">std::random_device</a> rd;  <span class="comment">//Will be used to obtain a seed for the random number engine</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/random/mersenne_twister_engine.html">std::mt19937</a> gen(rd()); <span class="comment">//Standard mersenne_twister_engine seeded with rd()</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/random/uniform_real_distribution.html">std::uniform_real_distribution&lt;&gt;</a> dis_force(-15.0, 15.0);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/random/uniform_real_distribution.html">std::uniform_real_distribution&lt;&gt;</a> dis_moment(-0.9, 0.9);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/random/uniform_real_distribution.html">std::uniform_real_distribution&lt;&gt;</a> dis_jnt_vel(-0.5, 0.5);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="comment">// Set first test case</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    q(0) = 1.0;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    q(1) = 0.0;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    q(2) = 0.0;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    q(3) = 4.71;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    q(4) = 0.0;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    q(5) = 1.57;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    q(6) = 5.48;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    jnt_pos.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(q);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    wrench_reference.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(<a class="code" href="classKDL_1_1Wrench.html">Wrench</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(dis_force(gen), dis_force(gen), dis_force(gen)), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0))); <span class="comment">// Ground-truth external wrench acting on the end-effector expressed in local end-effector&#39;s frame</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="comment">// Set second test case</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    q(0) = 2.96;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    q(1) = 1.02;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    q(2) = 6.15;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    q(3) = 1.61;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    q(4) = 0.22;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    q(5) = 0.17;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    q(6) = 0.01;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    jnt_pos.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(q);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    wrench_reference.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(<a class="code" href="classKDL_1_1Wrench.html">Wrench</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(0.0, 0.0, 0.0), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(dis_moment(gen), dis_moment(gen), 0.0))); <span class="comment">// expressed in local end-effector&#39;s frame</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160; </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="comment">// Set third test case</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    q(0) = 1.12;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    q(1) = 0.66;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    q(2) = 6.15;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    q(3) = 4.09;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    q(4) = 1.64;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    q(5) = 0.12;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    q(6) = 0.01;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    jnt_pos.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(q);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    wrench_reference.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(<a class="code" href="classKDL_1_1Wrench.html">Wrench</a>(<a class="code" href="classKDL_1_1Vector.html">Vector</a>(dis_force(gen), dis_force(gen), dis_force(gen)), <a class="code" href="classKDL_1_1Vector.html">Vector</a>(dis_moment(gen), 0.0, dis_moment(gen)))); <span class="comment">// expressed in local end-effector&#39;s frame</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">// ##########################################################################################</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="comment">// Control and simulation</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="comment">// ##########################################################################################</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="comment">// Control gains for a simple PD controller</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordtype">double</span> k_p = 1500.0; <span class="comment">// Proportional</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordtype">double</span> k_d = 300.0; <span class="comment">// Derivative</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="comment">// Time required to complete the task</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordtype">double</span> simulationTime = 0.4; <span class="comment">// in seconds</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordtype">double</span> timeDelta = 1.0 / sample_frequency; <span class="comment">// unit of seconds</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="comment">// Iterate over test cases</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; jnt_pos.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/size.html">size</a>(); i++)</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="comment">// Re-set control and simulation variables</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        q = jnt_pos[i];</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        qd(0) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        qd(1) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        qd(2) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        qd(3) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        qd(4) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        qd(5) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        qd(6) = dis_jnt_vel(gen);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        end_eff_force.setZero();</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        end_eff_pos_error.setZero();</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        end_eff_vel_error.setZero();</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        f_ext_base = f_ext_zero;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">// Initialize the estimator</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#a8926e0a2ce6d5d595aa9cdc5b7160f83">updateInternalDataStructures</a>();</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#adcc483423c33efbebe4d601b0dca4eed">setInitialMomentum</a>(q, qd); <span class="comment">// sets the offset for future estimation (momentum calculation)</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="comment">// Set the desired Cartesian state</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q, end_effector_pose);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        desired_end_eff_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(0) = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(0) + 0.02;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        desired_end_eff_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(1) = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(1) + 0.02;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        desired_end_eff_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(2) = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(2) + 0.02;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        desired_end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(0) = 0.0;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        desired_end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(1) = 0.0;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        desired_end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(2) = 0.0;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">double</span> t = 0.0; t &lt;= simulationTime; t = t + timeDelta)</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            ret = jacobian_solver.<a class="code" href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">JntToJac</a>(q, jacobian_end_eff);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;            {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Jacobian solver ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            ret = fksolverpos.<a class="code" href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">JntToCart</a>(q, end_effector_pose);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;FK pos solver ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            jnt_position_velocity.<a class="code" href="classKDL_1_1JntArrayVel.html#a3d1c16da97a33260f4e6ee867bc357b6">q</a> = q;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            jnt_position_velocity.<a class="code" href="classKDL_1_1JntArrayVel.html#a4cedcb3da3af96a6934fa3cefc5be371">qdot</a> = qd;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            ret = fksolvervel.<a class="code" href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">JntToCart</a>(jnt_position_velocity, end_eff_twist);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;FK vel solver ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            end_eff_pos_error(0) = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(0) - desired_end_eff_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(0);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            end_eff_pos_error(1) = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(1) - desired_end_eff_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(1);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            end_eff_pos_error(2) = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(2) - desired_end_eff_pose.<a class="code" href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">p</a>(2);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            end_eff_vel_error(0) = end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(0) - desired_end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(0);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            end_eff_vel_error(1) = end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(1) - desired_end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(1);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            end_eff_vel_error(2) = end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(2) - desired_end_eff_twist.<a class="code" href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">p</a>.<a class="code" href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">v</a>(2);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            end_eff_force = -end_eff_pos_error * k_p - end_eff_vel_error * k_d;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            <span class="comment">// Compute gravity joint torques (hide external wrench from this dynamics calculation)</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            ret = IdSolver.<a class="code" href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">CartToJnt</a>(q, jnt_array_zero, jnt_array_zero, f_ext_zero, gravity_torque);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL RNE solver ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            <span class="comment">// Compute joint control commands</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            command_torque.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> =  jacobian_end_eff.<a class="code" href="classKDL_1_1Jacobian.html#a73cf18ac91b146f6be631a941d5bee3c">data</a>.transpose() * end_eff_force;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            command_torque.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> += gravity_torque.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <span class="comment">// Start simulating the external force</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">if</span> (t &gt; 0.2) f_ext_base[ns - 1] = end_effector_pose.<a class="code" href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">M</a> * wrench_reference[i];</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="comment">// Compute resultant joint accelerations that simulate robot&#39;s behaviour, given the command torques (add external wrench in this dynamics calculation)</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            ret = constraintSolver.<a class="code" href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">CartToJnt</a>(q, qd, qdd, alpha, beta, f_ext_base, command_torque, constraint_tau);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;KDL Vereshchagin solver ERROR: &quot;</span> &lt;&lt; ret &lt;&lt; <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            <span class="comment">// State integration: integrate from model accelerations to next joint state (positions and velocities)</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            qd.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> = qd.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> + qdd.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> * timeDelta; <span class="comment">// Euler Forward</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            q.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> = q.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> + qd.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> * timeDelta; <span class="comment">// Symplectic Euler</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="comment">// Saturate integrated joint position for full circle crossing</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; nj; j++)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                q(j) = <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/math/fmod.html">std::fmod</a>(q(j), 360 * <a class="code" href="namespaceKDL.html#a13e35fb20991715e2e62f926f50d32ef">deg2rad</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                <span class="keywordflow">if</span> (q(j) &lt; 0.0) q(j) += 360 * <a class="code" href="namespaceKDL.html#a13e35fb20991715e2e62f926f50d32ef">deg2rad</a>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="comment">// Estimate external wrench</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">JntToExtWrench</a>(q, qd, command_torque, f_tool_estimated);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <span class="comment">// Inverse Force Kinematics</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        Eigen::Matrix&lt;double, 6, 1&gt; wrench;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        wrench(0) = f_ext_base[ns - 1](0);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        wrench(1) = f_ext_base[ns - 1](1);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        wrench(2) = f_ext_base[ns - 1](2);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        wrench(3) = f_ext_base[ns - 1](3);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        wrench(4) = f_ext_base[ns - 1](4);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        wrench(5) = f_ext_base[ns - 1](5);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        ext_torque_reference.<a class="code" href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">data</a> = jacobian_end_eff.<a class="code" href="classKDL_1_1Jacobian.html#a73cf18ac91b146f6be631a941d5bee3c">data</a>.transpose() * wrench;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <span class="comment">// Get estimated joint torque </span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        extwrench_estimator.<a class="code" href="classKDL_1_1ChainExternalWrenchEstimator.html#a81d9082e02bc18738527c1872c8c24d4">getEstimatedJntTorque</a>(ext_torque_estimated);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <span class="comment">// ##################################################################################</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="comment">// Final comparison</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <span class="comment">// ##################################################################################</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(f_tool_estimated(0), wrench_reference[i](0), eps_wrench));</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(f_tool_estimated(1), wrench_reference[i](1), eps_wrench));</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(f_tool_estimated(2), wrench_reference[i](2), eps_wrench));</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(f_tool_estimated(3), wrench_reference[i](3), eps_wrench));</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(f_tool_estimated(4), wrench_reference[i](4), eps_wrench));</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(f_tool_estimated(5), wrench_reference[i](5), eps_wrench));</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(0), ext_torque_reference(0), eps_torque));</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(1), ext_torque_reference(1), eps_torque));</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(2), ext_torque_reference(2), eps_torque));</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(3), ext_torque_reference(3), eps_torque));</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(4), ext_torque_reference(4), eps_torque));</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(5), ext_torque_reference(5), eps_torque));</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        CPPUNIT_ASSERT(<a class="code" href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">Equal</a>(ext_torque_estimated(6), ext_torque_reference(6), eps_torque));</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="asolvertest_8hpp_html"><div class="ttname"><a href="solvertest_8hpp.html">solvertest.hpp</a></div></div>
<div class="ttc" id="aresize_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector/resize.html">std::vector::resize</a></div><div class="ttdeci">T resize(T... args)</div></div>
<div class="ttc" id="aclassKDL_1_1ChainExternalWrenchEstimator_html"><div class="ttname"><a href="classKDL_1_1ChainExternalWrenchEstimator.html">KDL::ChainExternalWrenchEstimator</a></div><div class="ttdoc">First-order momentum observer for the estimation of external wrenches applied on the robot's end-effe...</div><div class="ttdef"><b>Definition:</b> <a href="chainexternalwrenchestimator_8hpp_source.html#l00043">chainexternalwrenchestimator.hpp:43</a></div></div>
<div class="ttc" id="aclassKDL_1_1Frame_html_a21cc8438f71b522154d2ef4cd6933d69"><div class="ttname"><a href="classKDL_1_1Frame.html#a21cc8438f71b522154d2ef4cd6933d69">KDL::Frame::Identity</a></div><div class="ttdeci">static Frame Identity()</div><div class="ttdef"><b>Definition:</b> <a href="frames_8inl_source.html#l00700">frames.inl:700</a></div></div>
<div class="ttc" id="aclassKDL_1_1Joint_html_ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f"><div class="ttname"><a href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eac218b252dc3dbaa7468cb23634e2392f">KDL::Joint::RotZ</a></div><div class="ttdeci">@ RotZ</div><div class="ttdef"><b>Definition:</b> <a href="joint_8hpp_source.html#l00047">joint.hpp:47</a></div></div>
<div class="ttc" id="abasic_string_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverVel__recursive_html_adacf6fa9df12ab1876859d3296f22400"><div class="ttname"><a href="classKDL_1_1ChainFkSolverVel__recursive.html#adacf6fa9df12ab1876859d3296f22400">KDL::ChainFkSolverVel_recursive::JntToCart</a></div><div class="ttdeci">virtual int JntToCart(const JntArrayVel &amp;q_in, FrameVel &amp;out, int segmentNr=-1)</div><div class="ttdef"><b>Definition:</b> <a href="chainfksolvervel__recursive_8cpp_source.html#l00037">chainfksolvervel_recursive.cpp:37</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv__nso_html_a24f21a9fef5411449552a63c60e883ae"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#a24f21a9fef5411449552a63c60e883ae">KDL::ChainIkSolverVel_pinv_nso::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv__nso_8cpp_source.html#l00065">chainiksolvervel_pinv_nso.cpp:65</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_a30247d462ff6438cd6fb1d552c9866a0"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#a30247d462ff6438cd6fb1d552c9866a0">KDL::ChainIkSolverVel_wdls::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8cpp_source.html#l00054">chainiksolvervel_wdls.cpp:54</a></div></div>
<div class="ttc" id="aclassKDL_1_1Jacobian_html_a3979dcece692c902643548f8979f6ca2"><div class="ttname"><a href="classKDL_1_1Jacobian.html#a3979dcece692c902643548f8979f6ca2">KDL::Jacobian::setColumn</a></div><div class="ttdeci">void setColumn(unsigned int i, const Twist &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="jacobian_8cpp_source.html#l00148">jacobian.cpp:148</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIdSolver__RNE_html"><div class="ttname"><a href="classKDL_1_1ChainIdSolver__RNE.html">KDL::ChainIdSolver_RNE</a></div><div class="ttdoc">Recursive newton euler inverse dynamics solver.</div><div class="ttdef"><b>Definition:</b> <a href="chainidsolver__recursive__newton__euler_8hpp_source.html#l00040">chainidsolver_recursive_newton_euler.hpp:40</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a98233f094ee5ee25bbcac08c18ef1cf1"><div class="ttname"><a href="classSolverTest.html#a98233f094ee5ee25bbcac08c18ef1cf1">SolverTest::IkSingularValueTest</a></div><div class="ttdeci">void IkSingularValueTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00518">solvertest.cpp:518</a></div></div>
<div class="ttc" id="akinfam__io_8hpp_html"><div class="ttname"><a href="kinfam__io_8hpp.html">kinfam_io.hpp</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArray_html"><div class="ttname"><a href="classKDL_1_1JntArray.html">KDL::JntArray</a></div><div class="ttdef"><b>Definition:</b> <a href="jntarray_8hpp_source.html#l00069">jntarray.hpp:69</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIdSolver__RNE_html_a517c0314490c32848e2b8e29ecac997e"><div class="ttname"><a href="classKDL_1_1ChainIdSolver__RNE.html#a517c0314490c32848e2b8e29ecac997e">KDL::ChainIdSolver_RNE::CartToJnt</a></div><div class="ttdeci">int CartToJnt(const JntArray &amp;q, const JntArray &amp;q_dot, const JntArray &amp;q_dotdot, const Wrenches &amp;f_ext, JntArray &amp;torques)</div><div class="ttdef"><b>Definition:</b> <a href="chainidsolver__recursive__newton__euler_8cpp_source.html#l00044">chainidsolver_recursive_newton_euler.cpp:44</a></div></div>
<div class="ttc" id="aclassKDL_1_1FrameVel_html_a4e063497fd4fb7bdaa79034553939a70"><div class="ttname"><a href="classKDL_1_1FrameVel.html#a4e063497fd4fb7bdaa79034553939a70">KDL::FrameVel::deriv</a></div><div class="ttdeci">Twist deriv() const</div><div class="ttdef"><b>Definition:</b> <a href="framevel_8hpp_source.html#l00234">framevel.hpp:234</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a2e61d86d485d9e976dfd28f6a82513f2"><div class="ttname"><a href="classSolverTest.html#a2e61d86d485d9e976dfd28f6a82513f2">SolverTest::FkPosAndJacLocal</a></div><div class="ttdeci">void FkPosAndJacLocal(Chain &amp;chain, ChainFkSolverPos &amp;fksolverpos, ChainJntToJacSolver &amp;jacsolver)</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00700">solvertest.cpp:700</a></div></div>
<div class="ttc" id="aclassKDL_1_1Joint_html_ad05f78142c8b73c3977f038a7a2c544ea82ced6110c39092f0073540c041275e2"><div class="ttname"><a href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea82ced6110c39092f0073540c041275e2">KDL::Joint::RotY</a></div><div class="ttdeci">@ RotY</div><div class="ttdef"><b>Definition:</b> <a href="joint_8hpp_source.html#l00047">joint.hpp:47</a></div></div>
<div class="ttc" id="aframevel__io_8hpp_html"><div class="ttname"><a href="framevel__io_8hpp.html">framevel_io.hpp</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a325511c7797b0af74251a1e6ab7b4280"><div class="ttname"><a href="classSolverTest.html#a325511c7797b0af74251a1e6ab7b4280">SolverTest::FkPosAndIkPosTest</a></div><div class="ttdeci">void FkPosAndIkPosTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00467">solvertest.cpp:467</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainDynParam_html_a6c8dcaf5fd22bf4da412894633c69ad5"><div class="ttname"><a href="classKDL_1_1ChainDynParam.html#a6c8dcaf5fd22bf4da412894633c69ad5">KDL::ChainDynParam::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chaindynparam_8cpp_source.html#l00046">chaindynparam.cpp:46</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a6a24b518ad5ace0f37fe35cc4a515e9a"><div class="ttname"><a href="classSolverTest.html#a6a24b518ad5ace0f37fe35cc4a515e9a">SolverTest::VereshchaginTest</a></div><div class="ttdeci">void VereshchaginTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00818">solvertest.cpp:818</a></div></div>
<div class="ttc" id="aclassKDL_1_1Vector_html_aac50a5f60447f9cb7b4a510c4695ab89"><div class="ttname"><a href="classKDL_1_1Vector.html#aac50a5f60447f9cb7b4a510c4695ab89">KDL::Vector::Zero</a></div><div class="ttdeci">static Vector Zero()</div><div class="ttdef"><b>Definition:</b> <a href="frames_8inl_source.html#l00138">frames.inl:138</a></div></div>
<div class="ttc" id="avector_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector</a></div></div>
<div class="ttc" id="asize_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector/size.html">std::vector::size</a></div><div class="ttdeci">T size(T... args)</div></div>
<div class="ttc" id="anamespaceKDL_html_a910caae27c05e168ff9e13c1e1646319"><div class="ttname"><a href="namespaceKDL.html#a910caae27c05e168ff9e13c1e1646319">KDL::random</a></div><div class="ttdeci">IMETHOD void random(doubleVel &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="framevel_8hpp_source.html#l00065">framevel.hpp:65</a></div></div>
<div class="ttc" id="anamespaceKDL_html_aa6caeaeca2777225cf1f09355e286d27"><div class="ttname"><a href="namespaceKDL.html#aa6caeaeca2777225cf1f09355e286d27">KDL::sqrt</a></div><div class="ttdeci">INLINE Rall1d&lt; T, V, S &gt; sqrt(const Rall1d&lt; T, V, S &gt; &amp;arg)</div><div class="ttdef"><b>Definition:</b> <a href="rall1d_8h_source.html#l00391">rall1d.h:391</a></div></div>
<div class="ttc" id="aclassKDL_1_1Frame_html_abc00c3817f7baa985b67077479617866"><div class="ttname"><a href="classKDL_1_1Frame.html#abc00c3817f7baa985b67077479617866">KDL::Frame::p</a></div><div class="ttdeci">Vector p</div><div class="ttdoc">origine of the Frame</div><div class="ttdef"><b>Definition:</b> <a href="frames_8hpp_source.html#l00574">frames.hpp:574</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_a3076f9888b9e3905abbadf37cfa0e692"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#a3076f9888b9e3905abbadf37cfa0e692">KDL::ChainIkSolverVel_wdls::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_in, const Twist &amp;v_in, JntArray &amp;qdot_out)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8cpp_source.html#l00116">chainiksolvervel_wdls.cpp:116</a></div></div>
<div class="ttc" id="aframes__io_8hpp_html"><div class="ttname"><a href="frames__io_8hpp.html">frames_io.hpp</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArray_html_a4ea82246fd0aa8badff28deb24c2e629"><div class="ttname"><a href="classKDL_1_1JntArray.html#a4ea82246fd0aa8badff28deb24c2e629">KDL::JntArray::resize</a></div><div class="ttdeci">void resize(unsigned int newSize)</div><div class="ttdef"><b>Definition:</b> <a href="jntarray_8cpp_source.html#l00053">jntarray.cpp:53</a></div></div>
<div class="ttc" id="aclassSolverTest_html_ae52f78369c8324e99f6bb66440c39064"><div class="ttname"><a href="classSolverTest.html#ae52f78369c8324e99f6bb66440c39064">SolverTest::FdSolverConsistencyTest</a></div><div class="ttdeci">void FdSolverConsistencyTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01305">solvertest.cpp:1305</a></div></div>
<div class="ttc" id="arandom_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/header/random.html">random</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverVel_html"><div class="ttname"><a href="classKDL_1_1ChainFkSolverVel.html">KDL::ChainFkSolverVel</a></div><div class="ttdoc">This abstract class encapsulates a solver for the forward velocity kinematics for a KDL::Chain.</div><div class="ttdef"><b>Definition:</b> <a href="chainfksolver_8hpp_source.html#l00074">chainfksolver.hpp:74</a></div></div>
<div class="ttc" id="aclassKDL_1_1SolverI_html_a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c"><div class="ttname"><a href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a1803914d79d602cbc5ffced121c5278c">KDL::SolverI::E_NOT_UP_TO_DATE</a></div><div class="ttdeci">@ E_NOT_UP_TO_DATE</div><div class="ttdoc">Chain size changed.</div><div class="ttdef"><b>Definition:</b> <a href="solveri_8hpp_source.html#l00097">solveri.hpp:97</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__NR__JL_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__NR__JL.html">KDL::ChainIkSolverPos_NR_JL</a></div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__nr__jl_8hpp_source.html#l00040">chainiksolverpos_nr_jl.hpp:40</a></div></div>
<div class="ttc" id="autility_8h_html"><div class="ttname"><a href="utility_8h.html">utility.h</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverPos_html"><div class="ttname"><a href="classKDL_1_1ChainFkSolverPos.html">KDL::ChainFkSolverPos</a></div><div class="ttdoc">This abstract class encapsulates a solver for the forward position kinematics for a KDL::Chain.</div><div class="ttdef"><b>Definition:</b> <a href="chainfksolver_8hpp_source.html#l00041">chainfksolver.hpp:41</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv__givens_html_a3d19e3f2e36a0e82c44d139f1056065b"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a3d19e3f2e36a0e82c44d139f1056065b">KDL::ChainIkSolverVel_pinv_givens::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_in, const Twist &amp;v_in, JntArray &amp;qdot_out)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv__givens_8cpp_source.html#l00070">chainiksolvervel_pinv_givens.cpp:70</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos_html_a4781229863bfda0a6ebb6e6768fa2033"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos.html#a4781229863bfda0a6ebb6e6768fa2033">KDL::ChainIkSolverPos::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_init, const Frame &amp;p_in, JntArray &amp;q_out)=0</div></div>
<div class="ttc" id="aclassKDL_1_1RigidBodyInertia_html"><div class="ttname"><a href="classKDL_1_1RigidBodyInertia.html">KDL::RigidBodyInertia</a></div><div class="ttdoc">6D Inertia of a rigid body</div><div class="ttdef"><b>Definition:</b> <a href="rigidbodyinertia_8hpp_source.html#l00037">rigidbodyinertia.hpp:37</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArrayVel_html_a8a10270f9a701b50cc8dcaa61fc9f538"><div class="ttname"><a href="classKDL_1_1JntArrayVel.html#a8a10270f9a701b50cc8dcaa61fc9f538">KDL::JntArrayVel::resize</a></div><div class="ttdeci">void resize(unsigned int newSize)</div><div class="ttdef"><b>Definition:</b> <a href="jntarrayvel_8cpp_source.html#l00041">jntarrayvel.cpp:41</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a371fe0dc207c959612fb8eae8deb2b0a"><div class="ttname"><a href="classSolverTest.html#a371fe0dc207c959612fb8eae8deb2b0a">SolverTest::FdSolverDevelopmentTest</a></div><div class="ttdeci">void FdSolverDevelopmentTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01137">solvertest.cpp:1137</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainHdSolver__Vereshchagin_html_a1ce68d9c9974648498a7e28ab8cebb48"><div class="ttname"><a href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a1ce68d9c9974648498a7e28ab8cebb48">KDL::ChainHdSolver_Vereshchagin::getTotalTorque</a></div><div class="ttdeci">void getTotalTorque(JntArray &amp;total_tau)</div><div class="ttdef"><b>Definition:</b> <a href="chainhdsolver__vereshchagin_8cpp_source.html#l00361">chainhdsolver_vereshchagin.cpp:361</a></div></div>
<div class="ttc" id="aclassSolverTest_html_af74397c8637f579fc80099d4ea763829"><div class="ttname"><a href="classSolverTest.html#af74397c8637f579fc80099d4ea763829">SolverTest::FkVelAndIkVelLocal</a></div><div class="ttdeci">void FkVelAndIkVelLocal(Chain &amp;chain, ChainFkSolverVel &amp;fksolvervel, ChainIkSolverVel &amp;iksolvervel)</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00757">solvertest.cpp:757</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainDynParam_html"><div class="ttname"><a href="classKDL_1_1ChainDynParam.html">KDL::ChainDynParam</a></div><div class="ttdef"><b>Definition:</b> <a href="chaindynparam_8hpp_source.html#l00047">chaindynparam.hpp:47</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverPos_html_aee36d4b6ef10c9776e6cd0c2a105606e"><div class="ttname"><a href="classKDL_1_1ChainFkSolverPos.html#aee36d4b6ef10c9776e6cd0c2a105606e">KDL::ChainFkSolverPos::JntToCart</a></div><div class="ttdeci">virtual int JntToCart(const JntArray &amp;q_in, Frame &amp;p_out, int segmentNr=-1)=0</div></div>
<div class="ttc" id="aclassKDL_1_1VectorVel_html_a3c4ed9d12d84f39153b5be985436214e"><div class="ttname"><a href="classKDL_1_1VectorVel.html#a3c4ed9d12d84f39153b5be985436214e">KDL::VectorVel::v</a></div><div class="ttdeci">Vector v</div><div class="ttdef"><b>Definition:</b> <a href="framevel_8hpp_source.html#l00092">framevel.hpp:92</a></div></div>
<div class="ttc" id="aclassSolverTest_html_ad9691ea38f4464eeb532aaa1ce168421"><div class="ttname"><a href="classSolverTest.html#ad9691ea38f4464eeb532aaa1ce168421">SolverTest::FkPosAndJacTest</a></div><div class="ttdeci">void FkPosAndJacTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00392">solvertest.cpp:392</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a13e35fb20991715e2e62f926f50d32ef"><div class="ttname"><a href="namespaceKDL.html#a13e35fb20991715e2e62f926f50d32ef">KDL::deg2rad</a></div><div class="ttdeci">const double deg2rad</div><div class="ttdoc">the value pi/180</div><div class="ttdef"><b>Definition:</b> <a href="utility_8cxx_source.html#l00019">utility.cxx:19</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainExternalWrenchEstimator_html_ab8782e7fbd2048a7134b0540868b68ca"><div class="ttname"><a href="classKDL_1_1ChainExternalWrenchEstimator.html#ab8782e7fbd2048a7134b0540868b68ca">KDL::ChainExternalWrenchEstimator::JntToExtWrench</a></div><div class="ttdeci">int JntToExtWrench(const JntArray &amp;joint_position, const JntArray &amp;joint_velocity, const JntArray &amp;joint_torque, Wrench &amp;external_wrench)</div><div class="ttdef"><b>Definition:</b> <a href="chainexternalwrenchestimator_8cpp_source.html#l00106">chainexternalwrenchestimator.cpp:106</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainJntToJacSolver_html_a1e714cdb2b915a9774fe7e0eafd4b8f9"><div class="ttname"><a href="classKDL_1_1ChainJntToJacSolver.html#a1e714cdb2b915a9774fe7e0eafd4b8f9">KDL::ChainJntToJacSolver::JntToJac</a></div><div class="ttdeci">virtual int JntToJac(const JntArray &amp;q_in, Jacobian &amp;jac, int seg_nr=-1)</div><div class="ttdef"><b>Definition:</b> <a href="chainjnttojacsolver_8cpp_source.html#l00048">chainjnttojacsolver.cpp:48</a></div></div>
<div class="ttc" id="anamespaceKDL_html"><div class="ttname"><a href="namespaceKDL.html">KDL</a></div><div class="ttdef"><b>Definition:</b> <a href="kukaLWR__DHnew_8cpp_source.html#l00025">kukaLWR_DHnew.cpp:25</a></div></div>
<div class="ttc" id="auniform_real_distribution_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/numeric/random/uniform_real_distribution.html">std::uniform_real_distribution</a></div></div>
<div class="ttc" id="amersenne_twister_engine_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/numeric/random/mersenne_twister_engine.html">std::mt19937</a></div></div>
<div class="ttc" id="apush_back_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">std::vector::push_back</a></div><div class="ttdeci">T push_back(T... args)</div></div>
<div class="ttc" id="aclassKDL_1_1Vector_html"><div class="ttname"><a href="classKDL_1_1Vector.html">KDL::Vector</a></div><div class="ttdoc">A concrete implementation of a 3 dimensional vector class.</div><div class="ttdef"><b>Definition:</b> <a href="frames_8hpp_source.html#l00162">frames.hpp:162</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a5312251bc318438ee6765132c41e6f15"><div class="ttname"><a href="classSolverTest.html#a5312251bc318438ee6765132c41e6f15">SolverTest::FkPosAndIkPosLocal</a></div><div class="ttdeci">void FkPosAndIkPosLocal(Chain &amp;chain, ChainFkSolverPos &amp;fksolverpos, ChainIkSolverPos &amp;iksolverpos)</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00790">solvertest.cpp:790</a></div></div>
<div class="ttc" id="acout_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/io/cout.html">std::cout</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv__givens_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv__givens.html">KDL::ChainIkSolverVel_pinv_givens</a></div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv__givens_8hpp_source.html#l00022">chainiksolvervel_pinv_givens.hpp:22</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainHdSolver__Vereshchagin_html_ac7c90c38d928d5bb337a0098ed7bd743"><div class="ttname"><a href="classKDL_1_1ChainHdSolver__Vereshchagin.html#ac7c90c38d928d5bb337a0098ed7bd743">KDL::ChainHdSolver_Vereshchagin::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainhdsolver__vereshchagin_8cpp_source.html#l00049">chainhdsolver_vereshchagin.cpp:49</a></div></div>
<div class="ttc" id="aclassSolverTest_html_aeea632a622bbb37848cfc77ba6131f03"><div class="ttname"><a href="classSolverTest.html#aeea632a622bbb37848cfc77ba6131f03">SolverTest::FkPosVectTest</a></div><div class="ttdeci">void FkPosVectTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01096">solvertest.cpp:1096</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv_html_adfbf3b47f5f4aaf94df885adac06cad1"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv.html#adfbf3b47f5f4aaf94df885adac06cad1">KDL::ChainIkSolverVel_pinv::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv_8cpp_source.html#l00043">chainiksolvervel_pinv.cpp:43</a></div></div>
<div class="ttc" id="aclassKDL_1_1SolverI_html_a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50"><div class="ttname"><a href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a17178be368599dd456b54c2d37c4fb50">KDL::SolverI::E_MAX_ITERATIONS_EXCEEDED</a></div><div class="ttdeci">@ E_MAX_ITERATIONS_EXCEEDED</div><div class="ttdoc">Maximum number of iterations exceeded.</div><div class="ttdef"><b>Definition:</b> <a href="solveri_8hpp_source.html#l00101">solveri.hpp:101</a></div></div>
<div class="ttc" id="aclassKDL_1_1Jacobian_html_a296c2e29811beb1769221f26d3e6556b"><div class="ttname"><a href="classKDL_1_1Jacobian.html#a296c2e29811beb1769221f26d3e6556b">KDL::Jacobian::resize</a></div><div class="ttdeci">void resize(unsigned int newNrOfColumns)</div><div class="ttdoc">Allocates memory for new size (can break realtime behavior)</div><div class="ttdef"><b>Definition:</b> <a href="jacobian_8cpp_source.html#l00054">jacobian.cpp:54</a></div></div>
<div class="ttc" id="aclassSolverTest_html_af674fa44deef2a983996a1c1414a426b"><div class="ttname"><a href="classSolverTest.html#af674fa44deef2a983996a1c1414a426b">SolverTest::UpdateChainTest</a></div><div class="ttdeci">void UpdateChainTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00234">solvertest.cpp:234</a></div></div>
<div class="ttc" id="aclassKDL_1_1Twist_html"><div class="ttname"><a href="classKDL_1_1Twist.html">KDL::Twist</a></div><div class="ttdoc">represents both translational and rotational velocities.</div><div class="ttdef"><b>Definition:</b> <a href="frames_8hpp_source.html#l00723">frames.hpp:723</a></div></div>
<div class="ttc" id="aclassSolverTest_html_af49a0afac01178369a27888a304419de"><div class="ttname"><a href="classSolverTest.html#af49a0afac01178369a27888a304419de">SolverTest::LDLdecompTest</a></div><div class="ttdeci">void LDLdecompTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01386">solvertest.cpp:1386</a></div></div>
<div class="ttc" id="aclassKDL_1_1SolverI_html_a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583"><div class="ttname"><a href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148af7440fec45c6d1657a89d344ff5b6583">KDL::SolverI::E_OUT_OF_RANGE</a></div><div class="ttdeci">@ E_OUT_OF_RANGE</div><div class="ttdoc">Requested index out of range.</div><div class="ttdef"><b>Definition:</b> <a href="solveri_8hpp_source.html#l00103">solveri.hpp:103</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel_html_a761853db487c901485737c6334953cbe"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel.html#a761853db487c901485737c6334953cbe">KDL::ChainIkSolverVel::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_in, const Twist &amp;v_in, JntArray &amp;qdot_out)=0</div></div>
<div class="ttc" id="aclassKDL_1_1ChainFdSolver__RNE_html"><div class="ttname"><a href="classKDL_1_1ChainFdSolver__RNE.html">KDL::ChainFdSolver_RNE</a></div><div class="ttdoc">Recursive newton euler forward dynamics solver.</div><div class="ttdef"><b>Definition:</b> <a href="chainfdsolver__recursive__newton__euler_8hpp_source.html#l00042">chainfdsolver_recursive_newton_euler.hpp:42</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFdSolver__RNE_html_a19016902a70478a43a5e9baf3fbdfc98"><div class="ttname"><a href="classKDL_1_1ChainFdSolver__RNE.html#a19016902a70478a43a5e9baf3fbdfc98">KDL::ChainFdSolver_RNE::CartToJnt</a></div><div class="ttdeci">int CartToJnt(const JntArray &amp;q, const JntArray &amp;q_dot, const JntArray &amp;torques, const Wrenches &amp;f_ext, JntArray &amp;q_dotdot)</div><div class="ttdef"><b>Definition:</b> <a href="chainfdsolver__recursive__newton__euler_8cpp_source.html#l00051">chainfdsolver_recursive_newton_euler.cpp:51</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArray_html_a3176b3c2ebbeeca6e45a3e8d4d692e5b"><div class="ttname"><a href="classKDL_1_1JntArray.html#a3176b3c2ebbeeca6e45a3e8d4d692e5b">KDL::JntArray::rows</a></div><div class="ttdeci">unsigned int rows() const</div><div class="ttdef"><b>Definition:</b> <a href="jntarray_8cpp_source.html#l00070">jntarray.cpp:70</a></div></div>
<div class="ttc" id="aclassSolverTest_html_ac32e72d32c444f27834193bf263996aa"><div class="ttname"><a href="classSolverTest.html#ac32e72d32c444f27834193bf263996aa">SolverTest::FkVelAndIkVelTest</a></div><div class="ttdeci">void FkVelAndIkVelTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00424">solvertest.cpp:424</a></div></div>
<div class="ttc" id="arandom_device_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/numeric/random/random_device.html">std::random_device</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__NR_html_a3058bdb9e57a4b9e20672ac30fdfb010"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__NR.html#a3058bdb9e57a4b9e20672ac30fdfb010">KDL::ChainIkSolverPos_NR::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_init, const Frame &amp;p_in, JntArray &amp;q_out)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__nr_8cpp_source.html#l00042">chainiksolverpos_nr.cpp:42</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainHdSolver__Vereshchagin_html"><div class="ttname"><a href="classKDL_1_1ChainHdSolver__Vereshchagin.html">KDL::ChainHdSolver_Vereshchagin</a></div><div class="ttdoc">Abstract: Acceleration constrained hybrid dynamics calculations for a chain, based on Vereshchagin 19...</div><div class="ttdef"><b>Definition:</b> <a href="chainhdsolver__vereshchagin_8hpp_source.html#l00366">chainhdsolver_vereshchagin.hpp:366</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainJntToJacDotSolver_html"><div class="ttname"><a href="classKDL_1_1ChainJntToJacDotSolver.html">KDL::ChainJntToJacDotSolver</a></div><div class="ttdoc">Computes the Jacobian time derivative (Jdot) by calculating the partial derivatives regarding to a jo...</div><div class="ttdef"><b>Definition:</b> <a href="chainjnttojacdotsolver_8hpp_source.html#l00048">chainjnttojacdotsolver.hpp:48</a></div></div>
<div class="ttc" id="anamespaceKDL_html_ade3c77f3bc3e28d8cb67aa59162599cf"><div class="ttname"><a href="namespaceKDL.html#ade3c77f3bc3e28d8cb67aa59162599cf">KDL::PI_2</a></div><div class="ttdeci">const double PI_2</div><div class="ttdoc">the value of pi/2</div><div class="ttdef"><b>Definition:</b> <a href="utility_8cxx_source.html#l00017">utility.cxx:17</a></div></div>
<div class="ttc" id="aclassKDL_1_1SolverI_html_a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a"><div class="ttname"><a href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a713b62c139a0caee351f94aa7598e56a">KDL::SolverI::E_SIZE_MISMATCH</a></div><div class="ttdeci">@ E_SIZE_MISMATCH</div><div class="ttdoc">Input size does not match internal state.</div><div class="ttdef"><b>Definition:</b> <a href="solveri_8hpp_source.html#l00099">solveri.hpp:99</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainHdSolver__Vereshchagin_html_a99676a8e2f3690041e5e609d6808b50e"><div class="ttname"><a href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a99676a8e2f3690041e5e609d6808b50e">KDL::ChainHdSolver_Vereshchagin::getContraintForceMagnitude</a></div><div class="ttdeci">void getContraintForceMagnitude(Eigen::VectorXd &amp;nu_)</div><div class="ttdef"><b>Definition:</b> <a href="chainhdsolver__vereshchagin_8cpp_source.html#l00368">chainhdsolver_vereshchagin.cpp:368</a></div></div>
<div class="ttc" id="aclassKDL_1_1Rotation_html_a5a5d40d8e6cf179cac35bc378c83017c"><div class="ttname"><a href="classKDL_1_1Rotation.html#a5a5d40d8e6cf179cac35bc378c83017c">KDL::Rotation::Identity</a></div><div class="ttdeci">static Rotation Identity()</div><div class="ttdoc">Gives back an identity rotaton matrix.</div><div class="ttdef"><b>Definition:</b> <a href="frames_8inl_source.html#l00552">frames.inl:552</a></div></div>
<div class="ttc" id="aclassKDL_1_1Joint_html_ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75"><div class="ttname"><a href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea87b4021f0c0b1d9e8e21c7eb222a9f75">KDL::Joint::RotX</a></div><div class="ttdeci">@ RotX</div><div class="ttdef"><b>Definition:</b> <a href="joint_8hpp_source.html#l00047">joint.hpp:47</a></div></div>
<div class="ttc" id="aclassKDL_1_1Wrench_html"><div class="ttname"><a href="classKDL_1_1Wrench.html">KDL::Wrench</a></div><div class="ttdoc">represents both translational and rotational acceleration.</div><div class="ttdef"><b>Definition:</b> <a href="frames_8hpp_source.html#l00881">frames.hpp:881</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_aae31a982ea6a043a37592329cc51fab4"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#aae31a982ea6a043a37592329cc51fab4">KDL::ChainIkSolverVel_wdls::setLambda</a></div><div class="ttdeci">void setLambda(const double lambda)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8cpp_source.html#l00093">chainiksolvervel_wdls.cpp:93</a></div></div>
<div class="ttc" id="aclassKDL_1_1Frame_html"><div class="ttname"><a href="classKDL_1_1Frame.html">KDL::Frame</a></div><div class="ttdoc">represents a frame transformation in 3D space (rotation + translation)</div><div class="ttdef"><b>Definition:</b> <a href="frames_8hpp_source.html#l00572">frames.hpp:572</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_ab27c3a6690943b78673b386884794a65"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#ab27c3a6690943b78673b386884794a65">KDL::ChainIkSolverVel_wdls::getNrZeroSigmas</a></div><div class="ttdeci">unsigned int getNrZeroSigmas() const</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8hpp_source.html#l00178">chainiksolvervel_wdls.hpp:178</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainDynParam_html_a452ff0523f877bdd62715380553cf106"><div class="ttname"><a href="classKDL_1_1ChainDynParam.html#a452ff0523f877bdd62715380553cf106">KDL::ChainDynParam::JntToMass</a></div><div class="ttdeci">virtual int JntToMass(const JntArray &amp;q, JntSpaceInertiaMatrix &amp;H)</div><div class="ttdef"><b>Definition:</b> <a href="chaindynparam_8cpp_source.html#l00060">chaindynparam.cpp:60</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a8deb2bd8c8926513a18283b4af0de0fd"><div class="ttname"><a href="namespaceKDL.html#a8deb2bd8c8926513a18283b4af0de0fd">KDL::PI</a></div><div class="ttdeci">const double PI</div><div class="ttdoc">the value of pi</div><div class="ttdef"><b>Definition:</b> <a href="utility_8cxx_source.html#l00016">utility.cxx:16</a></div></div>
<div class="ttc" id="aclassKDL_1_1RotationalInertia_html"><div class="ttname"><a href="classKDL_1_1RotationalInertia.html">KDL::RotationalInertia</a></div><div class="ttdef"><b>Definition:</b> <a href="rotationalinertia_8hpp_source.html#l00034">rotationalinertia.hpp:34</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverVel__recursive_html"><div class="ttname"><a href="classKDL_1_1ChainFkSolverVel__recursive.html">KDL::ChainFkSolverVel_recursive</a></div><div class="ttdef"><b>Definition:</b> <a href="chainfksolvervel__recursive_8hpp_source.html#l00037">chainfksolvervel_recursive.hpp:37</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverPos__recursive_html_a2b34c9fae293b9866ede9df203ec1fc8"><div class="ttname"><a href="classKDL_1_1ChainFkSolverPos__recursive.html#a2b34c9fae293b9866ede9df203ec1fc8">KDL::ChainFkSolverPos_recursive::JntToCart</a></div><div class="ttdeci">virtual int JntToCart(const JntArray &amp;q_in, Frame &amp;p_out, int segmentNr=-1)</div><div class="ttdef"><b>Definition:</b> <a href="chainfksolverpos__recursive_8cpp_source.html#l00034">chainfksolverpos_recursive.cpp:34</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainExternalWrenchEstimator_html_a8926e0a2ce6d5d595aa9cdc5b7160f83"><div class="ttname"><a href="classKDL_1_1ChainExternalWrenchEstimator.html#a8926e0a2ce6d5d595aa9cdc5b7160f83">KDL::ChainExternalWrenchEstimator::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainexternalwrenchestimator_8cpp_source.html#l00045">chainexternalwrenchestimator.cpp:45</a></div></div>
<div class="ttc" id="aclassSolverTest_html"><div class="ttname"><a href="classSolverTest.html">SolverTest</a></div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8hpp_source.html#l00029">solvertest.hpp:29</a></div></div>
<div class="ttc" id="aclassKDL_1_1SolverI_html_a0473a25058060878b90ace7324ae1d47"><div class="ttname"><a href="classKDL_1_1SolverI.html#a0473a25058060878b90ace7324ae1d47">KDL::SolverI::getError</a></div><div class="ttdeci">virtual int getError() const</div><div class="ttdoc">Return the latest error.</div><div class="ttdef"><b>Definition:</b> <a href="solveri_8hpp_source.html#l00119">solveri.hpp:119</a></div></div>
<div class="ttc" id="aclassKDL_1_1Segment_html_ac376a3d7eb6af5fc3c6dc885b6aa2e75"><div class="ttname"><a href="classKDL_1_1Segment.html#ac376a3d7eb6af5fc3c6dc885b6aa2e75">KDL::Segment::setInertia</a></div><div class="ttdeci">void setInertia(const RigidBodyInertia &amp;Iin)</div><div class="ttdef"><b>Definition:</b> <a href="segment_8hpp_source.html#l00138">segment.hpp:138</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__NR_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__NR.html">KDL::ChainIkSolverPos_NR</a></div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__nr_8hpp_source.html#l00038">chainiksolverpos_nr.hpp:38</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html">KDL::ChainIkSolverVel_wdls</a></div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8hpp_source.html#l00063">chainiksolvervel_wdls.hpp:63</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainJntToJacDotSolver_html_ad284ffc96433e7b7bed652a5c564f8ea"><div class="ttname"><a href="classKDL_1_1ChainJntToJacDotSolver.html#ad284ffc96433e7b7bed652a5c564f8ea">KDL::ChainJntToJacDotSolver::JntToJacDot</a></div><div class="ttdeci">virtual int JntToJacDot(const KDL::JntArrayVel &amp;q_in, KDL::Twist &amp;jac_dot_q_dot, int seg_nr=-1)</div><div class="ttdoc">Computes .</div><div class="ttdef"><b>Definition:</b> <a href="chainjnttojacdotsolver_8cpp_source.html#l00055">chainjnttojacdotsolver.cpp:55</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv_html_a5c3646dc5104390e7d6a92490b2785e6"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv.html#a5c3646dc5104390e7d6a92490b2785e6">KDL::ChainIkSolverVel_pinv::E_CONVERGE_PINV_SINGULAR</a></div><div class="ttdeci">static const int E_CONVERGE_PINV_SINGULAR</div><div class="ttdoc">solution converged but (pseudo)inverse is singular</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv_8hpp_source.html#l00044">chainiksolvervel_pinv.hpp:44</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainJntToJacDotSolver_html_abf33f1cf45e7c3f97bb12f7f2a370c4a"><div class="ttname"><a href="classKDL_1_1ChainJntToJacDotSolver.html#abf33f1cf45e7c3f97bb12f7f2a370c4a">KDL::ChainJntToJacDotSolver::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainjnttojacdotsolver_8cpp_source.html#l00046">chainjnttojacdotsolver.cpp:46</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a7e294164472d1837452f4a417b2e141e"><div class="ttname"><a href="classSolverTest.html#a7e294164472d1837452f4a417b2e141e">SolverTest::IkVelSolverWDLSTest</a></div><div class="ttdeci">void IkVelSolverWDLSTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00639">solvertest.cpp:639</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArray_html_a59dff4a2f3fa4adedb55c3384238dc74"><div class="ttname"><a href="classKDL_1_1JntArray.html#a59dff4a2f3fa4adedb55c3384238dc74">KDL::JntArray::data</a></div><div class="ttdeci">Eigen::VectorXd data</div><div class="ttdef"><b>Definition:</b> <a href="jntarray_8hpp_source.html#l00072">jntarray.hpp:72</a></div></div>
<div class="ttc" id="aclassKDL_1_1Joint_html_ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84"><div class="ttname"><a href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544ea4c8d7947a02e72496641ea3bac5c7b84">KDL::Joint::None</a></div><div class="ttdeci">@ None</div><div class="ttdef"><b>Definition:</b> <a href="joint_8hpp_source.html#l00047">joint.hpp:47</a></div></div>
<div class="ttc" id="aclassKDL_1_1Frame_html_a80ee82a53ab3ceb0aa79b7b5892a14eb"><div class="ttname"><a href="classKDL_1_1Frame.html#a80ee82a53ab3ceb0aa79b7b5892a14eb">KDL::Frame::DH</a></div><div class="ttdeci">static Frame DH(double a, double alpha, double d, double theta)</div><div class="ttdef"><b>Definition:</b> <a href="frames_8cpp_source.html#l00095">frames.cpp:95</a></div></div>
<div class="ttc" id="aclassKDL_1_1Frame_html_a0185c3081fd5459ae0a6081bf6fd5474"><div class="ttname"><a href="classKDL_1_1Frame.html#a0185c3081fd5459ae0a6081bf6fd5474">KDL::Frame::DH_Craig1989</a></div><div class="ttdeci">static Frame DH_Craig1989(double a, double alpha, double d, double theta)</div><div class="ttdef"><b>Definition:</b> <a href="frames_8cpp_source.html#l00078">frames.cpp:78</a></div></div>
<div class="ttc" id="anamespaceKDL_html_acba9b399cc104f4be96ee84cadf99b07"><div class="ttname"><a href="namespaceKDL.html#acba9b399cc104f4be96ee84cadf99b07">KDL::ldl_solver_eigen</a></div><div class="ttdeci">int ldl_solver_eigen(const Eigen::MatrixXd &amp;A, const Eigen::VectorXd &amp;v, Eigen::MatrixXd &amp;L, Eigen::VectorXd &amp;D, Eigen::VectorXd &amp;vtmp, Eigen::VectorXd &amp;q)</div><div class="ttdoc">Solves the system of equations Aq = v for q via LDL decomposition, where A is a square positive defin...</div><div class="ttdef"><b>Definition:</b> <a href="ldl__solver__eigen_8cpp_source.html#l00026">ldl_solver_eigen.cpp:26</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__NR__JL_html_a9f1d384cbdbc99735678726213249147"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a9f1d384cbdbc99735678726213249147">KDL::ChainIkSolverPos_NR_JL::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__nr__jl_8cpp_source.html#l00053">chainiksolverpos_nr_jl.cpp:53</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_a44685c39e2cc8e65c3565fdaadb96a75"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#a44685c39e2cc8e65c3565fdaadb96a75">KDL::ChainIkSolverVel_wdls::getSigmaMin</a></div><div class="ttdeci">double getSigmaMin() const</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8hpp_source.html#l00183">chainiksolvervel_wdls.hpp:183</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainJntToJacSolver_html_a8c6fe8ec5cd73c65699143e4a5df9bef"><div class="ttname"><a href="classKDL_1_1ChainJntToJacSolver.html#a8c6fe8ec5cd73c65699143e4a5df9bef">KDL::ChainJntToJacSolver::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainjnttojacsolver_8cpp_source.html#l00031">chainjnttojacsolver.cpp:31</a></div></div>
<div class="ttc" id="aclassKDL_1_1Segment_html"><div class="ttname"><a href="classKDL_1_1Segment.html">KDL::Segment</a></div><div class="ttdoc">This class encapsulates a simple segment, that is a &quot;rigid  body&quot; (i.e., a frame and a rigid body ine...</div><div class="ttdef"><b>Definition:</b> <a href="segment_8hpp_source.html#l00046">segment.hpp:46</a></div></div>
<div class="ttc" id="aclassKDL_1_1FrameVel_html_a6f35dccc9d7716199e75c9cef0125af2"><div class="ttname"><a href="classKDL_1_1FrameVel.html#a6f35dccc9d7716199e75c9cef0125af2">KDL::FrameVel::p</a></div><div class="ttdeci">VectorVel p</div><div class="ttdef"><b>Definition:</b> <a href="framevel_8hpp_source.html#l00219">framevel.hpp:219</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a635a86d1c47eada485937d831736d950"><div class="ttname"><a href="classSolverTest.html#a635a86d1c47eada485937d831736d950">SolverTest::tearDown</a></div><div class="ttdeci">void tearDown()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00225">solvertest.cpp:225</a></div></div>
<div class="ttc" id="aclassKDL_1_1Joint_html_ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242"><div class="ttname"><a href="classKDL_1_1Joint.html#ad05f78142c8b73c3977f038a7a2c544eaad375ba3ac2b5a6864dbb7e246f3b242">KDL::Joint::RotAxis</a></div><div class="ttdeci">@ RotAxis</div><div class="ttdef"><b>Definition:</b> <a href="joint_8hpp_source.html#l00047">joint.hpp:47</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArrayVel_html"><div class="ttname"><a href="classKDL_1_1JntArrayVel.html">KDL::JntArrayVel</a></div><div class="ttdef"><b>Definition:</b> <a href="jntarrayvel_8hpp_source.html#l00045">jntarrayvel.hpp:45</a></div></div>
<div class="ttc" id="aclassKDL_1_1Twist_html_aeb2250f1de9e0c6f9fe738dc8c083bc9"><div class="ttname"><a href="classKDL_1_1Twist.html#aeb2250f1de9e0c6f9fe738dc8c083bc9">KDL::Twist::Zero</a></div><div class="ttdeci">static Twist Zero()</div><div class="ttdef"><b>Definition:</b> <a href="frames_8inl_source.html#l00290">frames.inl:290</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArrayVel_html_a00edc595e5950fa9993f7912e9f890d3"><div class="ttname"><a href="classKDL_1_1JntArrayVel.html#a00edc595e5950fa9993f7912e9f890d3">KDL::JntArrayVel::deriv</a></div><div class="ttdeci">JntArray deriv() const</div><div class="ttdef"><b>Definition:</b> <a href="jntarrayvel_8cpp_source.html#l00052">jntarrayvel.cpp:52</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainExternalWrenchEstimator_html_adcc483423c33efbebe4d601b0dca4eed"><div class="ttname"><a href="classKDL_1_1ChainExternalWrenchEstimator.html#adcc483423c33efbebe4d601b0dca4eed">KDL::ChainExternalWrenchEstimator::setInitialMomentum</a></div><div class="ttdeci">int setInitialMomentum(const JntArray &amp;joint_position, const JntArray &amp;joint_velocity)</div><div class="ttdef"><b>Definition:</b> <a href="chainexternalwrenchestimator_8cpp_source.html#l00074">chainexternalwrenchestimator.cpp:74</a></div></div>
<div class="ttc" id="aclassKDL_1_1Jacobian_html_a73cf18ac91b146f6be631a941d5bee3c"><div class="ttname"><a href="classKDL_1_1Jacobian.html#a73cf18ac91b146f6be631a941d5bee3c">KDL::Jacobian::data</a></div><div class="ttdeci">EIGEN_MAKE_ALIGNED_OPERATOR_NEW Eigen::Matrix&lt; double, 6, Eigen::Dynamic &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="jacobian_8hpp_source.html#l00041">jacobian.hpp:41</a></div></div>
<div class="ttc" id="aendl_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a></div><div class="ttdeci">T endl(T... args)</div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv_html_a202bae1336d36647917b761ee8d5f7ea"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv.html#a202bae1336d36647917b761ee8d5f7ea">KDL::ChainIkSolverVel_pinv::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_in, const Twist &amp;v_in, JntArray &amp;qdot_out)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv_8cpp_source.html#l00062">chainiksolvervel_pinv.cpp:62</a></div></div>
<div class="ttc" id="afmod_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/numeric/math/fmod.html">std::fmod</a></div><div class="ttdeci">T fmod(T... args)</div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverVel_html_a7ae7b44890420e9459a3e8da73994edb"><div class="ttname"><a href="classKDL_1_1ChainFkSolverVel.html#a7ae7b44890420e9459a3e8da73994edb">KDL::ChainFkSolverVel::JntToCart</a></div><div class="ttdeci">virtual int JntToCart(const JntArrayVel &amp;q_in, FrameVel &amp;out, int segmentNr=-1)=0</div></div>
<div class="ttc" id="anamespaceKDL_html_afbaac359311f16d1bbd3ea75c4ea7463"><div class="ttname"><a href="namespaceKDL.html#afbaac359311f16d1bbd3ea75c4ea7463">KDL::Equal</a></div><div class="ttdeci">IMETHOD bool Equal(const FrameAcc &amp;r1, const FrameAcc &amp;r2, double eps=epsilon)</div></div>
<div class="ttc" id="aclassKDL_1_1Frame_html_a367668b3344ccfd50410ccc1ed30fa6f"><div class="ttname"><a href="classKDL_1_1Frame.html#a367668b3344ccfd50410ccc1ed30fa6f">KDL::Frame::M</a></div><div class="ttdeci">Rotation M</div><div class="ttdoc">Orientation of the Frame.</div><div class="ttdef"><b>Definition:</b> <a href="frames_8hpp_source.html#l00575">frames.hpp:575</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainExternalWrenchEstimator_html_a81d9082e02bc18738527c1872c8c24d4"><div class="ttname"><a href="classKDL_1_1ChainExternalWrenchEstimator.html#a81d9082e02bc18738527c1872c8c24d4">KDL::ChainExternalWrenchEstimator::getEstimatedJntTorque</a></div><div class="ttdeci">void getEstimatedJntTorque(JntArray &amp;external_joint_torque)</div><div class="ttdef"><b>Definition:</b> <a href="chainexternalwrenchestimator_8cpp_source.html#l00198">chainexternalwrenchestimator.cpp:198</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv__nso_html_ae4689c53089eb8af85e347d5f61b3892"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv__nso.html#ae4689c53089eb8af85e347d5f61b3892">KDL::ChainIkSolverVel_pinv_nso::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_in, const Twist &amp;v_in, JntArray &amp;qdot_out)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv__nso_8cpp_source.html#l00084">chainiksolvervel_pinv_nso.cpp:84</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv_html_a11d9df2fdfea7c7d616298c907ce672a"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv.html#a11d9df2fdfea7c7d616298c907ce672a">KDL::ChainIkSolverVel_pinv::getNrZeroSigmas</a></div><div class="ttdeci">unsigned int getNrZeroSigmas() const</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv_8hpp_source.html#l00087">chainiksolvervel_pinv.hpp:87</a></div></div>
<div class="ttc" id="aclassKDL_1_1JntArrayVel_html_a4cedcb3da3af96a6934fa3cefc5be371"><div class="ttname"><a href="classKDL_1_1JntArrayVel.html#a4cedcb3da3af96a6934fa3cefc5be371">KDL::JntArrayVel::qdot</a></div><div class="ttdeci">JntArray qdot</div><div class="ttdef"><b>Definition:</b> <a href="jntarrayvel_8hpp_source.html#l00049">jntarrayvel.hpp:49</a></div></div>
<div class="ttc" id="asolvertest_8cpp_html_a1f91bfc282ab8a3e30dff678701ad52e"><div class="ttname"><a href="solvertest_8cpp.html#a1f91bfc282ab8a3e30dff678701ad52e">CPPUNIT_TEST_SUITE_REGISTRATION</a></div><div class="ttdeci">CPPUNIT_TEST_SUITE_REGISTRATION(SolverTest)</div></div>
<div class="ttc" id="aclassSolverTest_html_a1fe0da4cc1074b84a4abaadfe2ac462c"><div class="ttname"><a href="classSolverTest.html#a1fe0da4cc1074b84a4abaadfe2ac462c">SolverTest::FdAndVereshchaginSolversConsistencyTest</a></div><div class="ttdeci">void FdAndVereshchaginSolversConsistencyTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01442">solvertest.cpp:1442</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__LMA_html_a068a7af864c449f5053e3ba528c849fb"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__LMA.html#a068a7af864c449f5053e3ba528c849fb">KDL::ChainIkSolverPos_LMA::updateInternalDataStructures</a></div><div class="ttdeci">void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__lma_8cpp_source.html#l00145">chainiksolverpos_lma.cpp:145</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainDynParam_html_ad71feeedf84067cd454bd194ddc7656b"><div class="ttname"><a href="classKDL_1_1ChainDynParam.html#ad71feeedf84067cd454bd194ddc7656b">KDL::ChainDynParam::JntToGravity</a></div><div class="ttdeci">virtual int JntToGravity(const JntArray &amp;q, JntArray &amp;gravity)</div><div class="ttdef"><b>Definition:</b> <a href="chaindynparam_8cpp_source.html#l00139">chaindynparam.cpp:139</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__LMA_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__LMA.html">KDL::ChainIkSolverPos_LMA</a></div><div class="ttdoc">Solver for the inverse position kinematics that uses Levenberg-Marquardt.</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__lma_8hpp_source.html#l00087">chainiksolverpos_lma.hpp:87</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a9d4f13f0395e5fc93fad1768bf367d78"><div class="ttname"><a href="classSolverTest.html#a9d4f13f0395e5fc93fad1768bf367d78">SolverTest::FkVelAndJacLocal</a></div><div class="ttdeci">void FkVelAndJacLocal(Chain &amp;chain, ChainFkSolverVel &amp;fksolvervel, ChainJntToJacSolver &amp;jacsolver)</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00735">solvertest.cpp:735</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a4f63ee06d015d4df37bf6ae1f9dbf891"><div class="ttname"><a href="classSolverTest.html#a4f63ee06d015d4df37bf6ae1f9dbf891">SolverTest::FkVelAndJacTest</a></div><div class="ttdeci">void FkVelAndJacTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00408">solvertest.cpp:408</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_a740d84e22565a0fcf73dd834e4152fbf"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#a740d84e22565a0fcf73dd834e4152fbf">KDL::ChainIkSolverVel_wdls::E_CONVERGE_PINV_SINGULAR</a></div><div class="ttdeci">static const int E_CONVERGE_PINV_SINGULAR</div><div class="ttdoc">solution converged but (pseudo)inverse is singular</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8hpp_source.html#l00067">chainiksolvervel_wdls.hpp:67</a></div></div>
<div class="ttc" id="aclassKDL_1_1Rotation_html_afbe17f3c9249078626fba1736aed8d31"><div class="ttname"><a href="classKDL_1_1Rotation.html#afbe17f3c9249078626fba1736aed8d31">KDL::Rotation::RPY</a></div><div class="ttdeci">static Rotation RPY(double roll, double pitch, double yaw)</div><div class="ttdef"><b>Definition:</b> <a href="frames_8cpp_source.html#l00262">frames.cpp:262</a></div></div>
<div class="ttc" id="aclassKDL_1_1FrameVel_html"><div class="ttname"><a href="classKDL_1_1FrameVel.html">KDL::FrameVel</a></div><div class="ttdef"><b>Definition:</b> <a href="framevel_8hpp_source.html#l00209">framevel.hpp:209</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel.html">KDL::ChainIkSolverVel</a></div><div class="ttdoc">This abstract class encapsulates the inverse velocity solver for a KDL::Chain.</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolver_8hpp_source.html#l00066">chainiksolver.hpp:66</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__LMA_html_a51e0cd14d0b764eab96150ca868a1346"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__LMA.html#a51e0cd14d0b764eab96150ca868a1346">KDL::ChainIkSolverPos_LMA::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const KDL::JntArray &amp;q_init, const KDL::Frame &amp;T_base_goal, KDL::JntArray &amp;q_out)</div><div class="ttdoc">computes the inverse position kinematics.</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__lma_8cpp_source.html#l00210">chainiksolverpos_lma.cpp:210</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__wdls_html_afc24c8c3e751a2e663080b00924bc9a9"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__wdls.html#afc24c8c3e751a2e663080b00924bc9a9">KDL::ChainIkSolverVel_wdls::getLambdaScaled</a></div><div class="ttdeci">double getLambdaScaled() const</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__wdls_8hpp_source.html#l00204">chainiksolvervel_wdls.hpp:204</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv__givens_html_a993d8e4233b7e1095b3ee2d11c40c335"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv__givens.html#a993d8e4233b7e1095b3ee2d11c40c335">KDL::ChainIkSolverVel_pinv_givens::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv__givens_8cpp_source.html#l00048">chainiksolvervel_pinv_givens.cpp:48</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__NR__JL_html_a094de2ebc84cf280e1d91ffe30d7a6d4"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__NR__JL.html#a094de2ebc84cf280e1d91ffe30d7a6d4">KDL::ChainIkSolverPos_NR_JL::CartToJnt</a></div><div class="ttdeci">virtual int CartToJnt(const JntArray &amp;q_init, const Frame &amp;p_in, JntArray &amp;q_out)</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__nr__jl_8cpp_source.html#l00062">chainiksolverpos_nr_jl.cpp:62</a></div></div>
<div class="ttc" id="aclassKDL_1_1Joint_html"><div class="ttname"><a href="classKDL_1_1Joint.html">KDL::Joint</a></div><div class="ttdoc">This class encapsulates a simple joint, that is with one parameterized degree of freedom and with sca...</div><div class="ttdef"><b>Definition:</b> <a href="joint_8hpp_source.html#l00045">joint.hpp:45</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainJntToJacSolver_html"><div class="ttname"><a href="classKDL_1_1ChainJntToJacSolver.html">KDL::ChainJntToJacSolver</a></div><div class="ttdoc">Class to calculate the jacobian of a general KDL::Chain, it is used by other solvers.</div><div class="ttdef"><b>Definition:</b> <a href="chainjnttojacsolver_8hpp_source.html#l00038">chainjnttojacsolver.hpp:38</a></div></div>
<div class="ttc" id="anamespaceKDL_html_aa2015ef4bf3ebb5f6defaf8bc1cf5184"><div class="ttname"><a href="namespaceKDL.html#aa2015ef4bf3ebb5f6defaf8bc1cf5184">KDL::SetToZero</a></div><div class="ttdeci">void SetToZero(Jacobian &amp;jac)</div><div class="ttdef"><b>Definition:</b> <a href="jacobian_8cpp_source.html#l00079">jacobian.cpp:79</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos.html">KDL::ChainIkSolverPos</a></div><div class="ttdoc">This abstract class encapsulates the inverse position solver for a KDL::Chain.</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolver_8hpp_source.html#l00042">chainiksolver.hpp:42</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a721ba3f54f506bc1004fb981a9ea7b13"><div class="ttname"><a href="namespaceKDL.html#a721ba3f54f506bc1004fb981a9ea7b13">KDL::diff</a></div><div class="ttdeci">IMETHOD Vector diff(const Vector &amp;p_w_a, const Vector &amp;p_w_b, double dt=1)</div></div>
<div class="ttc" id="aclassKDL_1_1JntArrayVel_html_a3d1c16da97a33260f4e6ee867bc357b6"><div class="ttname"><a href="classKDL_1_1JntArrayVel.html#a3d1c16da97a33260f4e6ee867bc357b6">KDL::JntArrayVel::q</a></div><div class="ttdeci">JntArray q</div><div class="ttdef"><b>Definition:</b> <a href="jntarrayvel_8hpp_source.html#l00048">jntarrayvel.hpp:48</a></div></div>
<div class="ttc" id="aclassKDL_1_1SolverI_html_a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191"><div class="ttname"><a href="classKDL_1_1SolverI.html#a73d6b62495bbc2626a85004002b2c148a95f2e049884a3a08fc4f839e4cbf6191">KDL::SolverI::E_NOERROR</a></div><div class="ttdeci">@ E_NOERROR</div><div class="ttdoc">No error.</div><div class="ttdef"><b>Definition:</b> <a href="solveri_8hpp_source.html#l00091">solveri.hpp:91</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv.html">KDL::ChainIkSolverVel_pinv</a></div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv_8hpp_source.html#l00040">chainiksolvervel_pinv.hpp:40</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainFkSolverPos__recursive_html"><div class="ttname"><a href="classKDL_1_1ChainFkSolverPos__recursive.html">KDL::ChainFkSolverPos_recursive</a></div><div class="ttdef"><b>Definition:</b> <a href="chainfksolverpos__recursive_8hpp_source.html#l00036">chainfksolverpos_recursive.hpp:36</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainDynParam_html_a616876214cb26793cedeed01e5093b3a"><div class="ttname"><a href="classKDL_1_1ChainDynParam.html#a616876214cb26793cedeed01e5093b3a">KDL::ChainDynParam::JntToCoriolis</a></div><div class="ttdeci">virtual int JntToCoriolis(const JntArray &amp;q, const JntArray &amp;q_dot, JntArray &amp;coriolis)</div><div class="ttdef"><b>Definition:</b> <a href="chaindynparam_8cpp_source.html#l00127">chaindynparam.cpp:127</a></div></div>
<div class="ttc" id="anamespaceKDL_html_ac85eca37a300ca3afa534bf3133cd134"><div class="ttname"><a href="namespaceKDL.html#ac85eca37a300ca3afa534bf3133cd134">KDL::MultiplyJacobian</a></div><div class="ttdeci">void MultiplyJacobian(const Jacobian &amp;jac, const JntArray &amp;src, Twist &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="jntarray_8cpp_source.html#l00100">jntarray.cpp:100</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverPos__NR_html_a5f3f444352531e50a84f73686e01cf03"><div class="ttname"><a href="classKDL_1_1ChainIkSolverPos__NR.html#a5f3f444352531e50a84f73686e01cf03">KDL::ChainIkSolverPos_NR::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainiksolverpos__nr_8cpp_source.html#l00035">chainiksolverpos_nr.cpp:35</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a907bf6b113975e7ed274ed57377ea905"><div class="ttname"><a href="classSolverTest.html#a907bf6b113975e7ed274ed57377ea905">SolverTest::ExternalWrenchEstimatorTest</a></div><div class="ttdeci">void ExternalWrenchEstimatorTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01563">solvertest.cpp:1563</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIkSolverVel__pinv__nso_html"><div class="ttname"><a href="classKDL_1_1ChainIkSolverVel__pinv__nso.html">KDL::ChainIkSolverVel_pinv_nso</a></div><div class="ttdef"><b>Definition:</b> <a href="chainiksolvervel__pinv__nso_8hpp_source.html#l00046">chainiksolvervel_pinv_nso.hpp:46</a></div></div>
<div class="ttc" id="aclassKDL_1_1Chain_html"><div class="ttname"><a href="classKDL_1_1Chain.html">KDL::Chain</a></div><div class="ttdoc">This class encapsulates a serial kinematic interconnection structure. It is built out of segments.</div><div class="ttdef"><b>Definition:</b> <a href="chain_8hpp_source.html#l00035">chain.hpp:35</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainHdSolver__Vereshchagin_html_a6d48fd72f1e3fa117dba444edb0d5653"><div class="ttname"><a href="classKDL_1_1ChainHdSolver__Vereshchagin.html#a6d48fd72f1e3fa117dba444edb0d5653">KDL::ChainHdSolver_Vereshchagin::CartToJnt</a></div><div class="ttdeci">int CartToJnt(const JntArray &amp;q, const JntArray &amp;q_dot, JntArray &amp;q_dotdot, const Jacobian &amp;alfa, const JntArray &amp;beta, const Wrenches &amp;f_ext, const JntArray &amp;ff_torques, JntArray &amp;constraint_torques)</div><div class="ttdef"><b>Definition:</b> <a href="chainhdsolver__vereshchagin_8cpp_source.html#l00056">chainhdsolver_vereshchagin.cpp:56</a></div></div>
<div class="ttc" id="aclassKDL_1_1Chain_html_a24915919dabc4ea58600a38882445cd8"><div class="ttname"><a href="classKDL_1_1Chain.html#a24915919dabc4ea58600a38882445cd8">KDL::Chain::getNrOfJoints</a></div><div class="ttdeci">unsigned int getNrOfJoints() const</div><div class="ttdef"><b>Definition:</b> <a href="chain_8hpp_source.html#l00071">chain.hpp:71</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a91bf08255a38f97d32e25fe8c1540384"><div class="ttname"><a href="classSolverTest.html#a91bf08255a38f97d32e25fe8c1540384">SolverTest::FkVelVectTest</a></div><div class="ttdeci">void FkVelVectTest()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l01116">solvertest.cpp:1116</a></div></div>
<div class="ttc" id="aclassSolverTest_html_a57a7f16cb6e9846b21ae53b56c51bd31"><div class="ttname"><a href="classSolverTest.html#a57a7f16cb6e9846b21ae53b56c51bd31">SolverTest::setUp</a></div><div class="ttdeci">void setUp()</div><div class="ttdef"><b>Definition:</b> <a href="solvertest_8cpp_source.html#l00013">solvertest.cpp:13</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainHdSolver__Vereshchagin_html_aacddb2d51c10a9f29775306728a621d6"><div class="ttname"><a href="classKDL_1_1ChainHdSolver__Vereshchagin.html#aacddb2d51c10a9f29775306728a621d6">KDL::ChainHdSolver_Vereshchagin::getTransformedLinkAcceleration</a></div><div class="ttdeci">void getTransformedLinkAcceleration(Twists &amp;x_dotdot)</div><div class="ttdef"><b>Definition:</b> <a href="chainhdsolver__vereshchagin_8cpp_source.html#l00352">chainhdsolver_vereshchagin.cpp:352</a></div></div>
<div class="ttc" id="aclassKDL_1_1Jacobian_html"><div class="ttname"><a href="classKDL_1_1Jacobian.html">KDL::Jacobian</a></div><div class="ttdef"><b>Definition:</b> <a href="jacobian_8hpp_source.html#l00036">jacobian.hpp:36</a></div></div>
<div class="ttc" id="aclassKDL_1_1ChainIdSolver__RNE_html_aa939c7f6490b216cf7c89f72d4a114b8"><div class="ttname"><a href="classKDL_1_1ChainIdSolver__RNE.html#aa939c7f6490b216cf7c89f72d4a114b8">KDL::ChainIdSolver_RNE::updateInternalDataStructures</a></div><div class="ttdeci">virtual void updateInternalDataStructures()</div><div class="ttdef"><b>Definition:</b> <a href="chainidsolver__recursive__newton__euler_8cpp_source.html#l00034">chainidsolver_recursive_newton_euler.cpp:34</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 14 2025 04:38:06 for orocos_kdl by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
