<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="select__option__for__image_8py" kind="file" language="Python">
    <compoundname>select_option_for_image.py</compoundname>
    <innerclass refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage" prot="public">challenge_final::select_option_for_image::SelectOptionForImage</innerclass>
    <innernamespace refid="namespacechallenge__final_1_1select__option__for__image">challenge_final::select_option_for_image</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacechallenge__final_1_1select__option__for__image" refkind="compound"><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>print_function</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>threading<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Event</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>cv2</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>cv_bridge</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>rospy</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sensor_msgs.msg<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Image</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>std_msgs.msg<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>String</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>telegram_ros.msg<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Options</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>smach</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage" kindref="compound">SelectOptionForImage</ref>(smach.State):</highlight></codeline>
<codeline lineno="17" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1aa6262f670c3581e26264ed922fb5deb9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1aa6262f670c3581e26264ed922fb5deb9" kindref="member">__init__</ref>(self,<sp/>robot,<sp/>options,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>question=&apos;Which<sp/>do<sp/>you<sp/>want?&apos;,</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instruction=&apos;Please<sp/>let<sp/>me<sp/>know<sp/>your<sp/>selection&apos;,</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeout=60,<sp/>strict=True):</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>robot:<sp/>Robot<sp/>object,<sp/>because<sp/>all<sp/>our<sp/>Smach<sp/>states<sp/>have<sp/>this<sp/>and<sp/>we<sp/>need<sp/>consistency</highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>options:<sp/>What<sp/>options<sp/>are<sp/>available?</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>options:<sp/>List[str]</highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>question:<sp/>What<sp/>is<sp/>the<sp/>question<sp/>to<sp/>select<sp/>something<sp/>for?</highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>question:<sp/>str</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>instruction:<sp/>Instructions<sp/>for<sp/>the<sp/>user<sp/>on<sp/>what<sp/>to<sp/>do</highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>instruction:<sp/>str</highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>timeout:<sp/>How<sp/>long<sp/>to<sp/>wait<sp/>until<sp/>the<sp/>state<sp/>returns<sp/>failed</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>timeout:<sp/>int</highlight></codeline>
<codeline lineno="32"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>strict:<sp/>Only<sp/>allow<sp/>selection<sp/>from<sp/>the<sp/>options<sp/>list</highlight></codeline>
<codeline lineno="33"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>strict:<sp/>bool</highlight></codeline>
<codeline lineno="34"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smach.State.__init__(self,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outcomes=[</highlight><highlight class="stringliteral">&apos;succeeded&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;failed&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="37" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a10604205e5b64a1ddd44c8a65296e381" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_keys=[</highlight><highlight class="stringliteral">&apos;person_dict&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="38" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a860fcdc215cfaf7717afdb22f794f8bb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_keys=[</highlight><highlight class="stringliteral">&apos;selection&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a10604205e5b64a1ddd44c8a65296e381" kindref="member">_timeout</ref><sp/>=<sp/>timeout</highlight></codeline>
<codeline lineno="41" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1af8b3863122aa356760673944033b2dea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a860fcdc215cfaf7717afdb22f794f8bb" kindref="member">_received</ref><sp/>=<sp/>Event()</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref><sp/>=<sp/>options</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1af8b3863122aa356760673944033b2dea" kindref="member">_option_str</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;,<sp/>&apos;</highlight><highlight class="normal">.join(self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref>[:-1])</highlight></codeline>
<codeline lineno="45" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afe470b42b5b96665e502715215b0d595" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref>)<sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1af8b3863122aa356760673944033b2dea" kindref="member">_option_str</ref><sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;<sp/>or<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref>[-1]</highlight></codeline>
<codeline lineno="47" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8c6ebf73fd548eafa14f369fd25b6973" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afe470b42b5b96665e502715215b0d595" kindref="member">_strict</ref><sp/>=<sp/>strict</highlight></codeline>
<codeline lineno="49" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a044d82f15c192c9f56103a56eb888931" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8c6ebf73fd548eafa14f369fd25b6973" kindref="member">_cv_bridge</ref><sp/>=<sp/>cv_bridge.CvBridge()</highlight></codeline>
<codeline lineno="51" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8fd6f7d22b041c565b8a9fce71ff5d7f" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a1c821bd62da93211d4c91bf5c46733f7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a044d82f15c192c9f56103a56eb888931" kindref="member">_selection</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ad508970c234527e027a6e03fad8081b7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8fd6f7d22b041c565b8a9fce71ff5d7f" kindref="member">_question</ref><sp/>=<sp/>question</highlight></codeline>
<codeline lineno="55" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a4d78226fbf07466db7a4d9978650f2cf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a1c821bd62da93211d4c91bf5c46733f7" kindref="member">_instruction</ref><sp/>=<sp/>instruction</highlight></codeline>
<codeline lineno="56" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1acb6a947e304889120daeec1ca260eb23" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ae22fcfb8ce8e91063dca5fb83bbbcde2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ad508970c234527e027a6e03fad8081b7" kindref="member">_image_pub</ref><sp/>=<sp/>rospy.Publisher(</highlight><highlight class="stringliteral">&apos;/hero/image_from_ros&apos;</highlight><highlight class="normal">,<sp/>Image,<sp/>queue_size=1)</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a4d78226fbf07466db7a4d9978650f2cf" kindref="member">_text_pub</ref><sp/>=<sp/>rospy.Publisher(</highlight><highlight class="stringliteral">&apos;/hero/message_from_ros&apos;</highlight><highlight class="normal">,<sp/>String,<sp/>queue_size=1)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1acb6a947e304889120daeec1ca260eb23" kindref="member">_options_pub</ref><sp/>=<sp/>rospy.Publisher(</highlight><highlight class="stringliteral">&apos;/hero/options_from_ros&apos;</highlight><highlight class="normal">,<sp/>Options,<sp/>queue_size=1)</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ae22fcfb8ce8e91063dca5fb83bbbcde2" kindref="member">_text_sub</ref><sp/>=<sp/>rospy.Subscriber(</highlight><highlight class="stringliteral">&apos;/hero/message_to_ros&apos;</highlight><highlight class="normal">,<sp/>String,<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ae00d1c106c7808d57c96a529542a2c07" kindref="member">_handle_reply</ref>)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a4d78226fbf07466db7a4d9978650f2cf" kindref="member">_text_pub</ref>.publish(</highlight><highlight class="stringliteral">&quot;Hello,<sp/>I&apos;m<sp/>HERO&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a64593dd61eaeeacab282e1b714f0ac24" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a64593dd61eaeeacab282e1b714f0ac24" kindref="member">execute</ref>(self,<sp/>user_data):</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Get<sp/>a<sp/>dict<sp/>{&apos;rgb&apos;:...,<sp/>&apos;person_detection&apos;:...,<sp/>&apos;map_ps&apos;:...}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Publish<sp/>this<sp/>image<sp/>to<sp/>telegram</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Then<sp/>ask<sp/>what<sp/>their<sp/>selection<sp/>is<sp/>from<sp/>a<sp/>list<sp/>of<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a860fcdc215cfaf7717afdb22f794f8bb" kindref="member">_received</ref><sp/>=<sp/>Event()</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a044d82f15c192c9f56103a56eb888931" kindref="member">_selection</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1acb6a947e304889120daeec1ca260eb23" kindref="member">_options_pub</ref>.publish(Options(</highlight><highlight class="stringliteral">&apos;Test<sp/>1<sp/>2<sp/>3&apos;</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="stringliteral">&apos;OK&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;Nope&apos;</highlight><highlight class="normal">]))</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ros_image<sp/>=<sp/>user_data[</highlight><highlight class="stringliteral">&apos;person_dict&apos;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&apos;rgb&apos;</highlight><highlight class="normal">]<sp/><sp/></highlight><highlight class="comment">#<sp/>Image</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cv_image<sp/>=<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8c6ebf73fd548eafa14f369fd25b6973" kindref="member">_cv_bridge</ref>.imgmsg_to_cv2(ros_image,<sp/></highlight><highlight class="stringliteral">&quot;bgr8&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>roi<sp/>=<sp/>user_data[</highlight><highlight class="stringliteral">&apos;person_dict&apos;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&apos;person_detection&apos;</highlight><highlight class="normal">].face.roi</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cropped_cv_image<sp/>=<sp/>cv_image[roi.y_offset:roi.y_offset<sp/>+<sp/>roi.height,<sp/>roi.x_offset:roi.x_offset<sp/>+<sp/>roi.width]</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>import<sp/>ipdb;<sp/>ipdb.set_trace()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cropped_ros_image<sp/>=<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8c6ebf73fd548eafa14f369fd25b6973" kindref="member">_cv_bridge</ref>.cv2_to_imgmsg(cropped_cv_image,<sp/></highlight><highlight class="stringliteral">&quot;bgr8&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cropped_ros_image.header.frame_id<sp/>=<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8fd6f7d22b041c565b8a9fce71ff5d7f" kindref="member">_question</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a1c821bd62da93211d4c91bf5c46733f7" kindref="member">_instruction</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1af8b3863122aa356760673944033b2dea" kindref="member">_option_str</ref></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.loginfo(</highlight><highlight class="stringliteral">&quot;Sending<sp/>image<sp/>with<sp/>header<sp/>{}&quot;</highlight><highlight class="normal">.format(cropped_ros_image.header.frame_id))</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ad508970c234527e027a6e03fad8081b7" kindref="member">_image_pub</ref>.publish(cropped_ros_image)</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options_msg<sp/>=<sp/>Options()</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options_msg.question<sp/>=<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a8fd6f7d22b041c565b8a9fce71ff5d7f" kindref="member">_question</ref></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options_msg.options<sp/>=<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1acb6a947e304889120daeec1ca260eb23" kindref="member">_options_pub</ref>.publish(options_msg)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>rospy.Time.now()</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>rospy.is_shutdown()<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>rospy.Time.now()<sp/>&lt;<sp/>start<sp/>+<sp/>rospy.Duration(self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a10604205e5b64a1ddd44c8a65296e381" kindref="member">_timeout</ref>):</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a860fcdc215cfaf7717afdb22f794f8bb" kindref="member">_received</ref>.wait(1):</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_data[</highlight><highlight class="stringliteral">&apos;selection&apos;</highlight><highlight class="normal">]<sp/>=<sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a044d82f15c192c9f56103a56eb888931" kindref="member">_selection</ref></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a4d78226fbf07466db7a4d9978650f2cf" kindref="member">_text_pub</ref>.publish(</highlight><highlight class="stringliteral">&quot;OK,<sp/>gotcha&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;succeeded&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.logwarn_throttle(10,<sp/></highlight><highlight class="stringliteral">&quot;No<sp/>reply<sp/>received<sp/>yet&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.logerr(</highlight><highlight class="stringliteral">&apos;Exception<sp/>while<sp/>getting<sp/>selection:<sp/>{}&apos;</highlight><highlight class="normal">.format(ex))</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a4d78226fbf07466db7a4d9978650f2cf" kindref="member">_text_pub</ref>.publish(</highlight><highlight class="stringliteral">&quot;I<sp/>didn&apos;t<sp/>get<sp/>a<sp/>reply<sp/>in<sp/>time,<sp/>sorry&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user_data[</highlight><highlight class="stringliteral">&apos;selection&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;failed&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ae00d1c106c7808d57c96a529542a2c07" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1ae00d1c106c7808d57c96a529542a2c07" kindref="member">_handle_reply</ref>(self,<sp/>msg):</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>(String)<sp/>-&gt;<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.loginfo(</highlight><highlight class="stringliteral">&apos;Got<sp/>answer<sp/>from<sp/>user:<sp/>{}&apos;</highlight><highlight class="normal">.format(msg.data))</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afe470b42b5b96665e502715215b0d595" kindref="member">_strict</ref>:</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>msg.data.lower().strip()<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref>:</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a4d78226fbf07466db7a4d9978650f2cf" kindref="member">_text_pub</ref>.publish(</highlight><highlight class="stringliteral">&quot;{}<sp/>is<sp/>not<sp/>on<sp/>my<sp/>list,<sp/>please<sp/>select<sp/>something<sp/>else,<sp/>like<sp/>{}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.format(msg.data,<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">.join(self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1afdba318f479ed81a854cc1e8079af052" kindref="member">_options</ref>)))</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a044d82f15c192c9f56103a56eb888931" kindref="member">_selection</ref><sp/>=<sp/>msg.data</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a860fcdc215cfaf7717afdb22f794f8bb" kindref="member">_received</ref>.set()</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a044d82f15c192c9f56103a56eb888931" kindref="member">_selection</ref><sp/>=<sp/>msg.data</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage_1a860fcdc215cfaf7717afdb22f794f8bb" kindref="member">_received</ref>.set()</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;__main__&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(sys.argv)<sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="124" refid="namespacechallenge__final_1_1select__option__for__image_1a105249b987206e875c9c9475367a33a0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>robot_name<sp/>=<sp/>sys.argv[1]</highlight></codeline>
<codeline lineno="125" refid="namespacechallenge__final_1_1select__option__for__image_1ae19d2dce1c10167046dc00c8148b9745" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>image_path<sp/>=<sp/>sys.argv[2]</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.init_node(</highlight><highlight class="stringliteral">&apos;test_select_option_for_image&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>mock</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Robot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>_robot<sp/>=<sp/>get_robot_from_argv(index=1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="namespacechallenge__final_1_1select__option__for__image_1ae69125b51d9f59dcb466e6bda1f049ff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_robot<sp/>=<sp/>mock.MagicMock()</highlight></codeline>
<codeline lineno="133" refid="namespacechallenge__final_1_1select__option__for__image_1a3344f8ea0e950c7e299af2c7d9122b72" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_robot.speech<sp/>=<sp/>mock.MagicMock()</highlight></codeline>
<codeline lineno="134" refid="namespacechallenge__final_1_1select__option__for__image_1a03b30a422a86c148bd9239cff707eee3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacechallenge__final_1_1select__option__for__image_1aeb9875263ec8331776697e67bfb42985" kindref="member">speak</ref>(*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(args,<sp/>kwargs)</highlight></codeline>
<codeline lineno="136" refid="namespacechallenge__final_1_1select__option__for__image_1aeb9875263ec8331776697e67bfb42985" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_robot.speech.speak<sp/>=<sp/>speak</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138" refid="namespacechallenge__final_1_1select__option__for__image_1a6b0d0f16a1220ebe6a58b74e43fed4f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bridge<sp/>=<sp/>cv_bridge.CvBridge()</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140" refid="namespacechallenge__final_1_1select__option__for__image_1a3826c795b200356d4ee34728d3fe8e49" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sm<sp/>=<sp/><ref refid="classchallenge__final_1_1select__option__for__image_1_1SelectOptionForImage" kindref="compound">SelectOptionForImage</ref>(_robot,<sp/>options=[</highlight><highlight class="stringliteral">&apos;banana&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;widget&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;gadget&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="namespacechallenge__final_1_1select__option__for__image_1a9d135558115c76f113588bf1e2ddfd9d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ud<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144" refid="namespacechallenge__final_1_1select__option__for__image_1a261696391d1ec451bea3b549a58d0492" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cv_image<sp/>=<sp/>cv2.imread(image_path)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146" refid="namespacechallenge__final_1_1select__option__for__image_1ab81e8eed45bf1adc3b9c2e983459ecea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ros_image<sp/>=<sp/>bridge.cv2_to_imgmsg(cv_image,<sp/>encoding=</highlight><highlight class="stringliteral">&quot;bgr8&quot;</highlight><highlight class="normal">)<sp/><sp/></highlight><highlight class="comment">#<sp/>cv2.imread<sp/>returns<sp/>in<sp/>bgr<sp/>order</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ud[</highlight><highlight class="stringliteral">&apos;person_dict&apos;</highlight><highlight class="normal">]<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;rgb&apos;</highlight><highlight class="normal">:<sp/>ros_image}<sp/><sp/></highlight><highlight class="comment">#<sp/>Other<sp/>keys<sp/>are<sp/>not<sp/>required<sp/>for<sp/>this<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(sm.execute(ud))</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.loginfo(ud[</highlight><highlight class="stringliteral">&apos;selection&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;Please<sp/>provide<sp/>robot<sp/>name<sp/>as<sp/>argument.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(1)</highlight></codeline>
    </programlisting>
    <location file="src/challenge_final/select_option_for_image.py"/>
  </compounddef>
</doxygen>
