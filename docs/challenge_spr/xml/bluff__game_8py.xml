<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="bluff__game_8py" kind="file" language="Python">
    <compoundname>bluff_game.py</compoundname>
    <innerclass refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions" prot="public">challenge_spr_states::bluff_game::HearTurnAndAnswerQuestions</innerclass>
    <innerclass refid="classchallenge__spr__states_1_1bluff__game_1_1TestBluffGame" prot="public">challenge_spr_states::bluff_game::TestBluffGame</innerclass>
    <innernamespace refid="namespacechallenge__spr__states_1_1bluff__game">challenge_spr_states::bluff_game</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacechallenge__spr__states_1_1bluff__game" refkind="compound"><highlight class="comment">#!/usr/bin/python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>math</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>threading</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>rospy</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>riddle_game<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>answer,<sp/>hear</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>smach</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>robot_smach_states.util<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Initialize</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>robot_smach_states.util.startup<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>startup</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="namespacechallenge__spr__states_1_1bluff__game_1a1663ba1751369aacf3a95b2054e3d698" refkind="member"><highlight class="normal">DEFAULT_HEAR_TIME<sp/>=<sp/>20.0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>seconds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="namespacechallenge__spr__states_1_1bluff__game_1aff06b1d95039dc199380caec9ef4b540" refkind="member"><highlight class="normal">SOURCE_LOCALISATION_TIME<sp/>=<sp/>6<sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>seconds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="namespacechallenge__spr__states_1_1bluff__game_1ac643156132d84c82d1148babe999c1ac" refkind="member"><highlight class="normal">INITIAL_TURNING_DELAY<sp/>=<sp/>1.5<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>seconds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions" kindref="compound">HearTurnAndAnswerQuestions</ref>(smach.State):</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Robot<sp/>hears<sp/>a<sp/>question,<sp/>turn<sp/>and<sp/>then<sp/>answers<sp/>(bluff<sp/>game<sp/>in<sp/>SPR<sp/>challenge).</highlight></codeline>
<codeline lineno="32"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>the<sp/>question<sp/>is<sp/>not<sp/>answered,<sp/>robot<sp/>asks<sp/>the<sp/>operator<sp/>to<sp/>repeat<sp/>the<sp/>question<sp/>and<sp/>tries<sp/>again,<sp/>without<sp/>turning.</highlight></codeline>
<codeline lineno="33"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="34"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Variables:</highlight></codeline>
<codeline lineno="35"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_questions:<sp/>number<sp/>of<sp/>questions<sp/>to<sp/>be<sp/>heard<sp/>and<sp/>answered</highlight></codeline>
<codeline lineno="36"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_operators:<sp/>number<sp/>of<sp/>operators<sp/>to<sp/>play<sp/>the<sp/>game</highlight></codeline>
<codeline lineno="37"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hear_time:<sp/>amount<sp/>of<sp/>time<sp/>to<sp/>hear<sp/>a<sp/>single<sp/>question</highlight></codeline>
<codeline lineno="38"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="39"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Outputs:</highlight></codeline>
<codeline lineno="40"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>done:<sp/>answered<sp/>all<sp/>questions</highlight></codeline>
<codeline lineno="41"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1ad444dda3df78ef570b76162358105e7b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1ad444dda3df78ef570b76162358105e7b" kindref="member">__init__</ref>(self,<sp/>robot,<sp/>num_questions=1,<sp/>num_operators=5,<sp/>hear_time=DEFAULT_HEAR_TIME):</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smach.State.__init__(self,<sp/>outcomes=[</highlight><highlight class="stringliteral">&quot;done&quot;</highlight><highlight class="normal">],<sp/>input_keys=[</highlight><highlight class="stringliteral">&apos;crowd_data&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="44" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref><sp/>=<sp/>robot</highlight></codeline>
<codeline lineno="45" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a974fafeefdaebe1b5af852c989243cf6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a974fafeefdaebe1b5af852c989243cf6" kindref="member">num_questions</ref><sp/>=<sp/>num_questions</highlight></codeline>
<codeline lineno="46" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1af9ddfa375684caee1af02430b493ec67" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1af9ddfa375684caee1af02430b493ec67" kindref="member">num_operators</ref><sp/>=<sp/>num_operators</highlight></codeline>
<codeline lineno="47" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1add9018bd39f01e4e3712edbec33dd38c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1add9018bd39f01e4e3712edbec33dd38c" kindref="member">hear_time</ref><sp/>=<sp/>hear_time</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49" refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a3d6850afd175450e514013967fa95632" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a3d6850afd175450e514013967fa95632" kindref="member">execute</ref>(self,<sp/>userdata):</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crowd_data<sp/>=<sp/>userdata.crowd_data</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>.head.look_at_standing_person()</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a974fafeefdaebe1b5af852c989243cf6" kindref="member">num_questions</ref>):</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t<sp/>=<sp/>threading.Thread(target=turn_to_closest_entity,<sp/>args=(self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>,self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1af9ddfa375684caee1af02430b493ec67" kindref="member">num_operators</ref>))</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t.start()</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>hear(self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>,<sp/>hear_time=self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1add9018bd39f01e4e3712edbec33dd38c" kindref="member">hear_time</ref>)</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t.join()</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>answer(self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>,<sp/>res,<sp/>crowd_data):</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>.speech.speak(</highlight><highlight class="stringliteral">&quot;Could<sp/>you<sp/>please<sp/>repeat<sp/>your<sp/>question?&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>hear(self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>,<sp/>hear_time=self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1add9018bd39f01e4e3712edbec33dd38c" kindref="member">hear_time</ref>)</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>answer(self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>,<sp/>res,<sp/>crowd_data):</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions_1a26878f6b4df51c9578c8075357d5416b" kindref="member">robot</ref>.speech.speak(</highlight><highlight class="stringliteral">&quot;Please<sp/>ask<sp/>next<sp/>question!&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;done&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79" refid="namespacechallenge__spr__states_1_1bluff__game_1a8046cecd0d342040e407461ddf7be6fc" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacechallenge__spr__states_1_1bluff__game_1a8046cecd0d342040e407461ddf7be6fc" kindref="member">turn_to_closest_entity</ref>(robot,<sp/>num_operators):</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>rospy.sleep(INITIAL_TURNING_DELAY)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>start<sp/>=<sp/>rospy.Time.now()</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>yaw<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Try<sp/>to<sp/>find<sp/>a<sp/>source<sp/>for<sp/>a<sp/>couple<sp/>of<sp/>seconds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>yaw<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(rospy.Time.now()<sp/>-<sp/>start).to_sec()<sp/>&lt;<sp/>SOURCE_LOCALISATION_TIME:</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yaw<sp/>=<sp/>robot.ssl.get_last_yaw(.1)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rospy.sleep(0.05)</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>did<sp/>not<sp/>find<sp/>a<sp/>yaw,<sp/>just<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>yaw<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yaw<sp/>=<sp/>math.pi<sp/>*<sp/>2<sp/>/<sp/>num_operators</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>yaw<sp/>&gt;<sp/>math.pi:</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yaw<sp/>-=<sp/>2<sp/>*<sp/>math.pi</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>yaw<sp/>&lt;<sp/>-math.pi:</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yaw<sp/>+=<sp/>2<sp/>*<sp/>math.pi</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>rospy.loginfo(</highlight><highlight class="stringliteral">&quot;I<sp/>should<sp/>turn<sp/>%.2f<sp/>rad<sp/>now&quot;</highlight><highlight class="normal">,<sp/>yaw)</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>vyaw<sp/>=<sp/>1.0</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>robot.base.force_drive(0,<sp/>0,<sp/>(yaw<sp/>/<sp/>abs(yaw))<sp/>*<sp/>vyaw,<sp/>abs(yaw)<sp/>/<sp/>vyaw)</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111" refid="classchallenge__spr__states_1_1bluff__game_1_1TestBluffGame" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classchallenge__spr__states_1_1bluff__game_1_1TestBluffGame" kindref="compound">TestBluffGame</ref>(smach.StateMachine):</highlight></codeline>
<codeline lineno="112" refid="classchallenge__spr__states_1_1bluff__game_1_1TestBluffGame_1a5f4a5d68863df36ca8f79d23c19318d5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classchallenge__spr__states_1_1bluff__game_1_1TestBluffGame_1a5f4a5d68863df36ca8f79d23c19318d5" kindref="member">__init__</ref>(self,<sp/>robot):</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smach.StateMachine.__init__(self,<sp/>outcomes=[</highlight><highlight class="stringliteral">&apos;Done&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Aborted&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.userdata.crowd_data<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;males&quot;</highlight><highlight class="normal">:<sp/>1,</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;men&quot;</highlight><highlight class="normal">:<sp/>2,</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;females&quot;</highlight><highlight class="normal">:<sp/>3,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;women&quot;</highlight><highlight class="normal">:<sp/>4,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;children&quot;</highlight><highlight class="normal">:<sp/>5,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;boys&quot;</highlight><highlight class="normal">:<sp/>6,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;girls&quot;</highlight><highlight class="normal">:<sp/>7,</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;adults&quot;</highlight><highlight class="normal">:<sp/>8,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;elders&quot;</highlight><highlight class="normal">:<sp/>9,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;crowd_size&quot;</highlight><highlight class="normal">:<sp/>10</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self:</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smach.StateMachine.add(</highlight><highlight class="stringliteral">&apos;INITIALIZE&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initialize(robot),</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transitions={</highlight><highlight class="stringliteral">&apos;initialized&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;BLUFF_GAME&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;abort&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Aborted&apos;</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smach.StateMachine.add(</highlight><highlight class="stringliteral">&apos;BLUFF_GAME&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classchallenge__spr__states_1_1bluff__game_1_1HearTurnAndAnswerQuestions" kindref="compound">HearTurnAndAnswerQuestions</ref>(robot,<sp/>num_questions=3),</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transitions={</highlight><highlight class="stringliteral">&apos;done&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Done&apos;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>remapping={</highlight><highlight class="stringliteral">&apos;crowd_data&apos;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&apos;crowd_data&apos;</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__main__&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>rospy.init_node(</highlight><highlight class="stringliteral">&apos;speech_person_recognition_exec&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="namespacechallenge__spr__states_1_1bluff__game_1a12dc48cf3db2984cb779d2d3475a65c3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>startup(TestBluffGame,<sp/>challenge_name=</highlight><highlight class="stringliteral">&quot;challenge_spr&quot;</highlight><highlight class="normal">)</highlight></codeline>
    </programlisting>
    <location file="src/challenge_spr_states/bluff_game.py"/>
  </compounddef>
</doxygen>
