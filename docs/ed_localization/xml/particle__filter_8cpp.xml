<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="particle__filter_8cpp" kind="file" language="C++">
    <compoundname>particle_filter.cpp</compoundname>
    <includes refid="particle__filter_8h" local="yes">particle_filter.h</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">cmath</includes>
    <includes local="no">ros/console.h</includes>
    <incdepgraph>
      <node id="10">
        <label>algorithm</label>
        <link refid="cpp/header/algorithm" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="6">
        <label>vector</label>
        <link refid="cpp/header/vector" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="5">
        <label>memory</label>
        <link refid="cpp/header/memory" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="12">
        <label>ros/console.h</label>
      </node>
      <node id="8">
        <label>geolib/datatypes.h</label>
        <link refid="datatypes_8h.html" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags"/>
      </node>
      <node id="9">
        <label>tue/config/configuration.h</label>
        <link refid="configuration_8h.html" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags"/>
      </node>
      <node id="2">
        <label>particle_filter.h</label>
        <link refid="particle__filter_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>array</label>
        <link refid="cpp/header/array" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
      <node id="1">
        <label>particle_filter.cpp</label>
        <link refid="particle__filter_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>geolib/math_types.h</label>
        <link refid="math__types_8h.html" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags"/>
      </node>
      <node id="3">
        <label>kdtree.h</label>
        <link refid="kdtree_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>cmath</label>
        <link refid="cpp/header/cmath" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml"/>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="particle__filter_8cpp_1a52744e83535cf750c44f9423da6fd05a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool compareSamples</definition>
        <argsstring>(const Sample &amp;a, const Sample &amp;b)</argsstring>
        <name>compareSamples</name>
        <param>
          <type>const <ref refid="structSample" kindref="compound">Sample</ref> &amp;</type>
          <declname>a</declname>
        </param>
        <param>
          <type>const <ref refid="structSample" kindref="compound">Sample</ref> &amp;</type>
          <declname>b</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/particle_filter.cpp" line="106" column="6" bodyfile="src/particle_filter.cpp" bodystart="106" bodyend="109"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="particle__filter_8h" kindref="compound">particle_filter.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="cpp/header/algorithm" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">algorithm</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="cpp/header/cmath" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">cmath</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;ros/console.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10" refid="classParticleFilter_1ac5aeadcc4bf1f9f6a459562813e5b45f" refkind="member"><highlight class="normal"><ref refid="classParticleFilter_1ac5aeadcc4bf1f9f6a459562813e5b45f" kindref="member">ParticleFilter::ParticleFilter</ref>()<sp/>:</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>min_samples_(0),</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/>max_samples_(0),</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>kld_err_(0),</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>kld_z_(0),</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_slow_(0),</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha_fast_(0),</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>w_slow_(0),</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>w_fast_(0),</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>i_current_(0),</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>kd_tree_(nullptr)</highlight></codeline>
<codeline lineno="21"><highlight class="normal">{</highlight></codeline>
<codeline lineno="22"><highlight class="normal">}</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="classParticleFilter_1ac1fa61bd8fb20df7bccd260a707cdd74" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1ac1fa61bd8fb20df7bccd260a707cdd74" kindref="member">ParticleFilter::configure</ref>(<ref refid="classtue_1_1config_1_1ReaderWriter" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::Configuration</ref><sp/>config)</highlight></codeline>
<codeline lineno="27"><highlight class="normal">{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Extra<sp/>variable<sp/>needed<sp/>as<sp/>tue::Configuration<sp/>doesn&apos;t<sp/>support</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>unisgned<sp/>interters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>min<sp/>=<sp/>0,<sp/>max<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;min_particles&quot;</highlight><highlight class="normal">,<sp/>min);</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;max_particles&quot;</highlight><highlight class="normal">,<sp/>max);</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a7a159f86b7a709729fe8c75a2b7eea43" kindref="member">min_samples_</ref><sp/>=<sp/>min;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref><sp/>=<sp/>max;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a8865c703445925c5bf1ff27a2687b2bd" kindref="member">kld_err_</ref><sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a014d147c3e39fceb2db7e63d57c541cc" kindref="member">kld_z_</ref><sp/>=<sp/>0.99;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;kld_err&quot;</highlight><highlight class="normal">,<sp/><ref refid="classParticleFilter_1a8865c703445925c5bf1ff27a2687b2bd" kindref="member">kld_err_</ref>,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;kld_z&quot;</highlight><highlight class="normal">,<sp/><ref refid="classParticleFilter_1a014d147c3e39fceb2db7e63d57c541cc" kindref="member">kld_z_</ref>,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1aedda487e37406836e1acff1e02507cbf" kindref="member">alpha_slow_</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1afb9660e59ae5a7a91b4c7770e10e16b0" kindref="member">alpha_fast_</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;recovery_alpha_slow&quot;</highlight><highlight class="normal">,<sp/><ref refid="classParticleFilter_1aedda487e37406836e1acff1e02507cbf" kindref="member">alpha_slow_</ref>,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;recovery_alpha_fast&quot;</highlight><highlight class="normal">,<sp/><ref refid="classParticleFilter_1afb9660e59ae5a7a91b4c7770e10e16b0" kindref="member">alpha_fast_</ref>,<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/array" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::array&lt;double, 3&gt;</ref><sp/>cell_size<sp/>=<sp/>{0.5,<sp/>0.5,<sp/>10*M_PI/180};</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;cell_size_x&quot;</highlight><highlight class="normal">,<sp/>cell_size[0],<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;cell_size_y&quot;</highlight><highlight class="normal">,<sp/>cell_size[1],<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sdf__gtest_8cpp_1a82a0ab7303cc394c32a028c9a6b2823c" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">config</ref>.<ref refid="classtue_1_1config_1_1ReaderWriter_1a6b49f39a05ada8016feb604bb2f801e8" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">value</ref>(</highlight><highlight class="stringliteral">&quot;cell_size_theta&quot;</highlight><highlight class="normal">,<sp/>cell_size[2],<sp/><ref refid="namespacetue_1_1config_1a1ad7ac2e22b2d2ecdbdab22fea6f8eeba4a665c52d925f41ad398fcca3a82f5cb" kindref="member" external="/home/docker/ros/noetic/system/build/docs/tue_config/tags">tue::config::OPTIONAL</ref>);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1adc94debed5faf52e2e9dd73a6b188cc6" kindref="member">samples_</ref>[0].<ref refid="cpp/container/vector/reserve" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">reserve</ref>(<ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1adc94debed5faf52e2e9dd73a6b188cc6" kindref="member">samples_</ref>[1].<ref refid="cpp/container/vector/reserve" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">reserve</ref>(<ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>.<ref refid="cpp/container/vector/reserve" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">reserve</ref>(<ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>);</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>.<ref refid="cpp/container/vector/clear" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">clear</ref>();</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>.<ref refid="cpp/container/vector/resize" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">resize</ref>(<ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>.<ref refid="cpp/memory/unique_ptr/reset" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">reset</ref>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classKDTree" kindref="compound">KDTree</ref>(<ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>,<sp/>cell_size));</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>ROS_INFO_STREAM_NAMED(</highlight><highlight class="stringliteral">&quot;Localization&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;min_samples:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="classParticleFilter_1a7a159f86b7a709729fe8c75a2b7eea43" kindref="member">min_samples_</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>max_samples:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;kld_err:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="classParticleFilter_1a8865c703445925c5bf1ff27a2687b2bd" kindref="member">kld_err_</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>kld_z:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="classParticleFilter_1a014d147c3e39fceb2db7e63d57c541cc" kindref="member">kld_z_</ref><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;recovery_alpha_slow:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="classParticleFilter_1aedda487e37406836e1acff1e02507cbf" kindref="member">alpha_slow_</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>recovery_alpha_fast:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="classParticleFilter_1afb9660e59ae5a7a91b4c7770e10e16b0" kindref="member">alpha_fast_</ref><sp/>&lt;&lt;<sp/><ref refid="cpp/io/manip/endl" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::endl</ref></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;cell_size_x:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>cell_size[0]<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>cell_size_y:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>cell_size[1]<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>cell_size_theta:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>cell_size[2]);</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69" refid="classParticleFilter_1a4f4ccdfa224f0a62c411230f7fb0cd65" refkind="member"><highlight class="normal"><ref refid="classParticleFilter_1a4f4ccdfa224f0a62c411230f7fb0cd65" kindref="member">ParticleFilter::~ParticleFilter</ref>()</highlight></codeline>
<codeline lineno="70"><highlight class="normal">{</highlight></codeline>
<codeline lineno="71"><highlight class="normal">}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="classParticleFilter_1a4284df30b6029aea71dbabb7385898a5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a4284df30b6029aea71dbabb7385898a5" kindref="member">ParticleFilter::initUniform</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classgeo_1_1Vec2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Vec2</ref>&amp;<sp/>min,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classgeo_1_1Vec2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Vec2</ref>&amp;<sp/>max,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>a_min,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>a_max)</highlight></codeline>
<codeline lineno="76"><highlight class="normal">{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a7316c377aa90c3eb6041f1d4bc4a39ed" kindref="member">clearCache</ref>();</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;</ref>&amp;<sp/>smpls<sp/>=<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>();</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>smpls.<ref refid="cpp/container/vector/clear" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">clear</ref>();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>range_x<sp/>=<sp/>max.x<sp/>-<sp/>min.x;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>range_y<sp/>=<sp/>max.y<sp/>-<sp/>min.y;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>range_yaw<sp/>=<sp/>a_max<sp/>-<sp/>a_min;</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>cbrt_samples<sp/>=<sp/>ceil(<ref refid="cpp/numeric/math/cbrt" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::cbrt</ref>(<ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>));</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>step_x<sp/>=<sp/>range_x<sp/>/<sp/>cbrt_samples;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>step_y<sp/>=<sp/>range_y<sp/>/<sp/>cbrt_samples;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>step_yaw<sp/>=<sp/>range_yaw<sp/>/<sp/>cbrt_samples;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>min.x;<sp/>x<sp/>&lt;<sp/>max.x;<sp/>x<sp/>+=<sp/>step_x)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>y<sp/>=<sp/>min.y;<sp/>y<sp/>&lt;<sp/>max.y;<sp/>y<sp/>+=<sp/>step_y)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref><sp/>=<sp/>a_min;<sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref><sp/>&lt;<sp/>a_max;<sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref><sp/>+=<sp/>step_yaw)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>smpls.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(<ref refid="structSample" kindref="compound">Sample</ref>(<ref refid="classgeo_1_1Transform2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Transform2</ref>(x,<sp/>y,<sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref>)));</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a1a9cbe3119a943ab6adcdfa9cc6a2afc" kindref="member">setUniformWeights</ref>();</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;clear();</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/>sample<sp/>:<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>())</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;insert(sample.pose,<sp/>sample.weight);</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="particle__filter_8cpp_1a52744e83535cf750c44f9423da6fd05a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="particle__filter_8cpp_1a52744e83535cf750c44f9423da6fd05a" kindref="member">compareSamples</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/>b)</highlight></codeline>
<codeline lineno="107"><highlight class="normal">{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="test__profiler_8cpp_1a2edadf23dba309e5902af6c6dc829482" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">a</ref>.weight<sp/>&gt;<sp/><ref refid="test__profiler_8cpp_1aef0e399324ca7f46e7d0725e80db0985" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">b</ref>.weight;</highlight></codeline>
<codeline lineno="109"><highlight class="normal">}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="classParticleFilter_1a75295e8300132ed3a6f8a7f9822a6460" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a75295e8300132ed3a6f8a7f9822a6460" kindref="member">ParticleFilter::resample</ref>(<ref refid="cpp/utility/functional/function" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::function</ref>&lt;<ref refid="classgeo_1_1Transform2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Transform2</ref>()&gt;<sp/>gen_random_pose_function)</highlight></codeline>
<codeline lineno="114"><highlight class="normal">{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;</ref>&amp;<sp/>old_samples<sp/>=<sp/><ref refid="classParticleFilter_1adc94debed5faf52e2e9dd73a6b188cc6" kindref="member">samples_</ref>[<ref refid="classParticleFilter_1ae68c6b0d2f546367dd27cf0f1cbcdaea" kindref="member">i_current_</ref>];</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;</ref>&amp;<sp/>new_samples<sp/>=<sp/><ref refid="classParticleFilter_1adc94debed5faf52e2e9dd73a6b188cc6" kindref="member">samples_</ref>[1<sp/>-<sp/><ref refid="classParticleFilter_1ae68c6b0d2f546367dd27cf0f1cbcdaea" kindref="member">i_current_</ref>];</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(old_samples.<ref refid="cpp/container/vector/empty" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">empty</ref>())</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Build<sp/>up<sp/>cumulative<sp/>probability<sp/>table<sp/>for<sp/>resampling.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>Replace<sp/>this<sp/>with<sp/>a<sp/>more<sp/>efficient<sp/>procedure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>(e.g.,<sp/>http://www.network-theory.co.uk/docs/gslref/GeneralDiscreteDistributions.html)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;double&gt;</ref><sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>.resize(old_samples.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>()<sp/>+<sp/>1,<sp/>0);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(uint<sp/>i=0;<sp/>i&lt;old_samples.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();<sp/>++i)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>[i+1]<sp/>=<sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>[i]+<sp/>old_samples[i].weight;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>w_diff<sp/>=<sp/>1<sp/>-<sp/><ref refid="classParticleFilter_1acf604077be3afa706b0eebbef845cbca" kindref="member">w_fast_</ref><sp/>/<sp/><ref refid="classParticleFilter_1a6c55e3e70cb73e5b91231d2c7667def2" kindref="member">w_slow_</ref>;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(w_diff<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w_diff<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>the<sp/>kd<sp/>tree<sp/>for<sp/>adaptive<sp/>sampling;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;clear();</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Draw<sp/>samples<sp/>from<sp/>set<sp/>a<sp/>to<sp/>create<sp/>set<sp/>b.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>new_samples.<ref refid="cpp/container/vector/clear" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">clear</ref>();</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(new_samples.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>()<sp/>&lt;<sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_samples.<ref refid="cpp/container/vector/push_back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">push_back</ref>(<ref refid="structSample" kindref="compound">Sample</ref>());</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/>new_sample<sp/>=<sp/>new_samples.<ref refid="cpp/container/vector/back" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">back</ref>();</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>r<sp/>=<sp/>drand48();</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(r<sp/>&lt;<sp/>w_diff)</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_sample.<ref refid="structSample_1aa232561d2fe012ddade6857f7a330f29" kindref="member">pose</ref><sp/>=<sp/>gen_random_pose_function();</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Naive<sp/>discrete<sp/>event<sp/>sampler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint<sp/>i=0;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(;<sp/>i&lt;old_samples.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();<sp/>++i)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>[i]<sp/>&lt;=<sp/>r)<sp/>&amp;&amp;<sp/>(r<sp/>&lt;<sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>[i+1]))</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>sample<sp/>to<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_sample.<ref refid="structSample_1aa232561d2fe012ddade6857f7a330f29" kindref="member">pose</ref><sp/>=<sp/><sp/>old_samples[i].pose;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_sample.<ref refid="structSample_1a8c57bdbdae516f125cc6bdfc915c1db6" kindref="member">weight</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>sample<sp/>to<sp/>histogram</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;insert(new_sample.<ref refid="structSample_1aa232561d2fe012ddade6857f7a330f29" kindref="member">pose</ref>,<sp/>new_sample.<ref refid="structSample_1a8c57bdbdae516f125cc6bdfc915c1db6" kindref="member">weight</ref>);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>See<sp/>if<sp/>we<sp/>have<sp/>enough<sp/>samples<sp/>yet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(new_samples.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>()<sp/>&gt;=<sp/><ref refid="classParticleFilter_1a01ccda9d498be20238722244442057a0" kindref="member">resampleLimit</ref>(<ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;getLeafCount()))</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a27e2e7c1ebc94f816a684bd03c8f9aa2" kindref="member">switchSamples</ref>();</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1ab41c3035432c84dad94b663dfd18510b" kindref="member">normalize</ref>();</highlight></codeline>
<codeline lineno="175"><highlight class="normal">}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179" refid="classParticleFilter_1a01ccda9d498be20238722244442057a0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a01ccda9d498be20238722244442057a0" kindref="member">ParticleFilter::resampleLimit</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>k)</highlight></codeline>
<codeline lineno="180"><highlight class="normal">{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>[k-1]<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>[k-1];</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(k<sp/>&lt;=<sp/>1)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>[k-1]<sp/>=<sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>double<sp/>a<sp/>=<sp/>1;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="test__profiler_8cpp_1aef0e399324ca7f46e7d0725e80db0985" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">b</ref><sp/>=<sp/>2<sp/>/<sp/>(9<sp/>*<sp/>(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(k<sp/>-<sp/>1)));</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref><sp/>=<sp/>sqrt(2<sp/>/<sp/>(9<sp/>*<sp/>(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(k<sp/>-<sp/>1))))<sp/>*<sp/><ref refid="classParticleFilter_1a014d147c3e39fceb2db7e63d57c541cc" kindref="member">kld_z_</ref>;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x<sp/>=<sp/>1<sp/>-<sp/><ref refid="test__profiler_8cpp_1aef0e399324ca7f46e7d0725e80db0985" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">b</ref><sp/>+<sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>;<sp/></highlight><highlight class="comment">//<sp/>x<sp/>=<sp/>a<sp/>-<sp/>b<sp/>+<sp/>c</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/><ref refid="cpp/numeric/math/ceil" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::ceil</ref>((k<sp/>-<sp/>1)<sp/>/<sp/>(2<sp/>*<sp/><ref refid="classParticleFilter_1a8865c703445925c5bf1ff27a2687b2bd" kindref="member">kld_err_</ref>)<sp/>*<sp/>x<sp/>*<sp/>x<sp/>*<sp/>x);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/><ref refid="classParticleFilter_1a7a159f86b7a709729fe8c75a2b7eea43" kindref="member">min_samples_</ref>)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>[k-1]<sp/>=<sp/><ref refid="classParticleFilter_1a7a159f86b7a709729fe8c75a2b7eea43" kindref="member">min_samples_</ref>;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a7a159f86b7a709729fe8c75a2b7eea43" kindref="member">min_samples_</ref>;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>&gt;<sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>)</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>[k-1]<sp/>=<sp/><ref refid="classParticleFilter_1a7a159f86b7a709729fe8c75a2b7eea43" kindref="member">min_samples_</ref>;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a599d2b44758276c8ffb7fdfc364e0227" kindref="member">max_samples_</ref>;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a577f4c371bf9c674d4ace19fc9a041f8" kindref="member">limit_cache_</ref>[k-1]<sp/>=<sp/>n;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="210"><highlight class="normal">}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214" refid="classParticleFilter_1a27ee63518df6a0b7d5b235a06d8f9973" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/><ref refid="classParticleFilter_1a27ee63518df6a0b7d5b235a06d8f9973" kindref="member">ParticleFilter::bestSample</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="215"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;</ref>&amp;<sp/>smpls<sp/>=<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>();</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>*<sp/>best_sample<sp/>=<sp/>&amp;smpls.<ref refid="cpp/container/vector/front" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">front</ref>();</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;::const_iterator</ref><sp/>it<sp/>=<sp/>smpls.<ref refid="cpp/container/vector/begin" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">begin</ref>();<sp/>it<sp/>!=<sp/>smpls.<ref refid="cpp/container/vector/end" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">end</ref>();<sp/>++it)</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/>s<sp/>=<sp/>*it;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(s.<ref refid="structSample_1a8c57bdbdae516f125cc6bdfc915c1db6" kindref="member">weight</ref><sp/>&gt;<sp/>best_sample-&gt;<ref refid="structSample_1a8c57bdbdae516f125cc6bdfc915c1db6" kindref="member">weight</ref>)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_sample<sp/>=<sp/>&amp;s;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*best_sample;</highlight></codeline>
<codeline lineno="227"><highlight class="normal">}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="classParticleFilter_1ad185d4b7fc1c54001363298077d1a7e7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Cluster&gt;</ref>&amp;<sp/><ref refid="classParticleFilter_1ad185d4b7fc1c54001363298077d1a7e7" kindref="member">ParticleFilter::clusters</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="232"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>.<ref refid="cpp/container/vector/empty" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">empty</ref>())</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1aed21db835451b2c2c4daa14285cf75da" kindref="member">computeClusterStats</ref>();</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>;</highlight></codeline>
<codeline lineno="237"><highlight class="normal">}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="classParticleFilter_1a55be392b2a262cb05ae6caab56199557" refkind="member"><highlight class="normal"><ref refid="classgeo_1_1Transform2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Transform2</ref><sp/><ref refid="classParticleFilter_1a55be392b2a262cb05ae6caab56199557" kindref="member">ParticleFilter::calculateMeanPose</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="242"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Cluster&gt;</ref>&amp;<sp/>clstrs<sp/>=<sp/><ref refid="classParticleFilter_1ad185d4b7fc1c54001363298077d1a7e7" kindref="member">clusters</ref>();</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classgeo_1_1Transform2T" kindref="compound" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Transform2</ref><sp/>mean(0,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>max_weight<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structCluster" kindref="compound">Cluster</ref>&amp;<sp/>cluster<sp/>:<sp/>clstrs)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cluster.weight<sp/>&gt;<sp/>max_weight)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mean<sp/>=<sp/>cluster.mean;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_weight<sp/>=<sp/>cluster.weight;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mean;</highlight></codeline>
<codeline lineno="258"><highlight class="normal">}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262" refid="classParticleFilter_1ab41c3035432c84dad94b663dfd18510b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1ab41c3035432c84dad94b663dfd18510b" kindref="member">ParticleFilter::normalize</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>update_filter)</highlight></codeline>
<codeline lineno="263"><highlight class="normal">{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;</ref>&amp;<sp/>smpls<sp/>=<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>();</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>total_weight<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;::iterator</ref><sp/>it<sp/>=<sp/>smpls.<ref refid="cpp/container/vector/begin" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">begin</ref>();<sp/>it<sp/>!=<sp/>smpls.<ref refid="cpp/container/vector/end" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">end</ref>();<sp/>++it)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total_weight<sp/>+=<sp/>it-&gt;weight;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>w_avg<sp/>=<sp/>total_weight<sp/>/<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>().<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(total_weight<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(update_filter)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>slow</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="classParticleFilter_1a6c55e3e70cb73e5b91231d2c7667def2" kindref="member">w_slow_</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a6c55e3e70cb73e5b91231d2c7667def2" kindref="member">w_slow_</ref><sp/>=<sp/>w_avg;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a6c55e3e70cb73e5b91231d2c7667def2" kindref="member">w_slow_</ref><sp/>+=<sp/><ref refid="classParticleFilter_1aedda487e37406836e1acff1e02507cbf" kindref="member">alpha_slow_</ref><sp/>*<sp/>(w_avg<sp/>-<sp/><ref refid="classParticleFilter_1a6c55e3e70cb73e5b91231d2c7667def2" kindref="member">w_slow_</ref>);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fast</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="classParticleFilter_1acf604077be3afa706b0eebbef845cbca" kindref="member">w_fast_</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1acf604077be3afa706b0eebbef845cbca" kindref="member">w_fast_</ref><sp/>=<sp/>w_avg;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1acf604077be3afa706b0eebbef845cbca" kindref="member">w_fast_</ref><sp/>+=<sp/><ref refid="classParticleFilter_1afb9660e59ae5a7a91b4c7770e10e16b0" kindref="member">alpha_fast_</ref><sp/>*<sp/>(w_avg<sp/>-<sp/><ref refid="classParticleFilter_1acf604077be3afa706b0eebbef845cbca" kindref="member">w_fast_</ref>);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;::iterator</ref><sp/>it<sp/>=<sp/>smpls.<ref refid="cpp/container/vector/begin" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">begin</ref>();<sp/>it<sp/>!=<sp/>smpls.<ref refid="cpp/container/vector/end" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">end</ref>();<sp/>++it)</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it-&gt;weight<sp/>/=<sp/>total_weight;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a1a9cbe3119a943ab6adcdfa9cc6a2afc" kindref="member">setUniformWeights</ref>();</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal">}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300" refid="classParticleFilter_1aed21db835451b2c2c4daa14285cf75da" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1aed21db835451b2c2c4daa14285cf75da" kindref="member">ParticleFilter::computeClusterStats</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="301"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cluster<sp/>the<sp/>samples</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;cluster();</highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>overall<sp/>filter<sp/>stats</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>weight<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Workspace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/array" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::array&lt;double, 4&gt;</ref><sp/>m{<sp/>{0,<sp/>0,<sp/>0,<sp/>0}<sp/>};</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="cpp/container/array" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::array&lt;std::array&lt;double, 2&gt;</ref>,<sp/>2&gt;<sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>{<sp/>{{0,<sp/>0},<sp/>{0,<sp/>0}}<sp/>};</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>cluster<sp/>stats</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structSample" kindref="compound">Sample</ref>&amp;<sp/>sample<sp/>:<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>())</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>cluster<sp/>label<sp/>for<sp/>this<sp/>sample</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cidx<sp/>=<sp/><ref refid="classParticleFilter_1a2c5febf17f906712356fbcb0f87965a8" kindref="member">kd_tree_</ref>-&gt;getCluster(sample.pose);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cidx<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(cidx<sp/>+<sp/>1)<sp/>&gt;<sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>.<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>())</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>.<ref refid="cpp/container/vector/resize" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">resize</ref>(cidx<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structCluster" kindref="compound">Cluster</ref>&amp;<sp/>cluster<sp/>=<sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>[cidx];</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1ae7ba69ebc6bf3b89f536ec1d5ffda482" kindref="member">count</ref><sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1a22df3e9ab205da02e17b28244d897ae7" kindref="member">weight</ref><sp/>+=<sp/>sample.weight;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight<sp/>+=<sp/>sample.weight;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>mean</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[0]<sp/>+=<sp/>sample.weight<sp/>*<sp/>sample.pose.t.x;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[1]<sp/>+=<sp/>sample.weight<sp/>*<sp/>sample.pose.t.y;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[2]<sp/>+=<sp/>sample.weight<sp/>*<sp/>cos(sample.pose.rotation());</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[3]<sp/>+=<sp/>sample.weight<sp/>*<sp/>sin(sample.pose.rotation());</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m[0]<sp/>+=<sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[0];</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m[1]<sp/>+=<sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[1];</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m[2]<sp/>+=<sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[2];</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m[3]<sp/>+=<sp/>cluster.<ref refid="structCluster_1ae51aa23fac967fc938d0740cd5f4a975" kindref="member">m</ref>[3];</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>covariance<sp/>in<sp/>linear<sp/>components</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j&lt;2;<sp/>++j)</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>k=0;<sp/>k&lt;2;<sp/>++k)</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.<ref refid="structCluster_1a7889f7e1178431948fa22b71023c1f48" kindref="member">c</ref>[j][k]<sp/>+=<sp/>sample.weight<sp/>*<sp/>sample.pose.t.m[j]<sp/>*<sp/>sample.pose.t.m[k];</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>[j][k]<sp/>+=<sp/>cluster.<ref refid="structCluster_1a7889f7e1178431948fa22b71023c1f48" kindref="member">c</ref>[j][k];</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Normalize</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="structCluster" kindref="compound">Cluster</ref>&amp;<sp/>cluster<sp/>:<sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>)</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.mean.t.x<sp/>=<sp/>cluster.m[0]<sp/>/<sp/>cluster.weight;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.mean.t.y<sp/>=<sp/>cluster.m[1]<sp/>/<sp/>cluster.weight;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.mean.setRotation(atan2(cluster.m[3],<sp/>cluster.m[2]));</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Covariance<sp/>in<sp/>linear<sp/>components</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j&lt;2;<sp/>++j)</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>k=0;<sp/>k&lt;2;<sp/>++k)</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.cov.m[j<sp/>*<sp/>3<sp/>+<sp/>k]<sp/>=<sp/>cluster.c[j][k]<sp/>/<sp/>cluster.weight<sp/>-<sp/>cluster.mean.t.m[j]<sp/>*<sp/>cluster.mean.t.m[k];</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Covariance<sp/>in<sp/>angular<sp/>components</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cluster.cov.m[8]<sp/>=<sp/>-2<sp/>*<sp/>log(sqrt(cluster.m[2]<sp/>*<sp/>cluster.m[2]<sp/>+<sp/>cluster.m[3]<sp/>*<sp/>cluster.m[3]));</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Compute<sp/>overall<sp/>filter<sp/>stats</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a1b26740ac516480faf296daed36f8f46" kindref="member">mean_cache_</ref>.<ref refid="classgeo_1_1Transform2T_1aed7a26b999f43c9186efe8991823bf13" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec2T_1a476c2f7cacbf6b233746ab18f2a87c54" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">x</ref><sp/>=<sp/>m[0]<sp/>/<sp/>weight;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a1b26740ac516480faf296daed36f8f46" kindref="member">mean_cache_</ref>.<ref refid="classgeo_1_1Transform2T_1aed7a26b999f43c9186efe8991823bf13" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec2T_1a506e3148ad901feea9e7658a4d35fe8b" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">y</ref><sp/>=<sp/>m[1]<sp/>/<sp/>weight;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a1b26740ac516480faf296daed36f8f46" kindref="member">mean_cache_</ref>.<ref refid="classgeo_1_1Transform2T_1aa36300150db55b0e8032e3e86ab549b7" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">setRotation</ref>(atan2(m[3],<sp/>m[2]));</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Covariance<sp/>in<sp/>linear<sp/>components</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j&lt;2;<sp/>++j)</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>k=0;<sp/>k&lt;2;<sp/>++k)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1ad690601637df811ea431aadf1e5d05fe" kindref="member">cov_cache_</ref>.<ref refid="classgeo_1_1Mat3T_1abb52ed8d4fa43d59a583fa202498c4a6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">m</ref>[j<sp/>*<sp/>3<sp/>+<sp/>k]<sp/>=<sp/><ref refid="test__profiler_8cpp_1acfb0b2932bdc838461b776576cf85c50" kindref="member" external="/home/docker/ros/noetic/system/build/docs/code_profiler/tags">c</ref>[j][k]<sp/>/<sp/>weight<sp/>-<sp/><ref refid="classParticleFilter_1a1b26740ac516480faf296daed36f8f46" kindref="member">mean_cache_</ref>.<ref refid="classgeo_1_1Transform2T_1aed7a26b999f43c9186efe8991823bf13" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec2T_1a358b88eda6f1f05199b57df177a9396e" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">m</ref>[j]<sp/>*<sp/><ref refid="classParticleFilter_1a1b26740ac516480faf296daed36f8f46" kindref="member">mean_cache_</ref>.<ref refid="classgeo_1_1Transform2T_1aed7a26b999f43c9186efe8991823bf13" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">t</ref>.<ref refid="classgeo_1_1Vec2T_1a358b88eda6f1f05199b57df177a9396e" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">m</ref>[k];</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Covariance<sp/>in<sp/>angular<sp/>components</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1ad690601637df811ea431aadf1e5d05fe" kindref="member">cov_cache_</ref>.<ref refid="classgeo_1_1Mat3T_1abb52ed8d4fa43d59a583fa202498c4a6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">m</ref>[8]<sp/>=<sp/>-2<sp/>*<sp/>log(sqrt(m[2]<sp/>*<sp/>m[2]<sp/>+<sp/>m[3]<sp/>*<sp/>m[3]));</highlight></codeline>
<codeline lineno="380"><highlight class="normal">}</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="classParticleFilter_1a7316c377aa90c3eb6041f1d4bc4a39ed" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a7316c377aa90c3eb6041f1d4bc4a39ed" kindref="member">ParticleFilter::clearCache</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="385"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a5ea512272cda87f788facb330a735e45" kindref="member">cluster_cache_</ref>.<ref refid="cpp/container/vector/clear" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">clear</ref>();</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a1b26740ac516480faf296daed36f8f46" kindref="member">mean_cache_</ref><sp/>=<sp/><ref refid="classgeo_1_1Transform2T_1adffa0220c50793d90669471c0f4d3bd6" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Transform2::identity</ref>();</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1ad690601637df811ea431aadf1e5d05fe" kindref="member">cov_cache_</ref><sp/>=<sp/><ref refid="classgeo_1_1Mat3T_1a10a91cb044e48cff751959d695b0c046" kindref="member" external="/home/docker/ros/noetic/system/build/docs/geolib2/tags">geo::Mat3::identity</ref>();</highlight></codeline>
<codeline lineno="389"><highlight class="normal">}</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393" refid="classParticleFilter_1a27e2e7c1ebc94f816a684bd03c8f9aa2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a27e2e7c1ebc94f816a684bd03c8f9aa2" kindref="member">ParticleFilter::switchSamples</ref>()</highlight></codeline>
<codeline lineno="394"><highlight class="normal">{</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1a7316c377aa90c3eb6041f1d4bc4a39ed" kindref="member">clearCache</ref>();</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classParticleFilter_1ae68c6b0d2f546367dd27cf0f1cbcdaea" kindref="member">i_current_</ref><sp/>=<sp/>1<sp/>-<sp/><ref refid="classParticleFilter_1ae68c6b0d2f546367dd27cf0f1cbcdaea" kindref="member">i_current_</ref>;</highlight></codeline>
<codeline lineno="397"><highlight class="normal">}</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401" refid="classParticleFilter_1a1a9cbe3119a943ab6adcdfa9cc6a2afc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classParticleFilter_1a1a9cbe3119a943ab6adcdfa9cc6a2afc" kindref="member">ParticleFilter::setUniformWeights</ref>()</highlight></codeline>
<codeline lineno="402"><highlight class="normal">{</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>uni_weight<sp/>=<sp/>1.0<sp/>/<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>().<ref refid="cpp/container/vector/size" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">size</ref>();</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<ref refid="cpp/container/vector" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">std::vector&lt;Sample&gt;::iterator</ref><sp/>it<sp/>=<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>().begin();<sp/>it<sp/>!=<sp/><ref refid="classParticleFilter_1a8be684d1455f22a4a46149a222ccec8e" kindref="member">samples</ref>().<ref refid="cpp/container/vector/end" kindref="compound" external="/home/docker/.local/lib/python3.8/site-packages/catkin_tools_document/external/cppreference-doxygen-web.tag.xml">end</ref>();<sp/>++it)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it-&gt;weight<sp/>=<sp/>uni_weight;</highlight></codeline>
<codeline lineno="406"><highlight class="normal">}</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="src/particle_filter.cpp"/>
  </compounddef>
</doxygen>
