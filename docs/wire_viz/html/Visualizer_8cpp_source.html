<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wire_viz: Visualizer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wire_viz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Visualizer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Visualizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Visualizer.cpp</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: May 8, 2012</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: sdries</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Visualizer_8h.html">Visualizer.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="default__values_8h.html">default_values.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using namespace </span><a class="codeRef" href="https://en.cppreference.com/w/namespacestd.html">std</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="classVisualizer.html#a104487003c9fea602e26c072aae27efc">   13</a></span>&#160;<a class="code" href="classVisualizer.html#a104487003c9fea602e26c072aae27efc">Visualizer::Visualizer</a>() : tf_listener_(0) {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;red&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,0,0);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;green&quot;</span>] = <a class="code" href="structColor.html">Color</a>(0,1,0);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;blue&quot;</span>] = <a class="code" href="structColor.html">Color</a>(0,0,1);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;white&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,1,1);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;black&quot;</span>] = <a class="code" href="structColor.html">Color</a>(0,0,0);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;orange&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,0.65,0);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;pink&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,0.08,0.58);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;gold&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,0.84,0);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;grey&quot;</span>] = <a class="code" href="structColor.html">Color</a>(0.41,0.41,0.41);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;gray&quot;</span>] = <a class="code" href="structColor.html">Color</a>(0.41,0.41,0.41);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;cyan&quot;</span>] = <a class="code" href="structColor.html">Color</a>(0,1,1);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;yellow&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,1,0);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[<span class="stringliteral">&quot;magenta&quot;</span>] = <a class="code" href="structColor.html">Color</a>(1,0,1);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classVisualizer.html#a013ec3101407fbe4805f289bc32d1265">   31</a></span>&#160;<a class="code" href="classVisualizer.html#a013ec3101407fbe4805f289bc32d1265">Visualizer::~Visualizer</a>() {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * Function that creates markers</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classVisualizer.html#a84d7c575eb5dd4c62a0bc24f99a7eaf6">   38</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classVisualizer.html#a84d7c575eb5dd4c62a0bc24f99a7eaf6">Visualizer::createMarkers</a>(<span class="keyword">const</span> std_msgs::Header&amp; header, <span class="keywordtype">long</span> ID,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">vector&lt;wire_msgs::Property&gt;</a>&amp; props,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">vector&lt;visualization_msgs::Marker&gt;</a>&amp; markers_out,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; frame_id = <span class="stringliteral">&quot;&quot;</span> ) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="comment">// Pose according to evidence</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        tf::Stamped&lt;tf::Pose&gt; ev_pose;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        ev_pose.setRotation(tf::Quaternion(0, 0, 0, 1));</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        ev_pose.frame_id_ = header.frame_id;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        ev_pose.stamp_ = ros::Time();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="comment">// Store class label and marker text</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordtype">string</span> marker_text = <span class="stringliteral">&quot;&quot;</span>, class_label = <span class="stringliteral">&quot;&quot;</span>, color = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="comment">// Variances</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordtype">double</span> cov_xx = 0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordtype">double</span> cov_yy = 0;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordtype">double</span> cov_zz = 0;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="comment">// Iterate over all the propoerties</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordtype">bool</span> pos_found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">for</span> (<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector.html">vector&lt;wire_msgs::Property&gt;::const_iterator</a> it_prop = props.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/begin.html">begin</a>(); it_prop != props.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/end.html">end</a>(); ++it_prop) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html">pbl::PDF</a>* pdf = <a class="codeRef" href="../../problib/html/namespacepbl.html#add0e4e7594300cd53e837e20e5549fa4">pbl::msgToPDF</a>(it_prop-&gt;pdf);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="comment">// Position</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">if</span> (it_prop-&gt;attribute == <span class="stringliteral">&quot;position&quot;</span>) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                        <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html">pbl::Gaussian</a>* gauss = <a class="code" href="classVisualizer.html#aef7047d885e4ebcdaf28ad176717f657">getBestGaussian</a>(*pdf);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        <span class="keywordflow">if</span> (gauss) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/namespacepbl.html#ad482b8fd5913dda4f195b54fb1451d4e">pbl::Vector</a>&amp; mean = gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html#a2f26a0259dee3c92d0e0a1833e5f51f6">getMean</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                cov_xx = gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html#a7ea75ec90ec7e9026bb3265bd916ed93">getCovariance</a>()(0, 0);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                cov_yy = gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html#a7ea75ec90ec7e9026bb3265bd916ed93">getCovariance</a>()(1, 1);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                cov_zz = gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html#a7ea75ec90ec7e9026bb3265bd916ed93">getCovariance</a>()(2, 2);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                <span class="keywordflow">if</span> (gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#ac9ff7596aef72e859b72cd10cc97856e">dimensions</a>() == 2) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                        ev_pose.setOrigin(tf::Point(mean(0), mean(1), 0));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                        pos_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#ac9ff7596aef72e859b72cd10cc97856e">dimensions</a>() == 3) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                        pos_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                        ev_pose.setOrigin(tf::Point(mean(0), mean(1), mean(2)));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                        ROS_WARN(<span class="stringliteral">&quot;World evidence: position attribute has %d dimensions, Visualizer cannot deal with this.&quot;</span>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                        gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#ac9ff7596aef72e859b72cd10cc97856e">dimensions</a>());</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="comment">// Orientation</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it_prop-&gt;attribute == <span class="stringliteral">&quot;orientation&quot;</span>) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        <span class="keywordflow">if</span> (pdf-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#ac9ff7596aef72e859b72cd10cc97856e">dimensions</a>() == 4) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html">pbl::Gaussian</a>* gauss = <a class="code" href="classVisualizer.html#aef7047d885e4ebcdaf28ad176717f657">getBestGaussian</a>(*pdf);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                <span class="keywordflow">if</span> (gauss) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                        <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/namespacepbl.html#ad482b8fd5913dda4f195b54fb1451d4e">pbl::Vector</a>&amp; mean = gauss-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html#a2f26a0259dee3c92d0e0a1833e5f51f6">getMean</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                        ev_pose.setRotation(tf::Quaternion(mean(0), mean(1), mean(2), mean(3)));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                ROS_WARN(<span class="stringliteral">&quot;Orientation attribute has %d dimensions, must be 4 (X Y Z W).&quot;</span>, pdf-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#ac9ff7596aef72e859b72cd10cc97856e">dimensions</a>());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                        }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="comment">// Class label</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it_prop-&gt;attribute == <span class="stringliteral">&quot;class_label&quot;</span>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                        pdf-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#aa7a2f5f2fb44600508e42a981fdb05a8">getExpectedValue</a>(class_label);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="comment">// Color</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it_prop-&gt;attribute == <span class="stringliteral">&quot;color&quot;</span>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                        pdf-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#aa7a2f5f2fb44600508e42a981fdb05a8">getExpectedValue</a>(color);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="comment">// Check if the current property represents an attribute that has to be added to the text label</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">for</span> (<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map.html">map&lt;string,bool&gt;::const_iterator</a> it = <a class="code" href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">attribute_map_</a>.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map/begin.html">begin</a>(); it != <a class="code" href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">attribute_map_</a>.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map/end.html">end</a>(); ++it) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                        <span class="keywordflow">if</span> (it_prop-&gt;attribute == it-&gt;first &amp;&amp; it-&gt;second) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                <span class="keywordtype">string</span> txt = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                <span class="comment">// Only consider pmfs otherwise the getExpectedValue function fails</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                <span class="keywordflow">if</span> (pdf-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#a011b1bd8e470e856b50090de57119407">type</a>() == <a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#aba652e46f5290da9745994cac0e78379aaf7cb21250734802ba35de4fba678fa7">pbl::PDF::DISCRETE</a>) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                        pdf-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#aa7a2f5f2fb44600508e42a981fdb05a8">getExpectedValue</a>(txt);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                        <span class="comment">// If marker text not empty add &#39;,&#39; for ease of reading</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                        <span class="keywordflow">if</span> (marker_text != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                                txt = <span class="stringliteral">&quot;, &quot;</span> + txt;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                        }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                        marker_text += txt;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keyword">delete</span> pdf;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        } <span class="comment">// End iterate over properties</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="comment">// A position is always needed</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> (!pos_found) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">// Default marker must be defined</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        ROS_ASSERT(<a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.find(<span class="stringliteral">&quot;default&quot;</span>) != <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.end());</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="comment">// Create markers belonging to the objects class</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordtype">string</span> map_key = <span class="stringliteral">&quot;default&quot;</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        visualization_msgs::Marker marker;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        visualization_msgs::Marker text_marker;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.find(class_label) != <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.end()) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                map_key = class_label;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        marker = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[map_key].shape_marker;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        text_marker = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[map_key].text_marker;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">// If the object has a color, use color of the object as marker color</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (color != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map/find.html">find</a>(color) != <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map/end.html">end</a>()) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                marker.color.r = <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[color].r;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                marker.color.g = <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[color].g;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                marker.color.b = <a class="code" href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">color_mapping_</a>[color].b;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="comment">// Transform to frame</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        tf::Stamped&lt;tf::Pose&gt; ev_pose_TRANSFORMED;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (frame_id != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; <a class="code" href="classVisualizer.html#a97fd9b269d9aeb040d3a627ed0202439">tf_listener_</a> != 0) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        <a class="code" href="classVisualizer.html#a97fd9b269d9aeb040d3a627ed0202439">tf_listener_</a>-&gt;transformPose(frame_id, ev_pose, ev_pose_TRANSFORMED);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        marker.header.frame_id = frame_id;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        text_marker.header.frame_id = frame_id;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                } <span class="keywordflow">catch</span> (tf::TransformException ex){</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        ROS_ERROR(<span class="stringliteral">&quot;[VISUALIZER] %s&quot;</span>,ex.what());</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        ev_pose_TRANSFORMED = ev_pose;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        marker.header.frame_id = header.frame_id;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        text_marker.header.frame_id = header.frame_id;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                ev_pose_TRANSFORMED = ev_pose;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                marker.header.frame_id = header.frame_id;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                text_marker.header.frame_id = header.frame_id;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">// Update shape marker position to transformed position and add marker to array</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        marker.pose.position.x = ev_pose_TRANSFORMED.getOrigin().getX();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        marker.pose.position.y = ev_pose_TRANSFORMED.getOrigin().getY();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        marker.pose.position.z = ev_pose_TRANSFORMED.getOrigin().getZ();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        marker.header.stamp = header.stamp;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        marker.id = 3 * ID;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        markers_out.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(marker);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// Only if text must be shown</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[map_key].show_text) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <span class="comment">// Update text marker and add to array</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                text_marker.pose.position.x += ev_pose_TRANSFORMED.getOrigin().getX();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                text_marker.pose.position.y += ev_pose_TRANSFORMED.getOrigin().getY();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                text_marker.pose.position.z += ev_pose_TRANSFORMED.getOrigin().getZ();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                text_marker.header.stamp = header.stamp;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                text_marker.id = 3 * ID + 1;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="comment">// Add ID separately since this not necessarily is an attribute</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">attribute_map_</a>.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map/find.html">find</a>(<span class="stringliteral">&quot;ID&quot;</span>) != <a class="code" href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">attribute_map_</a>.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map/end.html">end</a>() &amp;&amp; <a class="code" href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">attribute_map_</a>[<span class="stringliteral">&quot;ID&quot;</span>]) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/basic_stringstream.html">stringstream</a> ss;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        ss &lt;&lt; ID;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <span class="keywordtype">string</span> id_text = <span class="stringliteral">&quot; (&quot;</span> + ss.<a class="codeRef" href="https://en.cppreference.com/w/cpp/io/basic_stringstream/str.html">str</a>() + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        marker_text += id_text;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="comment">// Set the text label and add the marker</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                text_marker.text = marker_text;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                markers_out.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(text_marker);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// Covariance marker</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[map_key].show_cov) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                visualization_msgs::Marker cov_marker = marker;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                cov_marker.color.a *= 0.5;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                cov_marker.scale.x *= (1 + <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/math/sqrt.html">sqrt</a>(cov_xx) * 3);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                cov_marker.scale.y *= (1 + <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/math/sqrt.html">sqrt</a>(cov_yy) * 3);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                cov_marker.scale.z *= (1 + <a class="codeRef" href="https://en.cppreference.com/w/cpp/numeric/math/sqrt.html">sqrt</a>(cov_zz) * 3);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                cov_marker.id = 3 * ID + 2;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                markers_out.<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">push_back</a>(cov_marker);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * Set the tf listener</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classVisualizer.html#af3ee1b355ed0cdff3339e2fd9adfd488">  220</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classVisualizer.html#af3ee1b355ed0cdff3339e2fd9adfd488">Visualizer::setTFListener</a>(tf::TransformListener* tf_listener) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="classVisualizer.html#a97fd9b269d9aeb040d3a627ed0202439">tf_listener_</a> = tf_listener;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> * Get the most probable Gaussian from a pdf</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classVisualizer.html#aef7047d885e4ebcdaf28ad176717f657">  227</a></span>&#160;<span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html">pbl::Gaussian</a>* <a class="code" href="classVisualizer.html#aef7047d885e4ebcdaf28ad176717f657">Visualizer::getBestGaussian</a>(<span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html">pbl::PDF</a>&amp; pdf, <span class="keywordtype">double</span> min_weight) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (pdf.<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#a011b1bd8e470e856b50090de57119407">type</a>() == <a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#aba652e46f5290da9745994cac0e78379a3c5de1fefb7fa1587270306a0d8dadda">pbl::PDF::GAUSSIAN</a>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">return</span> <a class="codeRef" href="../../problib/html/namespacepbl.html#a838425c78a7dc7178e51e65feaa6b953">pbl::PDFtoGaussian</a>(pdf);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pdf.<a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#a011b1bd8e470e856b50090de57119407">type</a>() == <a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html#aba652e46f5290da9745994cac0e78379a73961eab1e18e0293800c9f9f8c9dec7">pbl::PDF::MIXTURE</a>) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1Mixture.html">pbl::Mixture</a>* mix = <a class="codeRef" href="../../problib/html/namespacepbl.html#a1bc05bc1a29666ecc3950bf0aaf6549b">pbl::PDFtoMixture</a>(pdf);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keywordflow">if</span> (mix){</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html">pbl::Gaussian</a>* G_best = 0;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        <span class="keywordtype">double</span> w_best = min_weight;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; mix-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Mixture.html#a56b1e055fd75747401d5c19321219676">components</a>(); ++i) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1PDF.html">pbl::PDF</a>&amp; pdf = mix-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Mixture.html#a33fa19a784936e5b0e9e8f3143d97d32">getComponent</a>(i);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                <span class="keyword">const</span> <a class="codeRef" href="../../problib/html/classpbl_1_1Gaussian.html">pbl::Gaussian</a>* G = <a class="codeRef" href="../../problib/html/namespacepbl.html#a838425c78a7dc7178e51e65feaa6b953">pbl::PDFtoGaussian</a>(pdf);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                <span class="keywordtype">double</span> w = mix-&gt;<a class="codeRef" href="../../problib/html/classpbl_1_1Mixture.html#a487a0607965f1fa0f35f8fbd2357c458">getWeight</a>(i);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                <span class="keywordflow">if</span> (G &amp;&amp; w &gt; w_best) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                        G_best = G;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                        w_best = w;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        <span class="keywordflow">return</span> G_best;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"> * Get double</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classVisualizer.html#a13daaea5933a1b93146bb8601514be15">  256</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">Visualizer::getStructValue</a>(XmlRpc::XmlRpcValue&amp; s, <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; name, <span class="keywordtype">double</span>&amp; d, <span class="keywordtype">double</span> default_value) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        XmlRpc::XmlRpcValue&amp; v = s[name];</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span> (v.getType() == XmlRpc::XmlRpcValue::TypeDouble) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                d = (double)v;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">if</span> (v.getType() == XmlRpc::XmlRpcValue::TypeInt) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                d = (int)v;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        d = default_value;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"> * Get float</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">  275</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">Visualizer::getStructValue</a>(XmlRpc::XmlRpcValue&amp; s, <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; name, <span class="keywordtype">float</span>&amp; f, <span class="keywordtype">float</span> default_value) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordtype">double</span> d;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(s, name, d, default_value);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        f = (float)d;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> * Get bool</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classVisualizer.html#aec541bdfe8a4cf8fd020bef4d0d8933e">  284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">Visualizer::getStructValue</a>(XmlRpc::XmlRpcValue&amp; s, <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; name, <span class="keywordtype">bool</span>&amp; b, <span class="keywordtype">bool</span> default_value) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        XmlRpc::XmlRpcValue&amp; v = s[name];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> (v.getType() == XmlRpc::XmlRpcValue::TypeBoolean) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                b = (bool)v;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        b = default_value;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"> * Get string</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="classVisualizer.html#afc7bce9aac2360e3e17f151c9aa1e77a">  298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">Visualizer::getStructValue</a>(XmlRpc::XmlRpcValue&amp; s, <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; name, <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; str, <span class="keyword">const</span> <a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>&amp; default_value) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        XmlRpc::XmlRpcValue&amp; v = s[name];</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (v.getType() == XmlRpc::XmlRpcValue::TypeString) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                str = (<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>)v;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        str = default_value;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classVisualizer.html#adc12e1fd124cd1e4ecefecad1428a3c8">  310</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classVisualizer.html#adc12e1fd124cd1e4ecefecad1428a3c8">Visualizer::setParameters</a>(ros::NodeHandle&amp; n, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; ns) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordtype">bool</span> param = <span class="keyword">false</span>, att = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        param = <a class="code" href="classVisualizer.html#a401d5c5a6900476f5a30b75365f5ba1b">getMarkerParameters</a>(n, ns);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        att = <a class="code" href="classVisualizer.html#ab01f699048a586a9b3419738411e236a">getAttributeSettings</a>(n, ns);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">return</span> (param &amp;&amp; att);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * Get marker parameters from parameter servers</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classVisualizer.html#a401d5c5a6900476f5a30b75365f5ba1b">  324</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classVisualizer.html#a401d5c5a6900476f5a30b75365f5ba1b">Visualizer::getMarkerParameters</a>(ros::NodeHandle&amp; n, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; ns) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">// Get marker parameters from the parameter server</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        XmlRpc::XmlRpcValue marker_params;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span> (!n.getParam(ns, marker_params)) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                ROS_ERROR(<span class="stringliteral">&quot;No global marker parameters given. (namespace: %s)&quot;</span>, n.getNamespace().c_str());</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// Check if the marker parameters are of type array</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (marker_params.getType() != XmlRpc::XmlRpcValue::TypeArray) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                ROS_ERROR(<span class="stringliteral">&quot;Malformed marker parameter specification.  (namespace: %s)&quot;</span>, n.getNamespace().c_str());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="comment">// Iterate over the marker parameters in array</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; marker_params.size(); ++i) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="comment">// Get current value</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                XmlRpc::XmlRpcValue&amp; v = marker_params[i];</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="comment">// Check type</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">if</span> (v.getType() == XmlRpc::XmlRpcValue::TypeStruct) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        <span class="comment">// Get class</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                        <span class="keywordtype">string</span> class_name = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                        <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;class&quot;</span>, class_name, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        <span class="comment">// If no class defined, no marker can be added</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        <span class="keywordflow">if</span> (class_name == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                ROS_WARN(<span class="stringliteral">&quot;No class defined, skipping parameters&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        <span class="comment">// The first class must be default, since the default marker defines values that are not defined</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==0 &amp;&amp; class_name != <span class="stringliteral">&quot;default&quot;</span>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                ROS_ERROR(<span class="stringliteral">&quot;Make sure to first specify default in YAML file&quot;</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        <span class="comment">// Add the default marker</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==0 &amp;&amp; class_name == <span class="stringliteral">&quot;default&quot;</span>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                <span class="comment">// Get al properties</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                <a class="code" href="structVisualizer_1_1MarkerInfo.html">MarkerInfo</a>&amp; m = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[class_name];</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.action = visualization_msgs::Marker::ADD;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.ns = ns;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;show_text&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#a5135ad625672009d7ba122fb891492c5">show_text</a>, <a class="code" href="namespacevisualize.html#a7b9934a092e2644b10d992843606176a">visualize::DEFAULT_SHOW_TEXT</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;show_cov&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#aa521c5fcd0b1f4a89dc9dc1d9398b696">show_cov</a>, <a class="code" href="namespacevisualize.html#a29919fd20966f9e3555d3c5a87b4b64f">visualize::DEFAULT_SHOW_COV</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;r&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.r, <a class="code" href="namespacevisualize.html#afa45fd14b797d492308a8747dd175dd4">visualize::DEFAULT_COLOR_R</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;g&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.g, <a class="code" href="namespacevisualize.html#ad50eba57b5983d7f5e1187f31b2a2914">visualize::DEFAULT_COLOR_G</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;b&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.b, <a class="code" href="namespacevisualize.html#a0a0f83ea9ee038fe4d77a241571f53c2">visualize::DEFAULT_COLOR_B</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;alpha&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.a, <a class="code" href="namespacevisualize.html#a8e2e93e95d0133cbc45a10f6e58dd466">visualize::DEFAULT_COLOR_ALPHA</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;scale_x&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.scale.x, <a class="code" href="namespacevisualize.html#ae5c0bf7064104f2217e02d23f8cb1a00">visualize::DEFAULT_SCALE_X</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;scale_y&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.scale.y, <a class="code" href="namespacevisualize.html#af4172ac11babfb086279cbb33234a137">visualize::DEFAULT_SCALE_Y</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;scale_z&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.scale.z, <a class="code" href="namespacevisualize.html#a60a52c49aac95ecaa38a9b52240747b6">visualize::DEFAULT_SCALE_Z</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_x_pos&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.position.x, <a class="code" href="namespacevisualize.html#af2ebcb096bea3b3f17d1ba0d451c4cd7">visualize::DEFAULT_OFFSET_X_POS</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_y_pos&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.position.y, <a class="code" href="namespacevisualize.html#a859de754d785aef256d77f655ebe4a8e">visualize::DEFAULT_OFFSET_Y_POS</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_z_pos&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.position.z, <a class="code" href="namespacevisualize.html#a226e4fcff16ea1f8d9ec2c493125ab7c">visualize::DEFAULT_OFFSET_Z_POS</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_x_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.x, <a class="code" href="namespacevisualize.html#a58018d0a1e1a3ce802798fa08a7c795f">visualize::DEFAULT_OFFSET_X_ROT</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_y_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.y, <a class="code" href="namespacevisualize.html#a45e128998732549141485753a69c92a8">visualize::DEFAULT_OFFSET_Y_ROT</a>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_z_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.z, <a class="code" href="namespacevisualize.html#adc0e08b33c2294120e9622118093500f">visualize::DEFAULT_OFFSET_Z_ROT</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_w_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.w, <a class="code" href="namespacevisualize.html#a7e7b0aad2a5ed4de4390dece00deca48">visualize::DEFAULT_OFFSET_W_ROT</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;mesh_resource&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.mesh_resource, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                <span class="keywordtype">double</span> duration = 0;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;duration&quot;</span>, duration, <a class="code" href="namespacevisualize.html#a95dcd2c1ac5cc7ff045572b31e06afc0">visualize::DEFAULT_MARKER_LIFETIME</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.lifetime = ros::Duration(duration);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#a98db978e201a6a7ae513c90fd63925d7">text_marker</a>.lifetime = ros::Duration(duration);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                <span class="comment">// Set geomatric shape</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                <a class="code" href="classVisualizer.html#a7dfc1493f222672a9660139429cb4990">setMarkerType</a>(v, m);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                ROS_DEBUG(<span class="stringliteral">&quot;Added marker with class default to %s&quot;</span>, ns.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>());</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        <span class="comment">// Add marker of any class</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                <span class="comment">// Add class to the map if not defined use default values</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                <a class="code" href="structVisualizer_1_1MarkerInfo.html">MarkerInfo</a>&amp; m = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[class_name];</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.action = visualization_msgs::Marker::ADD;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.ns = ns;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;show_text&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#a5135ad625672009d7ba122fb891492c5">show_text</a>, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].show_text);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;show_cov&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#aa521c5fcd0b1f4a89dc9dc1d9398b696">show_cov</a>, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].show_cov);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;r&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.r, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.color.r);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;g&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.g, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.color.g);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;b&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.b, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.color.b);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;alpha&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.color.a, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.color.a);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;scale_x&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.scale.x, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.scale.x);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;scale_y&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.scale.y, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.scale.y);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;scale_z&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.scale.z, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.scale.z);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_x_pos&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.position.x, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.position.x);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_y_pos&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.position.y, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.position.y);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_z_pos&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.position.z, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.position.z);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_x_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.x, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.orientation.x);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_y_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.y, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.orientation.y);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_z_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.z, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.orientation.z);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;offset_w_rot&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.pose.orientation.w, <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.pose.orientation.w);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                <span class="keywordtype">double</span> duration = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;default&quot;</span>].shape_marker.lifetime.toSec();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;duration&quot;</span>, duration, duration);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.lifetime = ros::Duration(duration);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#a98db978e201a6a7ae513c90fd63925d7">text_marker</a>.lifetime = ros::Duration(duration);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                <span class="comment">// Set appropriate marker geometry</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                <a class="code" href="classVisualizer.html#a7dfc1493f222672a9660139429cb4990">setMarkerType</a>(v, m);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                ROS_DEBUG(<span class="stringliteral">&quot;Added marker with class %s to %s&quot;</span>, class_name.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>(), ns.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>());</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        ROS_WARN(<span class="stringliteral">&quot;Parameter specification not a list (parameter ignored)!&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">// Check if text marker is defined</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.find(<span class="stringliteral">&quot;text&quot;</span>) ==  <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.end()) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                ROS_ERROR(<span class="stringliteral">&quot;Marker with class text must be defined!&quot;</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">// Set text markers for all classes with text marker properties</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        visualization_msgs::Marker default_text_marker = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>[<span class="stringliteral">&quot;text&quot;</span>].shape_marker;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">for</span>(<a class="codeRef" href="https://en.cppreference.com/w/cpp/container/map.html">map&lt;string, MarkerInfo&gt;::iterator</a> it = <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.begin(); it != <a class="code" href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">object_class_to_marker_map_</a>.end(); ++it) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                it-&gt;second.text_marker = default_text_marker;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                it-&gt;second.text_marker.type = visualization_msgs::Marker::TEXT_VIEW_FACING;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> * Set appropriate marker type</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="classVisualizer.html#a7dfc1493f222672a9660139429cb4990">  454</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classVisualizer.html#a7dfc1493f222672a9660139429cb4990">Visualizer::setMarkerType</a>(XmlRpc::XmlRpcValue&amp; v, <a class="code" href="structVisualizer_1_1MarkerInfo.html">MarkerInfo</a>&amp; m) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="comment">// Check if a mesh is defined</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">if</span> (m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.mesh_resource != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.type = visualization_msgs::Marker::MESH_RESOURCE;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                ROS_INFO(<span class="stringliteral">&quot;mesh_resource = %s&quot;</span>, m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.mesh_resource.c_str());</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="comment">// If no mesh defined, get geometry type or use default</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="comment">// Get marker type from parameter server</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="keywordtype">string</span> marker_type;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <a class="code" href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">getStructValue</a>(v, <span class="stringliteral">&quot;type&quot;</span>, marker_type, <a class="code" href="namespacevisualize.html#a8f920032068769d91e318c907a42dca3">visualize::DEFAULT_TYPE</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="comment">// Convert type to lower case only</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <a class="codeRef" href="https://en.cppreference.com/w/cpp/algorithm/transform.html">std::transform</a>(marker_type.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/begin.html">begin</a>(), marker_type.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/end.html">end</a>(), marker_type.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/begin.html">begin</a>(), ::tolower);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="comment">// Set appropriate type</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">if</span> (marker_type == <span class="stringliteral">&quot;cube&quot;</span>) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                        m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.type = visualization_msgs::Marker::CUBE;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (marker_type == <span class="stringliteral">&quot;cylinder&quot;</span>) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.type = visualization_msgs::Marker::CYLINDER;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (marker_type == <span class="stringliteral">&quot;arrow&quot;</span>) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.type = visualization_msgs::Marker::ARROW;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (marker_type == <span class="stringliteral">&quot;sphere&quot;</span>) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.type = visualization_msgs::Marker::SPHERE;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        ROS_WARN(<span class="stringliteral">&quot;Defined marker type %s, which is unknown. Using sphere instead.&quot;</span>, marker_type.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>());</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        m.<a class="code" href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">shape_marker</a>.type = visualization_msgs::Marker::SPHERE;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> * Get attribute settings (which attributes should be present in the text labels)</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classVisualizer.html#ab01f699048a586a9b3419738411e236a">  494</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classVisualizer.html#ab01f699048a586a9b3419738411e236a">Visualizer::getAttributeSettings</a>(ros::NodeHandle&amp; n, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; ns) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordtype">string</span> param_name = ns + <span class="stringliteral">&quot;_attributes&quot;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">// Get marker parameters from the parameter server</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        XmlRpc::XmlRpcValue attribute_params;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">if</span> (!n.getParam(param_name, attribute_params)) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                ROS_ERROR(<span class="stringliteral">&quot;No global \&quot;%s\&quot; parameters given. (namespace: %s)&quot;</span>, param_name.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>(), n.getNamespace().c_str());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">// Check if the marker parameters are of type array</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span> (attribute_params.getType() != XmlRpc::XmlRpcValue::TypeArray) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                ROS_ERROR(<span class="stringliteral">&quot;Malformed \&quot;attributes\&quot; parameter specification.  (namespace: %s)&quot;</span>, n.getNamespace().c_str());</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// Iterate over the marker parameters in array</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; attribute_params.size(); ++i) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <span class="comment">// Get the list</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                XmlRpc::XmlRpcValue&amp; v = attribute_params[i];</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="comment">// Iterate over the list</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                ROS_DEBUG(<span class="stringliteral">&quot;Attributes for %s:&quot;</span>, ns.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>());</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="keywordflow">for</span> (XmlRpc::XmlRpcValue::iterator it = v.begin(); it != v.end(); ++it) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        <span class="keywordtype">string</span> att_name = <span class="keyword">static_cast&lt;</span><span class="keywordtype">string</span><span class="keyword">&gt;</span>(it-&gt;first);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        <span class="keywordtype">bool</span> att_bool = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(it-&gt;second);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                        <a class="code" href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">attribute_map_</a>[att_name] = att_bool;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        ROS_DEBUG(<span class="stringliteral">&quot; %s will %s shown&quot;</span>, att_name.<a class="codeRef" href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">c_str</a>(), att_bool?<span class="stringliteral">&quot;be&quot;</span>:<span class="stringliteral">&quot;not be&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassVisualizer_html_a1b31f10029797de5e95cfb9a1ea6d2ce"><div class="ttname"><a href="classVisualizer.html#a1b31f10029797de5e95cfb9a1ea6d2ce">Visualizer::getStructValue</a></div><div class="ttdeci">void getStructValue(XmlRpc::XmlRpcValue &amp;s, const std::string &amp;name, float &amp;f, float default_value)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00275">Visualizer.cpp:275</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a8e2e93e95d0133cbc45a10f6e58dd466"><div class="ttname"><a href="namespacevisualize.html#a8e2e93e95d0133cbc45a10f6e58dd466">visualize::DEFAULT_COLOR_ALPHA</a></div><div class="ttdeci">double DEFAULT_COLOR_ALPHA</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00021">default_values.h:21</a></div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html_a011b1bd8e470e856b50090de57119407"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html#a011b1bd8e470e856b50090de57119407">pbl::PDF::type</a></div><div class="ttdeci">PDFType type() const</div></div>
<div class="ttc" id="astructVisualizer_1_1MarkerInfo_html_a5135ad625672009d7ba122fb891492c5"><div class="ttname"><a href="structVisualizer_1_1MarkerInfo.html#a5135ad625672009d7ba122fb891492c5">Visualizer::MarkerInfo::show_text</a></div><div class="ttdeci">bool show_text</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00061">Visualizer.h:61</a></div></div>
<div class="ttc" id="anamespacevisualize_html_ad50eba57b5983d7f5e1187f31b2a2914"><div class="ttname"><a href="namespacevisualize.html#ad50eba57b5983d7f5e1187f31b2a2914">visualize::DEFAULT_COLOR_G</a></div><div class="ttdeci">double DEFAULT_COLOR_G</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00019">default_values.h:19</a></div></div>
<div class="ttc" id="abasic_string_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></div></div>
<div class="ttc" id="aclassVisualizer_html_a97fd9b269d9aeb040d3a627ed0202439"><div class="ttname"><a href="classVisualizer.html#a97fd9b269d9aeb040d3a627ed0202439">Visualizer::tf_listener_</a></div><div class="ttdeci">tf::TransformListener * tf_listener_</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00068">Visualizer.h:68</a></div></div>
<div class="ttc" id="aclassVisualizer_html_af3ee1b355ed0cdff3339e2fd9adfd488"><div class="ttname"><a href="classVisualizer.html#af3ee1b355ed0cdff3339e2fd9adfd488">Visualizer::setTFListener</a></div><div class="ttdeci">void setTFListener(tf::TransformListener *tf_listener)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00220">Visualizer.cpp:220</a></div></div>
<div class="ttc" id="aclasspbl_1_1Mixture_html_a33fa19a784936e5b0e9e8f3143d97d32"><div class="ttname"><a href="../../problib/html/classpbl_1_1Mixture.html#a33fa19a784936e5b0e9e8f3143d97d32">pbl::Mixture::getComponent</a></div><div class="ttdeci">const PDF &amp; getComponent(int i) const</div></div>
<div class="ttc" id="anamespacevisualize_html_a7b9934a092e2644b10d992843606176a"><div class="ttname"><a href="namespacevisualize.html#a7b9934a092e2644b10d992843606176a">visualize::DEFAULT_SHOW_TEXT</a></div><div class="ttdeci">bool DEFAULT_SHOW_TEXT</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00015">default_values.h:15</a></div></div>
<div class="ttc" id="avector_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector.html">std::vector</a></div></div>
<div class="ttc" id="afind_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/map/find.html">std::map::find</a></div><div class="ttdeci">T find(T... args)</div></div>
<div class="ttc" id="anamespacevisualize_html_afa45fd14b797d492308a8747dd175dd4"><div class="ttname"><a href="namespacevisualize.html#afa45fd14b797d492308a8747dd175dd4">visualize::DEFAULT_COLOR_R</a></div><div class="ttdeci">double DEFAULT_COLOR_R</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00018">default_values.h:18</a></div></div>
<div class="ttc" id="astructVisualizer_1_1MarkerInfo_html_a98db978e201a6a7ae513c90fd63925d7"><div class="ttname"><a href="structVisualizer_1_1MarkerInfo.html#a98db978e201a6a7ae513c90fd63925d7">Visualizer::MarkerInfo::text_marker</a></div><div class="ttdeci">visualization_msgs::Marker text_marker</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00058">Visualizer.h:58</a></div></div>
<div class="ttc" id="astructVisualizer_1_1MarkerInfo_html_aa521c5fcd0b1f4a89dc9dc1d9398b696"><div class="ttname"><a href="structVisualizer_1_1MarkerInfo.html#aa521c5fcd0b1f4a89dc9dc1d9398b696">Visualizer::MarkerInfo::show_cov</a></div><div class="ttdeci">bool show_cov</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00060">Visualizer.h:60</a></div></div>
<div class="ttc" id="aclassVisualizer_html_a7bf79eedb5d8a2ba38190bc020e5518b"><div class="ttname"><a href="classVisualizer.html#a7bf79eedb5d8a2ba38190bc020e5518b">Visualizer::color_mapping_</a></div><div class="ttdeci">std::map&lt; std::string, Color &gt; color_mapping_</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00065">Visualizer.h:65</a></div></div>
<div class="ttc" id="abasic_stringstream_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/io/basic_stringstream.html">std::stringstream</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a45e128998732549141485753a69c92a8"><div class="ttname"><a href="namespacevisualize.html#a45e128998732549141485753a69c92a8">visualize::DEFAULT_OFFSET_Y_ROT</a></div><div class="ttdeci">double DEFAULT_OFFSET_Y_ROT</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00029">default_values.h:29</a></div></div>
<div class="ttc" id="anamespacevisualize_html_af4172ac11babfb086279cbb33234a137"><div class="ttname"><a href="namespacevisualize.html#af4172ac11babfb086279cbb33234a137">visualize::DEFAULT_SCALE_Y</a></div><div class="ttdeci">double DEFAULT_SCALE_Y</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00023">default_values.h:23</a></div></div>
<div class="ttc" id="aclasspbl_1_1Gaussian_html_a2f26a0259dee3c92d0e0a1833e5f51f6"><div class="ttname"><a href="../../problib/html/classpbl_1_1Gaussian.html#a2f26a0259dee3c92d0e0a1833e5f51f6">pbl::Gaussian::getMean</a></div><div class="ttdeci">const arma::vec &amp; getMean() const</div></div>
<div class="ttc" id="anamespacevisualize_html_a0a0f83ea9ee038fe4d77a241571f53c2"><div class="ttname"><a href="namespacevisualize.html#a0a0f83ea9ee038fe4d77a241571f53c2">visualize::DEFAULT_COLOR_B</a></div><div class="ttdeci">double DEFAULT_COLOR_B</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00020">default_values.h:20</a></div></div>
<div class="ttc" id="aclassVisualizer_html_ab01f699048a586a9b3419738411e236a"><div class="ttname"><a href="classVisualizer.html#ab01f699048a586a9b3419738411e236a">Visualizer::getAttributeSettings</a></div><div class="ttdeci">bool getAttributeSettings(ros::NodeHandle &amp;n, const std::string &amp;ns)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00494">Visualizer.cpp:494</a></div></div>
<div class="ttc" id="anamespacepbl_html_a838425c78a7dc7178e51e65feaa6b953"><div class="ttname"><a href="../../problib/html/namespacepbl.html#a838425c78a7dc7178e51e65feaa6b953">pbl::PDFtoGaussian</a></div><div class="ttdeci">const Gaussian * PDFtoGaussian(const PDF &amp;pdf)</div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html">pbl::PDF</a></div></div>
<div class="ttc" id="aclasspbl_1_1Gaussian_html"><div class="ttname"><a href="../../problib/html/classpbl_1_1Gaussian.html">pbl::Gaussian</a></div></div>
<div class="ttc" id="asqrt_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/numeric/math/sqrt.html">std::sqrt</a></div><div class="ttdeci">T sqrt(T... args)</div></div>
<div class="ttc" id="anamespacepbl_html_a1bc05bc1a29666ecc3950bf0aaf6549b"><div class="ttname"><a href="../../problib/html/namespacepbl.html#a1bc05bc1a29666ecc3950bf0aaf6549b">pbl::PDFtoMixture</a></div><div class="ttdeci">const Mixture * PDFtoMixture(const PDF &amp;pdf)</div></div>
<div class="ttc" id="anamespacevisualize_html_af2ebcb096bea3b3f17d1ba0d451c4cd7"><div class="ttname"><a href="namespacevisualize.html#af2ebcb096bea3b3f17d1ba0d451c4cd7">visualize::DEFAULT_OFFSET_X_POS</a></div><div class="ttdeci">double DEFAULT_OFFSET_X_POS</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00025">default_values.h:25</a></div></div>
<div class="ttc" id="adefault__values_8h_html"><div class="ttname"><a href="default__values_8h.html">default_values.h</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a859de754d785aef256d77f655ebe4a8e"><div class="ttname"><a href="namespacevisualize.html#a859de754d785aef256d77f655ebe4a8e">visualize::DEFAULT_OFFSET_Y_POS</a></div><div class="ttdeci">double DEFAULT_OFFSET_Y_POS</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00026">default_values.h:26</a></div></div>
<div class="ttc" id="apush_back_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector/push_back.html">std::vector::push_back</a></div><div class="ttdeci">T push_back(T... args)</div></div>
<div class="ttc" id="anamespacevisualize_html_ae5c0bf7064104f2217e02d23f8cb1a00"><div class="ttname"><a href="namespacevisualize.html#ae5c0bf7064104f2217e02d23f8cb1a00">visualize::DEFAULT_SCALE_X</a></div><div class="ttdeci">double DEFAULT_SCALE_X</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00022">default_values.h:22</a></div></div>
<div class="ttc" id="aclasspbl_1_1Mixture_html_a487a0607965f1fa0f35f8fbd2357c458"><div class="ttname"><a href="../../problib/html/classpbl_1_1Mixture.html#a487a0607965f1fa0f35f8fbd2357c458">pbl::Mixture::getWeight</a></div><div class="ttdeci">double getWeight(int i) const</div></div>
<div class="ttc" id="anamespacevisualize_html_a7e7b0aad2a5ed4de4390dece00deca48"><div class="ttname"><a href="namespacevisualize.html#a7e7b0aad2a5ed4de4390dece00deca48">visualize::DEFAULT_OFFSET_W_ROT</a></div><div class="ttdeci">double DEFAULT_OFFSET_W_ROT</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00031">default_values.h:31</a></div></div>
<div class="ttc" id="ac_str_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/string/basic_string/c_str.html">std::string::c_str</a></div><div class="ttdeci">T c_str(T... args)</div></div>
<div class="ttc" id="anamespacevisualize_html_adc0e08b33c2294120e9622118093500f"><div class="ttname"><a href="namespacevisualize.html#adc0e08b33c2294120e9622118093500f">visualize::DEFAULT_OFFSET_Z_ROT</a></div><div class="ttdeci">double DEFAULT_OFFSET_Z_ROT</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00030">default_values.h:30</a></div></div>
<div class="ttc" id="aclasspbl_1_1Mixture_html"><div class="ttname"><a href="../../problib/html/classpbl_1_1Mixture.html">pbl::Mixture</a></div></div>
<div class="ttc" id="aclassVisualizer_html_ad0653f6d43c0187f761b426752593444"><div class="ttname"><a href="classVisualizer.html#ad0653f6d43c0187f761b426752593444">Visualizer::attribute_map_</a></div><div class="ttdeci">std::map&lt; std::string, bool &gt; attribute_map_</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00074">Visualizer.h:74</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a226e4fcff16ea1f8d9ec2c493125ab7c"><div class="ttname"><a href="namespacevisualize.html#a226e4fcff16ea1f8d9ec2c493125ab7c">visualize::DEFAULT_OFFSET_Z_POS</a></div><div class="ttdeci">double DEFAULT_OFFSET_Z_POS</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00027">default_values.h:27</a></div></div>
<div class="ttc" id="anamespacepbl_html_add0e4e7594300cd53e837e20e5549fa4"><div class="ttname"><a href="../../problib/html/namespacepbl.html#add0e4e7594300cd53e837e20e5549fa4">pbl::msgToPDF</a></div><div class="ttdeci">PDF * msgToPDF(const problib_msgs::PDF &amp;msg)</div></div>
<div class="ttc" id="astructVisualizer_1_1MarkerInfo_html"><div class="ttname"><a href="structVisualizer_1_1MarkerInfo.html">Visualizer::MarkerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00056">Visualizer.h:56</a></div></div>
<div class="ttc" id="aclasspbl_1_1Gaussian_html_a7ea75ec90ec7e9026bb3265bd916ed93"><div class="ttname"><a href="../../problib/html/classpbl_1_1Gaussian.html#a7ea75ec90ec7e9026bb3265bd916ed93">pbl::Gaussian::getCovariance</a></div><div class="ttdeci">const arma::mat &amp; getCovariance() const</div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html_aba652e46f5290da9745994cac0e78379aaf7cb21250734802ba35de4fba678fa7"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html#aba652e46f5290da9745994cac0e78379aaf7cb21250734802ba35de4fba678fa7">pbl::PDF::DISCRETE</a></div><div class="ttdeci">DISCRETE</div></div>
<div class="ttc" id="aclasspbl_1_1Mixture_html_a56b1e055fd75747401d5c19321219676"><div class="ttname"><a href="../../problib/html/classpbl_1_1Mixture.html#a56b1e055fd75747401d5c19321219676">pbl::Mixture::components</a></div><div class="ttdeci">int components() const</div></div>
<div class="ttc" id="amap_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/map.html">std::map</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a58018d0a1e1a3ce802798fa08a7c795f"><div class="ttname"><a href="namespacevisualize.html#a58018d0a1e1a3ce802798fa08a7c795f">visualize::DEFAULT_OFFSET_X_ROT</a></div><div class="ttdeci">double DEFAULT_OFFSET_X_ROT</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00028">default_values.h:28</a></div></div>
<div class="ttc" id="atransform_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/algorithm/transform.html">std::transform</a></div><div class="ttdeci">T transform(T... args)</div></div>
<div class="ttc" id="anamespacevisualize_html_a95dcd2c1ac5cc7ff045572b31e06afc0"><div class="ttname"><a href="namespacevisualize.html#a95dcd2c1ac5cc7ff045572b31e06afc0">visualize::DEFAULT_MARKER_LIFETIME</a></div><div class="ttdeci">double DEFAULT_MARKER_LIFETIME</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00033">default_values.h:33</a></div></div>
<div class="ttc" id="aclassVisualizer_html_adc12e1fd124cd1e4ecefecad1428a3c8"><div class="ttname"><a href="classVisualizer.html#adc12e1fd124cd1e4ecefecad1428a3c8">Visualizer::setParameters</a></div><div class="ttdeci">bool setParameters(ros::NodeHandle &amp;n, const std::string &amp;ns)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00310">Visualizer.cpp:310</a></div></div>
<div class="ttc" id="abegin_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector/begin.html">std::vector::begin</a></div><div class="ttdeci">T begin(T... args)</div></div>
<div class="ttc" id="anamespacevisualize_html_a60a52c49aac95ecaa38a9b52240747b6"><div class="ttname"><a href="namespacevisualize.html#a60a52c49aac95ecaa38a9b52240747b6">visualize::DEFAULT_SCALE_Z</a></div><div class="ttdeci">double DEFAULT_SCALE_Z</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00024">default_values.h:24</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="https://en.cppreference.com/w/namespacestd.html">std</a></div></div>
<div class="ttc" id="aclassVisualizer_html_ab5983eea9ec193d9fe4a8b12d8acfb09"><div class="ttname"><a href="classVisualizer.html#ab5983eea9ec193d9fe4a8b12d8acfb09">Visualizer::object_class_to_marker_map_</a></div><div class="ttdeci">std::map&lt; std::string, MarkerInfo &gt; object_class_to_marker_map_</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00071">Visualizer.h:71</a></div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html_ac9ff7596aef72e859b72cd10cc97856e"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html#ac9ff7596aef72e859b72cd10cc97856e">pbl::PDF::dimensions</a></div><div class="ttdeci">int dimensions() const</div></div>
<div class="ttc" id="aclassVisualizer_html_a401d5c5a6900476f5a30b75365f5ba1b"><div class="ttname"><a href="classVisualizer.html#a401d5c5a6900476f5a30b75365f5ba1b">Visualizer::getMarkerParameters</a></div><div class="ttdeci">bool getMarkerParameters(ros::NodeHandle &amp;n, const std::string &amp;ns)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00324">Visualizer.cpp:324</a></div></div>
<div class="ttc" id="aVisualizer_8h_html"><div class="ttname"><a href="Visualizer_8h.html">Visualizer.h</a></div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html_aba652e46f5290da9745994cac0e78379a73961eab1e18e0293800c9f9f8c9dec7"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html#aba652e46f5290da9745994cac0e78379a73961eab1e18e0293800c9f9f8c9dec7">pbl::PDF::MIXTURE</a></div><div class="ttdeci">MIXTURE</div></div>
<div class="ttc" id="astr_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/io/basic_stringstream/str.html">std::stringstream::str</a></div><div class="ttdeci">T str(T... args)</div></div>
<div class="ttc" id="aclassVisualizer_html_a84d7c575eb5dd4c62a0bc24f99a7eaf6"><div class="ttname"><a href="classVisualizer.html#a84d7c575eb5dd4c62a0bc24f99a7eaf6">Visualizer::createMarkers</a></div><div class="ttdeci">bool createMarkers(const std_msgs::Header &amp;header, long ID, const std::vector&lt; wire_msgs::Property &gt; &amp;props, std::vector&lt; visualization_msgs::Marker &gt; &amp;markers_out, const std::string &amp;frame_id)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00038">Visualizer.cpp:38</a></div></div>
<div class="ttc" id="aclassVisualizer_html_a013ec3101407fbe4805f289bc32d1265"><div class="ttname"><a href="classVisualizer.html#a013ec3101407fbe4805f289bc32d1265">Visualizer::~Visualizer</a></div><div class="ttdeci">virtual ~Visualizer()</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00031">Visualizer.cpp:31</a></div></div>
<div class="ttc" id="aclassVisualizer_html_aef7047d885e4ebcdaf28ad176717f657"><div class="ttname"><a href="classVisualizer.html#aef7047d885e4ebcdaf28ad176717f657">Visualizer::getBestGaussian</a></div><div class="ttdeci">const pbl::Gaussian * getBestGaussian(const pbl::PDF &amp;pdf, double min_weight=0)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00227">Visualizer.cpp:227</a></div></div>
<div class="ttc" id="aclassVisualizer_html_a104487003c9fea602e26c072aae27efc"><div class="ttname"><a href="classVisualizer.html#a104487003c9fea602e26c072aae27efc">Visualizer::Visualizer</a></div><div class="ttdeci">Visualizer()</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00013">Visualizer.cpp:13</a></div></div>
<div class="ttc" id="aend_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/container/vector/end.html">std::vector::end</a></div><div class="ttdeci">T end(T... args)</div></div>
<div class="ttc" id="aclassVisualizer_html_a7dfc1493f222672a9660139429cb4990"><div class="ttname"><a href="classVisualizer.html#a7dfc1493f222672a9660139429cb4990">Visualizer::setMarkerType</a></div><div class="ttdeci">void setMarkerType(XmlRpc::XmlRpcValue &amp;v, MarkerInfo &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8cpp_source.html#l00454">Visualizer.cpp:454</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a8f920032068769d91e318c907a42dca3"><div class="ttname"><a href="namespacevisualize.html#a8f920032068769d91e318c907a42dca3">visualize::DEFAULT_TYPE</a></div><div class="ttdeci">std::string DEFAULT_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00032">default_values.h:32</a></div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html_aa7a2f5f2fb44600508e42a981fdb05a8"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html#aa7a2f5f2fb44600508e42a981fdb05a8">pbl::PDF::getExpectedValue</a></div><div class="ttdeci">virtual bool getExpectedValue(arma::vec &amp;v) const</div></div>
<div class="ttc" id="anamespacepbl_html_ad482b8fd5913dda4f195b54fb1451d4e"><div class="ttname"><a href="../../problib/html/namespacepbl.html#ad482b8fd5913dda4f195b54fb1451d4e">pbl::Vector</a></div><div class="ttdeci">arma::vec Vector</div></div>
<div class="ttc" id="astructColor_html"><div class="ttname"><a href="structColor.html">Color</a></div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00026">Visualizer.h:26</a></div></div>
<div class="ttc" id="aclasspbl_1_1PDF_html_aba652e46f5290da9745994cac0e78379a3c5de1fefb7fa1587270306a0d8dadda"><div class="ttname"><a href="../../problib/html/classpbl_1_1PDF.html#aba652e46f5290da9745994cac0e78379a3c5de1fefb7fa1587270306a0d8dadda">pbl::PDF::GAUSSIAN</a></div><div class="ttdeci">GAUSSIAN</div></div>
<div class="ttc" id="astructVisualizer_1_1MarkerInfo_html_ad279ac153523a829b46a0d9187588f09"><div class="ttname"><a href="structVisualizer_1_1MarkerInfo.html#ad279ac153523a829b46a0d9187588f09">Visualizer::MarkerInfo::shape_marker</a></div><div class="ttdeci">visualization_msgs::Marker shape_marker</div><div class="ttdef"><b>Definition:</b> <a href="Visualizer_8h_source.html#l00057">Visualizer.h:57</a></div></div>
<div class="ttc" id="anamespacevisualize_html_a29919fd20966f9e3555d3c5a87b4b64f"><div class="ttname"><a href="namespacevisualize.html#a29919fd20966f9e3555d3c5a87b4b64f">visualize::DEFAULT_SHOW_COV</a></div><div class="ttdeci">bool DEFAULT_SHOW_COV</div><div class="ttdef"><b>Definition:</b> <a href="default__values_8h_source.html#l00016">default_values.h:16</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 14 2025 04:39:07 for wire_viz by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
