<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rgbd: Test</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rgbd
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Test </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This file contains information about the test nodes and a correct procedure to test the communication.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Test Nodes</h1>
<p>The nodes are split into two types, server and client nodes.</p>
<p>The server nodes generate an artificial image and distribute it via their specific way of communication. The client nodes use their specific way of communication to receive an image and show it on a gui. The server and client nodes with matching names should always communicate with each other.</p>
<p>Server nodes:</p>
<ul>
<li><code>rgbd_test_server_ros</code>: Publishes an image via default <a class="el" href="classROS.html">ROS</a> image message with the use of the <code>ServerROS</code> class.</li>
<li><code>rgbd_test_server_rgbd</code>: Publishes an image via the custom <a class="el" href="classRGBD.html">RGBD</a> message on a <a class="el" href="classROS.html">ROS</a> topic with the use of the <code>ServerRGBD</code> class. This also provides the <a class="el" href="classRGBD.html">RGBD</a> service.</li>
<li><code>rgbd_test_server_shm</code>: Publishes an image via shared memory communication with the use of the <code>ServerSHM</code> class.</li>
<li><code>rgbd_test_server</code>: Provides the interfaces of the <code>Server</code> class. This includes the interface of <code>ServerRGBD</code> and <code>ServrSHM</code> combined with a hostname topic.</li>
</ul>
<p>Client nodes:</p>
<ul>
<li><code>rgbd_test_client_ros</code>: Subsribes to the default <a class="el" href="classROS.html">ROS</a> image topics to receive an image with the use of the <code>ClientROS</code> class.</li>
<li><code>rgbd_test_client_rgbd</code>: Subsribes to the custom <a class="el" href="classRGBD.html">RGBD</a> topic with the use of the <code>ClientRGBD</code> class.</li>
<li><code>rgbd_test_client_shm</code>: Receives an image via shared memory communication with the use of the <code>ClientSHM</code> class. <b>Note</b>: This node has an initialization timeout. The shared memory needs needs to be created before this timeout ends. So start the server node providing the shared memory either before or directly after starting this node.</li>
<li><code>rgbd_test_client</code>: Receives images via either the <a class="el" href="classRGBD.html">RGBD</a> topic or shared memory communication with the use of the <code>Client</code> class. It switched between these two based on a hostname topic to determine the availability of shared memory communication, but uses <a class="el" href="classRGBD.html">RGBD</a> as a fallback.</li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
Test procedure</h1>
<p>As mentioned earlier, the server and client nodes with matching names should always communicate with each other.</p>
<p>The nodes communicating via <a class="el" href="classROS.html">ROS</a> topics, <code>*_ros</code> and <code>*_rgbd</code>, can be started, closed and restarted in any order. The nodes should always reconnect automatically and the client node should show new images. Test this by opening the server before the client and vice-versa. Test the reconnection by closing the first node and restart it again. Try mutltiple time intervals.</p>
<p>The bare shared memory nodes, <code>rgbd_test_server_shm</code> and <code>rgbd_test_client_shm</code>, are not that robust by themselves. These don't reconnect and the shared memory needs to be opened before the timoeut of the client nodes has ended. Otherwise no communication will be established. Test this by opening the server before the client or just directly after.</p>
<p>The robust <code>rgbd_test_server</code> and <code>rgbd_test_client</code> should always reconnect. Apply the same test procedure as the nodes using <a class="el" href="classROS.html">ROS</a> topics. When both are running on the same machine, communication should be happening via the shared memory. This can be checked by either <code>rostopic info</code> or <code>rosnode info</code>.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Cross testing</h2>
<p>To verify the robust behaviour of the classes perform the following tests:</p>
<ol type="1">
<li>Combine the <code>rgbd_test_client</code> with <code>rgbd_test_server_rgbd</code>. This should always reconnect.</li>
<li>Extend the first test by starting a <code>rgbd_to_shm</code> node. (<b>Note</b>: This node should be run on the same machine as the client node. This might require some remapping of the <a class="el" href="classRGBD.html">RGBD</a> topic.) The client node should switch from <a class="el" href="classRGBD.html">RGBD</a> communication to shared memory communication. By closing the <code>rgbd_to_shm</code> node, the client node should switch back to the <a class="el" href="classRGBD.html">RGBD</a> topic. After both opening and closing of the <code>rgbd_to_shm</code> node, check the way of communication again via either <code>rostopic info</code> or <code>rosnode info</code>.</li>
<li>Start the <code>rgbd_test_server</code> followed by the <code>rgbd_test_client_shm</code>. Apply the same test as used by the <code>rgbd_test_server_shm</code>. As <code>rgbd_test_server</code> provides the same shared memory communication and extra <a class="el" href="classRGBD.html">RGBD</a> topic and service.</li>
<li>In any test, the <code>rgbd_test_server</code> can be replaced by the combination of the <code>rgbd_test_server_ros</code> with the <code>ros_to_rgbd</code> nodes.</li>
<li>In any test, the <code>rgbd_test_client</code> can be replaced by the combination of the <code>rgbd_to_ros</code> and the <code>rgbd_test_client_ros</code> nodes. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 2 2025 04:47:10 for rgbd by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
